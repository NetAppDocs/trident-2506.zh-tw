---
sidebar: sidebar 
permalink: trident-use/trident-aws-addon.html 
keywords: Trident add-on, Trident EKS add-on, Trident AWS EKS add-on, integrate Trident, Trident 
summary: 將Trident EKS 外掛程式新增至 Kubernetes 叢集。 
---
= 在 EKS 叢集上設定Trident EKS 插件
:hardbreaks:
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
NetApp Trident簡化了 Kubernetes 中Amazon FSx for NetApp ONTAP儲存管理，讓您的開發人員和管理員專注於應用程式部署。  NetApp Trident EKS 外掛程式包含最新的安全性修補程式和錯誤修復，並經過 AWS 驗證，可與 Amazon EKS 搭配使用。  EKS 外掛程式可讓您持續確保 Amazon EKS 叢集的安全性和穩定性，並減少安裝、設定和更新外掛程式所需的工作量。



== 先決條件

在為 AWS EKS 設定Trident外掛程式之前，請確保您已具備以下條件：

* 具有使用插件權限的 Amazon EKS 叢集帳戶。參考link:https://docs.aws.amazon.com/eks/latest/userguide/eks-add-ons.html["Amazon EKS 附加元件"^]。
* AWS 對 AWS Marketplace 的權限：
`"aws-marketplace:ViewSubscriptions",
"aws-marketplace:Subscribe",
"aws-marketplace:Unsubscribe`
* AMI 類型：Amazon Linux 2 (AL2_x86_64) 或 Amazon Linux 2 Arm (AL2_ARM_64)
* 節點類型：AMD 或ARM
* 現有的Amazon FSx for NetApp ONTAP檔案系統




== 步驟

. 請務必建立 IAM 角色和 AWS 金鑰，以使 EKS pod 能夠存取 AWS 資源。有關說明，請參閱link:../trident-use/trident-fsx-iam-role.html["建立 IAM 角色和 AWS Secret"^]。
. 在 EKS Kubernetes 叢集上，導覽至「附加元件」標籤。
+
image::../media/aws-eks-01.png[aws eks 01]

. 前往 *AWS Marketplace 外掛程式*，然後選擇 _storage_ 類別。
+
image::../media/aws-eks-02.png[aws eks 02]

. 找到 * NetApp Trident*，選取Trident程式的複選框，然後按一下 *下一步*。
. 選擇所需的插件版本。
+
image::../media/aws-eks-03.png[aws eks 03]

. 配置所需的附加元件設定。
+
image::../media/aws-eks-04.png[aws eks 04]

. 如果您使用的是 IRSA（服務帳戶的 IAM 角色），請參閱其他設定步驟。link:https://docs.netapp.com/us-en/trident/trident-use/trident-fsx-install-trident.html#enable-the-trident-add-on-for-aws["這裡"] 。
. 選擇“*創建*”。
. 確認插件狀態為_Active_。
+
image::../media/aws-eks-05.png[aws eks 05]

. 執行以下命令以驗證Trident是否已正確安裝在叢集上：
+
[listing]
----
kubectl get pods -n trident
----
. 繼續進行設定並配置儲存後端。有關信息，請參閱link:../trident-use/trident-fsx-storage-backend.html["配置儲存後端"^]。




== 使用 CLI 安裝/解除安裝Trident EKS 插件

.使用 CLI 安裝NetApp Trident EKS 外掛：
以下範例指令安裝Trident EKS 外掛：
`eksctl create addon --cluster clusterName --name netapp_trident-operator --version v25.6.0-eksbuild.1` （另有專用版本）

.使用 CLI 卸載NetApp Trident EKS 外掛程式：
以下指令卸載Trident EKS 外掛程式：

[listing]
----
eksctl delete addon --cluster K8s-arm --name netapp_trident-operator
----