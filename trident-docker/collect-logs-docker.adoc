---
sidebar: sidebar 
permalink: trident-docker/collect-logs-docker.html 
keywords: deploy, Trident, trident for docker, docker, logs, binary, managed plugin 
summary: 您可以收集日誌以協助進行故障排除。收集日誌的方法取決於您執行 Docker 外掛程式的方式。 
---
= 收集日誌
:hardbreaks:
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
您可以收集日誌以協助進行故障排除。收集日誌的方法取決於您執行 Docker 外掛程式的方式。



== 收集日誌以進行故障排除

.步驟
. 如果您使用建議的託管外掛程式方法執行Trident （即，使用 `docker plugin`命令），可以這樣理解：
+
[source, console]
----
docker plugin ls
----
+
[listing]
----
ID                  NAME                DESCRIPTION                          ENABLED
4fb97d2b956b        netapp:latest       nDVP - NetApp Docker Volume Plugin   false
journalctl -u docker | grep 4fb97d2b956b
----
+
標準日誌等級應該足以診斷大多數問題。如果這還不夠，您可以啟用偵錯日誌記錄。

. 若要啟用偵錯日誌記錄，請安裝啟用調試日誌記錄功能的外掛程式：
+
[source, console]
----
docker plugin install netapp/trident-plugin:<version> --alias <alias> debug=true
----
+
或者，在插件已安裝的情況下啟用調試日誌記錄：

+
[source, console]
----
docker plugin disable <plugin>
----
+
[source, console]
----
docker plugin set <plugin> debug=true
----
+
[source, console]
----
docker plugin enable <plugin>
----
. 如果您在主機上執行該二進位文件，則日誌位於主機的目錄中。 `/var/log/netappdvp`目錄。若要啟用偵錯日誌記錄，請指定 `-debug`當你運行插件。




== 一般故障排除技巧

* 新用戶遇到的最常見問題是配置錯誤，導致插件無法初始化。發生這種情況時，當您嘗試安裝或啟用外掛程式時，可能會看到類似這樣的訊息：
+
`Error response from daemon: dial unix /run/docker/plugins/<id>/netapp.sock: connect: no such file or directory`

+
這意味著插件啟動失敗。幸運的是，該插件內建了全面的日誌記錄功能，應該可以幫助您診斷可能遇到的大多數問題。

* 如果將光電系統安裝到貨櫃上遇到問題，請確保： `rpcbind`已安裝並正在運行。使用主機作業系統所需的軟體包管理器並檢查是否 `rpcbind`正在運行。您可以透過執行以下命令來檢查 rpcbind 服務的狀態： `systemctl status rpcbind`或其等效物。

