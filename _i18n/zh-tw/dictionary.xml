<?xml version="1.0" encoding="UTF-8"?>
<blocks>
  <block id="d41d8cd98f00b204e9800998ecf8427e" category="doc"></block>
  <block id="135b308ed83c53f1516b7c754566d1c4" category="paragraph-title">開始之前</block>
  <block id="09b3e69fece0c8fed98cbfa4f60560d0" category="paragraph">確保 AWS 會話令牌過期時間足以滿足任何長時間運行的 S3 備份作業。如果在備份作業期間令牌過期，則操作可能會失敗。</block>
  <block id="5eb831e0d78e65bcd3dba1b12bc07037" category="inline-link">AWS API 文件</block>
  <block id="acc296a904bd0d4d976a52cfe9fe9b8c" category="list-text">請參閱<block ref="718365c4473e4015a2556ceb49bc6d0e" category="inline-link-rx"></block>有關檢查當前會話令牌過期時間的詳細資訊。</block>
  <block id="47700faecc8b055ea48413402a7add11" category="inline-link">AWS IAM 文件</block>
  <block id="40a9530583ad3747ca30675858b0a6cd" category="list-text">請參閱<block ref="101809cc7793764f39e2d5fc223ea04c" category="inline-link-rx"></block>有關 AWS 資源憑證的詳細資訊。</block>
  <block id="782b4a6bf31d7d564f002ed80e56a970" category="doc">資料移動逾時註釋</block>
  <block id="2cf4114566459ea3b3a5ac507cb86fd9" category="paragraph">在備份和復原作業期間，您可以使用註解<block ref="f49fa3f76b2a4fcdf04dff369d417d84" prefix=" " category="inline-code"></block>配置資料傳輸操作的逾時時間。此註解指定資料移動器在逾時之前應等待特定操作完成的最長時間（以秒為單位）。在網路問題或其他因素可能導致資料傳輸操作停滯的情況下，它尤其有用。它有助於檢測和處理停滯的操作，而不是為整個過程設定通用的超時時間。例如，如果由於網路問題導致恢復磁碟區資料沒有進展，則操作將根據指定的持續時間逾時。</block>
  <block id="c2b7f24f4ddbaedb4e3d9e19f77eebac" category="paragraph">您可以在 YAML 檔案中使用此註解，如下所示：</block>
  <block id="14a0e26cbe187a4754f8b523ffba6073" category="paragraph">在這個例子中，註解失敗了。<block ref="ec2a2895b09b6030ec8cc1b3c43ddc4d" prefix=" " category="inline-code"></block>如果在恢復操作中 2 秒內沒有進展，則執行操作。</block>
  <block id="c49aaf233c16f1193a8d683c17866eea" category="admonition">如果註解值小於或等於 0，則操作將立即失敗。</block>
  <block id="26ff92fc2410a19d125f3783f36a21f5" category="paragraph">Trident Protect 24.10 和 24.10.1 及更高版本在保護運行在 KubeVirt VM 上的應用程式時表現出不同的行為。對於這兩個版本，您都可以在資料保護操作期間啟用或停用檔案系統凍結和解凍。</block>
  <block id="5ac5b84505fffb8149e9d0cb84ddedbe" category="admonition">在恢復操作期間，任何<block ref="890b633d48ac6398f14ae722463da08b" prefix=" " category="inline-code"></block>為虛擬機器 (VM) 建立的設定檔無法復原。</block>
  <block id="4d2e55f1e0d6587dd3b63700ee1065af" category="paragraph-title">Trident保護 24.10</block>
  <block id="2d261bce9a1e151a31ff22788033f212" category="paragraph">Trident protect 24.10 在資料保護作業期間不會自動確保 KubeVirt VM 檔案系統的一致性狀態。如果您想使用Trident Protect 24.10 保護您的 KubeVirt VM 數據，則需要在執行資料保護作業之前手動啟用檔案系統的凍結/解凍功能。這樣可以確保檔案系統處於一致狀態。</block>
  <block id="acb14ba5b70eb330a1d4de9c6b7a325d" category="inline-link-macro">配置虛擬化</block>
  <block id="74c1cc067621b7ea2ccf9f91b4595bd8" category="paragraph">您可以設定Trident Protect 24.10 來管理資料保護作業期間 VM 檔案系統的凍結與解凍。<block ref="e0dd4c4b8aa16596df6c3f5cb36d3cdc" category="inline-link-macro-rx"></block>然後使用以下命令：</block>
  <block id="72768e0f0d0f990d0abd53363fda4696" category="paragraph-title">Trident Protect 24.10.1 及更高版本</block>
  <block id="42a2550b14037192e0c3252e7666ec4d" category="paragraph">從Trident protect 24.10.1 開始， Trident protect 會在資料保護作業期間自動凍結和解凍 KubeVirt 檔案系統。您也可以使用以下命令停用此自動行為：</block>
  <block id="cedf2576eebff15fc6b30d5a7109eb6b" category="doc">復原和故障轉移操作期間的命名空間註釋和標籤</block>
  <block id="131ff34387be167411ffda7d60b577e7" category="paragraph">在復原和故障轉移操作期間，目標命名空間中的標籤和註釋將與來源命名空間中的標籤和註釋相符。來源命名空間中不存在的目標命名空間中的標籤或註釋將被添加，並且任何已存在的標籤或註釋都將被覆蓋以匹配來源命名空間中的值。僅存在於目標命名空間中的標籤或註解保持不變。</block>
  <block id="20f40e0b9308901dac07ce8a8efb3350" category="inline-link">OpenShift 安全上下文約束文檔</block>
  <block id="2c9ccd5e8999c2c36f29069165f327c3" category="admonition">如果您使用 Red Hat OpenShift，請務必注意命名空間註解在 OpenShift 環境中的重要角色。命名空間註解可確保復原的 pod 遵守 OpenShift 安全性情境約束 (SCC) 定義的適當權限和安全性配置，並且可以存取磁碟區而不會出現權限問題。欲了解更多信息，請參閱<block ref="f3121e004cef0b92f500227025367589" category="inline-link-rx"></block>。</block>
  <block id="6c83555d4261acb08ebbc5f24823dc7b" category="paragraph">您可以透過設定 Kubernetes 環境變數來防止目標命名空間中的特定註解被覆蓋。<block ref="1580ff61f204e9d56cd5324c7e9221ba" prefix=" " category="inline-code"></block>在執行復原或故障轉移操作之前。例如：</block>
  <block id="8238f7162d9219360737b28886d1e81e" category="inline-link-macro">配置AutoSupport和命名空間過濾選項</block>
  <block id="f674ee7017be04f3990c16ce1e52c071" category="admonition">執行復原或故障轉移操作時，任何命名空間註解和標籤都將生效。<block ref="22416353aff9ef4322e1ee858f418ae4" prefix=" " category="inline-code"></block> 和<block ref="8028cf835d9b72ff2d6f835934c25568" prefix=" " category="inline-code"></block> 不參與恢復或故障轉移操作。確保在初始 Helm 安裝期間配置這些設定。欲了解更多信息，請參閱 <block ref="be04583f34cff5b6411cf18afbc58993" category="inline-link-macro-rx"></block>。</block>
  <block id="11a75e55f9a91a12e7d31886a76ff312" category="paragraph">如果您使用 Helm 安裝了來源應用程序，<block ref="cc1f5c1d16e33b8463c9ee27295cd5df" prefix=" " category="inline-code"></block>國旗，給予特殊待遇<block ref="b068931cc450442b63f5b3d276ea4297" prefix=" " category="inline-code"></block>標籤鍵。在復原或故障轉移過程中， Trident Protect 會將此標籤複製到目標命名空間，但如果來源命名空間的值與來源命名空間的值匹配，則會將值更新為目標命名空間的值。如果此值與來源命名空間不匹配，則會將其複製到目標命名空間，而不做任何變更。</block>
  <block id="0a52730597fb4ffa01fc117d9e71e3a9" category="section-title">例子</block>
  <block id="1280c48f074ec68fd2281266662c9a3f" category="paragraph">以下範例展示了來源命名空間和目標命名空間，每個命名空間都有不同的註解和標籤。您可以查看操作前後目標命名空間的狀態，以及目標命名空間中的註解和標籤是如何組合或覆蓋的。</block>
  <block id="2cfe257f724ed59a07ab01918c828fb5" category="section-title">在恢復或故障轉移操作之前</block>
  <block id="c972cd959174c84d137520d91c011446" category="paragraph">下表說明了復原或故障轉移操作之前範例來源命名空間和目標命名空間的狀態：</block>
  <block id="b3ba0fe968ce39dcfc6fe8cc0f1b02da" category="cell">命名空間</block>
  <block id="933e469cb306a0ea9faabd3e4235d3be" category="cell">註解</block>
  <block id="3ad6cb6100190c8f81e99fd52debf7ef" category="cell">標籤</block>
  <block id="86a2c974d76e381c7efd2206939722b7" category="cell">命名空間 ns-1（來源）</block>
  <block id="278dbe8403d8ebf0d4ec8f723ca24aa6" category="list-text">annotation.one/key: "updatedvalue"</block>
  <block id="7217e7166d38adddcd72b9b1c9359148" category="list-text">annotation.two/key: "true"</block>
  <block id="a03c56a353af6ece3297a5fcad5250f2" category="list-text">環境=生產</block>
  <block id="d1642f369aa9d43205cf91975f1359d4" category="list-text">合規性=HIPAA</block>
  <block id="fc10b995e3d1c13cbae652922eba0bb6" category="list-text">名稱=ns-1</block>
  <block id="58e6b4eeb688a71c985d2593769d2fda" category="cell">命名空間 ns-2（目標）</block>
  <block id="f0e6f2ec2d0d1aa7012e3b32889c034c" category="list-text">annotation.one/key: "true"</block>
  <block id="1e678090acf06eb2bf74c38dee9d3317" category="list-text">annotation.three/key: "false"</block>
  <block id="ebbaf450aa5330e33917a8de9157e099" category="list-text">角色=資料庫</block>
  <block id="46c40b68ab6fcc817f5134602b1985e3" category="section-title">恢復操作後</block>
  <block id="15d6567aa33ad00e352de9164a741b8b" category="paragraph">下表說明了復原或故障轉移作業後範例目標命名空間的狀態。有些按鍵已被添加，有些按鍵已被覆蓋，並且<block ref="b068931cc450442b63f5b3d276ea4297" prefix=" " category="inline-code"></block>標籤已更新，以符合目標命名空間：</block>
  <block id="a8306d4d1af4239dba9a6bcfd799eba7" category="list-text">名稱=ns-2</block>
  <block id="a5085953f7b15a312b4e12827abc66e5" category="list-text">（可選）如果您只需要選擇應用程式中的某些資源進行恢復，請新增篩選條件，以包含或排除帶有特定標籤的資源：</block>
  <block id="792d490e884279c961aba837ccd9b67a" category="admonition">Trident Protect 會自動選擇一些資源，因為它們與您選擇的資源有關聯。例如，如果您選擇持久性磁碟區宣告資源且它有一個關聯的 pod， Trident Protect 也會還原關聯的 pod。</block>
  <block id="4a0207b6a74b63dcaaa4d58fe75ec431" category="list-text">*resourceFilter.resourceSelectionCriteria*：（篩選時必備）使用<block ref="f4d72a64acd8929c0cc9ed96a7a336cc" prefix=" " category="inline-code"></block>或者<block ref="843f2812f595e7ec7c5036e89fde02d6" prefix=" " category="inline-code"></block>包含或排除 resourceMatchers 中定義的資源。新增以下 resourceMatchers 參數以定義要包含或排除的資源：</block>
  <block id="1eb6c79d30a4cb086ad406cb25fec350" category="list-text">*resourceFilter.resourceMatchers*：resourceMatcher 物件陣列。如果在該數組中定義多個元素，則它們之間按 OR 運算匹配，每個元素內的字段（組、種類、版本）之間按 AND 運算匹配。</block>
  <block id="be16b6e14200639734fb9694e3c0f655" category="list-text">*resourceMatchers[].group*: (_可選_) 要篩選的資源群組。</block>
  <block id="2162d9f0c97d87c37f838ea27ecb393a" category="list-text">*resourceMatchers[].kind*: (_可選_) 要篩選的資源類型。</block>
  <block id="862dca1a77422225d13abda4b7bf539b" category="list-text">*resourceMatchers[].version*: (_可選_) 要篩選的資源版本。</block>
  <block id="f5d1dcaf86934b4541162f010db1d3e1" category="list-text">*resourceMatchers[].names*: (_可選_) 要過濾的資源的 Kubernetes 元資料.name 欄位中的名稱。</block>
  <block id="19c69b04e9f9adb29979cc0ff90625b2" category="list-text">*resourceMatchers[].namespaces*: (_可選_) 要篩選的資源的 Kubernetes 元資料.name 欄位中的命名空間。</block>
  <block id="d9348d075dc7b3c91cff99d56dfc327b" category="inline-link">Kubernetes 文檔</block>
  <block id="cb4354b08a6a88b3c12671390a85c520" category="list-text">*resourceMatchers[].labelSelectors*: (_可選_) 資源的 Kubernetes 元資料.name 欄位中的標籤選擇器字串，如在下列位置定義：<block ref="d4ce3da8407a7d8e148bb1287288e778" category="inline-link-rx"></block> 。例如：<block ref="6ea45baf659f1f35e51c8dc9005eac03" prefix=" " category="inline-code"></block> 。</block>
  <block id="506c2c0c7f5b70af3df68c45c46f45a7" category="paragraph">例如：</block>
  <block id="00d3f03654bed141c3478449f1760762" category="paragraph">確保 AWS 會話令牌的過期時間足以滿足任何長時間運行的 S3 復原操作。如果在恢復操作期間令牌過期，則操作可能會失敗。</block>
  <block id="1906137ea73af1894fec1becb00e0aee" category="summary">您可以找到一些很棒的NetApp Trident和Trident Protect 部落格。</block>
  <block id="0db80d8cadbd011f12ade006191e47b0" category="doc">Trident和Trident保護博客</block>
  <block id="c5497cf98d8e6141ba38e1421502c2d4" category="paragraph">您可以在這裡找到一些很棒的NetApp Trident和Trident Protect 部落格：</block>
  <block id="40d95260a6bcacc40a23df4576b97ec8" category="section-title">Trident部落格</block>
  <block id="4d1a32c0e466ff9011c60655b98dbf71" category="inline-link-macro">使用 Amazon EKS 外掛程式為 FSx for ONTAP自動設定Trident後端</block>
  <block id="324844cd8fa64fd82920fe6f11dc588d" category="list-text">2025年5月9日：<block ref="86b6d8d044348a051fe7477baf34debb" category="inline-link-macro-rx"></block></block>
  <block id="4bdb23ea513714e3ddde2986c05c669f" category="inline-link-macro">增強資料一致性：使用Trident在 OpenShift 虛擬化中使用磁碟區組快照</block>
  <block id="299fb00578f305c7fc8cabf601fd1c80" category="list-text">2025年8月19日：<block ref="e5b6bdace6eea699ef0d8738f7d6c354" category="inline-link-macro-rx"></block></block>
  <block id="607ed18429282657fb3f6b377df32f8c" category="inline-link-macro">NetApp Trident與Google Cloud NetApp Volumes for SMB 協議</block>
  <block id="55b94ed9b78fb336b981481557e7d219" category="list-text">2025年4月15日：<block ref="1d74efb61b1c97b9032a1222a24185b1" category="inline-link-macro-rx"></block></block>
  <block id="38873c8c72328929e064d07375c3bb64" category="inline-link-macro">利用Trident 25.02 的光纖通道協定實現 Kubernetes 上的持久存儲</block>
  <block id="c6fc47f295f8e48564562b41d6234e74" category="list-text">2025年4月14日：<block ref="519219109d85923b9dfc4c314bbb8b20" category="inline-link-macro-rx"></block></block>
  <block id="ee031d295c711ed3119e4ca1bf2829b1" category="inline-link-macro">釋放NetApp ASA r2 系統在 Kubernetes 區塊儲存方面的強大功能</block>
  <block id="f752aa3cc1916f79a2806e72dfc8b4b5" category="list-text">2025年4月14日：<block ref="e28ddf0afaf73832b19731c7248b6de5" category="inline-link-macro-rx"></block></block>
  <block id="e828b47619f791883b7abff60a3529bc" category="inline-link-macro">使用新的認證操作員簡化 Red Hat OpenShift 上的Trident安裝</block>
  <block id="02062222c04c114bc7fc20acf792eca9" category="list-text">2025年3月31日：<block ref="20f7b4cad613435492a1b3cb3c26a028" category="inline-link-macro-rx"></block></block>
  <block id="7259adf488b8a65d6f49febc93ff44f1" category="inline-link-macro">使用Google Cloud NetApp Volumes為 SMB 設定Trident</block>
  <block id="1759bd5240df424d309ad71c96b867f8" category="list-text">2025年3月27日：<block ref="90bc67f83290246dad8f0bc76fd49c2c" category="inline-link-macro-rx"></block></block>
  <block id="897b6a6a21c73524107071aff80ed94e" category="inline-link-macro">解鎖無縫的 iSCSI 儲存整合：AWS ROSA 叢集上的 FSxN 指南</block>
  <block id="b6bbcc8be7319fca806d894645c63253" category="list-text">2025年3月5日：<block ref="c5953f971a0752feeb8ffbf7d9258789" category="inline-link-macro-rx"></block></block>
  <block id="469a8897f90d7e07ede75ff9b199e586" category="inline-link-macro">使用Trident、GKE 和Google Cloud NetApp Volumes部署雲端身份</block>
  <block id="cb2e2f8e2789874710f34e485efc824e" category="list-text">2025年2月27日：<block ref="46c84c372fb557e16383c0494f1255f5" category="inline-link-macro-rx"></block></block>
  <block id="6dc79a8e11fda729083bb4e518de411f" category="inline-link-macro">Trident引入光纖通道支援</block>
  <block id="869493e7a782c2bac6bf8778d6bf749e" category="list-text">2024年12月12日：<block ref="5c3a9e150bc491524071eb191093dabe" category="inline-link-macro-rx"></block></block>
  <block id="afd55df73a814282b1a34c79040d709a" category="inline-link-macro">Trident 25.01：透過新功能和增強功能增強 Kubernetes 儲存體驗</block>
  <block id="13c401b1f27132099b945b95025ca748" category="list-text">2024年11月26日：<block ref="4a1bf3162dde1793089483cf7682fb86" category="inline-link-macro-rx"></block></block>
  <block id="0d5eeacaefc73b7986c8f85945c72129" category="inline-link-macro">NetApp Trident與Google Cloud NetApp Volumes</block>
  <block id="a21cecd213989d401167ec6cfba8d998" category="list-text">2024年11月11日：<block ref="daed3e0cfbeb06368e36167c5fc4f468" category="inline-link-macro-rx"></block></block>
  <block id="02104a16ef3fcf06a78872f4f5aea5d2" category="inline-link-macro">使用Trident在 AWS 上將Amazon FSx for NetApp ONTAP與 Red Hat OpenShift 服務 (ROSA) 結合使用</block>
  <block id="e2218d0205cdf02ed15039a9eb215920" category="list-text">2024年10月29日：<block ref="ecf88162cd631914aa447c7edeaa2e6e" category="inline-link-macro-rx"></block></block>
  <block id="e7eb7f68cb5a04d95a6152e9d6ab37ec" category="inline-link-macro">使用 ROSA 上的 OpenShift 虛擬化和Amazon FSx for NetApp ONTAP即時遷移虛擬機</block>
  <block id="96788723465bd45962aba2ba495bac79" category="list-text">2024年10月29日：<block ref="231a583c773a423673d617a1071353b9" category="inline-link-macro-rx"></block></block>
  <block id="c5b6456f211505596899eb36c3ee09e4" category="inline-link-macro">使用 NVMe/TCP 在 Amazon EKS 上為現代容器化應用程式使用ONTAP存儲</block>
  <block id="3373d53eb859a1fef914c3f5ca7b306d" category="list-text">2024年7月8日：<block ref="0549a17fef857ef2806f9656f7495ac5" category="inline-link-macro-rx"></block></block>
  <block id="782250194e3b8d07e3c01ee076d7abd9" category="inline-link-macro">使用Google Cloud NetApp Volumes Flex 和Astra Trident實現 Kubernetes 無縫存儲</block>
  <block id="1c3ec9ce23b462e81e392f144f8c6527" category="list-text">2024年7月1日：<block ref="48908e9b9a4cb59db7244b631bf66632" category="inline-link-macro-rx"></block></block>
  <block id="c0575ecf088b36655f7a582773399ba0" category="inline-link-macro">ONTAP作為 OpenShift 中整合映像註冊表的後端存儲</block>
  <block id="fa465e5731c44ee6dc77398eecb4493d" category="list-text">2024年6月11日：<block ref="99a2855a4f47b1b3fc2dd744ecb3c177" category="inline-link-macro-rx"></block></block>
  <block id="767cfc132547de728a22c9fa992eabfc" category="section-title">Trident保護部落格</block>
  <block id="a35665637b8d8bcebbf303a7e9950cf2" category="inline-link-macro">使用Trident Protect 的復原後鉤子自動執行登錄機碼故障轉移以實現災難復原</block>
  <block id="9eef003e4e8a5cd2654642dbf1806c35" category="list-text">2025年5月16日：<block ref="9c69f3b57e4c9e30a2d1dd0bbfc81eb9" category="inline-link-macro-rx"></block></block>
  <block id="351257ff03e16ff522106900a9f35e9e" category="inline-link-macro">使用NetApp Trident Protect 進行 OpenShift 虛擬化災難復原</block>
  <block id="cc48e904c9802b69a8760ed8f894b251" category="list-text">2025年5月16日：<block ref="a57e639cf15650353686ed7219eb274b" category="inline-link-macro-rx"></block></block>
  <block id="a3bed2eca17a542318eff49566e65560" category="inline-link-macro">使用Trident進行儲存類別遷移以保護備份和復原</block>
  <block id="95d102ffaff20709e445a0302dc9209b" category="list-text">2025年5月13日：<block ref="9965527798b3d27a2b7fb71617212405" category="inline-link-macro-rx"></block></block>
  <block id="c00f8563a4e3023d2ff83b5b26a91edc" category="inline-link-macro">使用Trident保護恢復後鉤子重新擴展 Kubernetes 應用程式</block>
  <block id="a3ca851cebfd3307178076015c1cb876" category="list-text">2025年5月9日：<block ref="ee88df603de21180a12f2f1bbd1e61b2" category="inline-link-macro-rx"></block></block>
  <block id="8f18e786e2a2dd5d70390afe4c75e024" category="inline-link-macro">Trident Protect 升級：Kubernetes 複製保護與災難復原</block>
  <block id="ae7986fef0bfa9c9a4f730ee6bb5e0ac" category="list-text">2025年4月3日：<block ref="4ca932fa6234c864106756a287da48ac" category="inline-link-macro-rx"></block></block>
  <block id="a706b02fe1ef4870ecc8b588cbe37989" category="inline-link-macro">OpenShift虛擬化虛擬機器的崩潰一致性備份與復原作業</block>
  <block id="938cab8cf5785dfe0cd9ba76b4cae8f0" category="list-text">2025年3月13日：<block ref="94b3904630a42c759a6ceb844d104a7a" category="inline-link-macro-rx"></block></block>
  <block id="20e2f4e6733d3ac5dd3cfb83506a2882" category="inline-link-macro">將 GitOps 模式擴展到使用NetApp Trident進行應用程式資料保護</block>
  <block id="ccd722b2b8950bc9aa2b92826dcc4664" category="list-text">2025年3月11日：<block ref="751073ae4d07c4adc8a15e872b137421" category="inline-link-macro-rx"></block></block>
  <block id="bc057a27d4d8047073d6f5fa802c9c2b" category="inline-link-macro">Trident 25.02：透過令人興奮的新功能提升 Red Hat OpenShift 體驗</block>
  <block id="fb68b473f5b70bc40e206ef882be4c63" category="list-text">2025年3月3日：<block ref="ce0fc75766d0530b76aaabf87dc1b463" category="inline-link-macro-rx"></block></block>
  <block id="62ca59fefb174e2cae471bd3ff034f37" category="inline-link-macro">隆重介紹Trident Protect 基於角色的存取控制</block>
  <block id="2471f7ea5ea7dad7f60b4ece1fab4a9f" category="list-text">2025年1月15日：<block ref="685287f953e60833f62fba2c623c4cb9" category="inline-link-macro-rx"></block></block>
  <block id="4a685524952a84cef8685a87bb60f47a" category="inline-link">隆重介紹 tridentctl protect： Trident protect 的強大命令列介面</block>
  <block id="281486a8e7fd8f1c6bd6cf0c6bc7eba0" category="list-text">2024年11月11日：<block ref="b1528afdd7be1e71d2c311686269cf66" category="inline-link-rx"></block></block>
  <block id="c0d721f6d5aa4d159e2f9890fab5bbee" category="inline-link-macro">Kubernetes驅動的資料管理： Trident Protect開啟新時代</block>
  <block id="78ec91ade28d11ab9c3f53f543bba8d3" category="list-text">2024年11月11日：<block ref="46b2057fd4479a7d4462fb82adc6f54b" category="inline-link-macro-rx"></block></block>
  <block id="17c5eeb01739643b5aef94fe18b6c849" category="summary">您可以使用版本選擇器在最新版本和前四個版本之間導航，或使用下面的連結。</block>
  <block id="ba09ee47d11962c1ccd13d7e1f10e6c5" category="doc">早期版本的文檔</block>
  <block id="472039bf3422ff2697dba6fc9fdd57d8" category="inline-link-macro">Trident支援生命週期</block>
  <block id="a3148578e6ffde89485954832ff9be37" category="paragraph">如果您使用的不是Trident 25.06 版本，則可以根據以下資訊取得先前版本的文件：<block ref="6d47e9235a19453f00cf246917b9e162" category="inline-link-macro-rx"></block> 。</block>
  <block id="a1862e00d8111386cdf238bd23bb97db" category="inline-link">Trident25.02</block>
  <block id="25bdd2f6eb0ca7663bf4152396a74a09" category="list-text"><block ref="25bdd2f6eb0ca7663bf4152396a74a09" category="inline-link-rx"></block></block>
  <block id="41ee1e1e674f49a8e3c78fc5517b1b83" category="inline-link">Trident24.10</block>
  <block id="330905133ec61fb32dbdb0593cf466a2" category="list-text"><block ref="330905133ec61fb32dbdb0593cf466a2" category="inline-link-rx"></block></block>
  <block id="c45d9c1b397ff706a7a39c069930c677" category="inline-link">Trident24.06</block>
  <block id="d0fd12656eeec63fe137c83181c17c0b" category="list-text"><block ref="d0fd12656eeec63fe137c83181c17c0b" category="inline-link-rx"></block></block>
  <block id="45d1e500370372fc7e76e110b5aff92d" category="inline-link">Trident24.02</block>
  <block id="b735f50352c31f80267e7a6fc57ce804" category="list-text"><block ref="b735f50352c31f80267e7a6fc57ce804" category="inline-link-rx"></block></block>
  <block id="b4dfeb42b5c9816777494eeb7a772461" category="inline-link">Trident23.10</block>
  <block id="55cad0455da7cf59434d9f8ff225c39b" category="list-text"><block ref="55cad0455da7cf59434d9f8ff225c39b" category="inline-link-rx"></block></block>
  <block id="8806d0d5f26e8a704b5d26c076c531bd" category="inline-link">Trident23.07</block>
  <block id="9c74a4e8266dd7e50d12a159c32d6b10" category="list-text"><block ref="9c74a4e8266dd7e50d12a159c32d6b10" category="inline-link-rx"></block></block>
  <block id="3a4e6f76b26aa8878f5798aba052777c" category="inline-link">Trident23.04</block>
  <block id="5bff8eb1dea519dd15a076031fa9f288" category="list-text"><block ref="5bff8eb1dea519dd15a076031fa9f288" category="inline-link-rx"></block></block>
  <block id="5382f4fbc3622ef143d9ddbe033351ab" category="inline-link">Trident23.01</block>
  <block id="a9425b076f0cf301dc3a2d77e67816ca" category="list-text"><block ref="a9425b076f0cf301dc3a2d77e67816ca" category="inline-link-rx"></block></block>
  <block id="2e0d64f2a4b164112beaf0506070ad85" category="inline-link">Trident22.10</block>
  <block id="e4c5c8d195d27f073639195f80da50a2" category="list-text"><block ref="e4c5c8d195d27f073639195f80da50a2" category="inline-link-rx"></block></block>
  <block id="c48696f9d5a5a881f7f2f08fd40ce424" category="summary">尋找有關Trident 的安裝、設定、升級和故障排除的常見問題。</block>
  <block id="af2a4d2810d86aa0169c117f82682f9a" category="doc">常見問題解答</block>
  <block id="96ab491ef73d5db0cd15f55e1552cc22" category="section-title">一般性問題</block>
  <block id="d9aca3de44ae0828dd89d53663e6e4c8" category="section-title">Trident 的發布頻率如何？</block>
  <block id="d68e1eab03012de1cfe733b0e5a56e0a" category="paragraph">從 24.02 年版本開始， Trident每四個月發布一次：二月、六月和十月。</block>
  <block id="0f7d5cbd339fb02ad7b6d2052778b76c" category="section-title">Trident是否支援特定版本 Kubernetes 中發布的所有功能？</block>
  <block id="0393f24e9d90badf5195c5d59c8cab27" category="paragraph">Trident通常不支援 Kubernetes 中的 alpha 功能。  Trident可能會在 Kubernetes beta 版本之後的兩個Trident版本中支援 beta 功能。</block>
  <block id="c05993771d3f4855968becac69b33f44" category="section-title">Trident 的運作是否依賴其他NetApp產品？</block>
  <block id="206d5ff7336a8540d7a581ba45c5f83f" category="paragraph">Trident不依賴其他NetApp軟體產品，它可以作為獨立應用程式運作。但是，您應該使用NetApp後端儲存設備。</block>
  <block id="95bcf2f0f55536798451f058ec6640a9" category="section-title">如何取得完整的Trident設定詳情？</block>
  <block id="67323698ba39f83a63a92758f63e8080" category="paragraph">使用<block ref="fed7609223e8cae53e079facb24f3426" prefix=" " category="inline-code"></block>命令以獲取有關您的Trident配置的更多資訊。</block>
  <block id="d29b114bc457427dcaea77aacc90fe8a" category="section-title">我能否取得Trident如何設定儲存的指標？</block>
  <block id="b4f83b03956523a39e8bbbd0895f0f29" category="inline-link-macro">Cloud Insights</block>
  <block id="61d2a329cdb6694d83cd5fbf5dc02f7a" category="paragraph">是的。可用於收集有關Trident操作的資訊的 Prometheus 端點，例如管理的後端數量、已配置的磁碟區數量、消耗的位元組數等等。您也可以使用<block ref="7a2477b8055ecdaa4bd473b0556bcb2a" category="inline-link-macro-rx"></block>用於監測和分析。</block>
  <block id="9bdccce3d8a96585da41b41f9a8a35ea" category="section-title">使用Trident作為 CSI 設定器時，使用者體驗是否會改變？</block>
  <block id="09c8fb7656ad21dac196205f70094681" category="paragraph">不，使用者體驗和功能方面沒有任何變化。使用的設定程式名稱是<block ref="08044207e9f63bb0fd474dab347a776c" prefix=" " category="inline-code"></block>。如果您想使用目前和未來版本提供的所有新功能，建議使用此方法安裝Trident 。</block>
  <block id="804e1070c55dcfc75cbde5cbcb86c3ba" category="section-title">在 Kubernetes 叢集上安裝和使用Trident</block>
  <block id="df316d84e969d52af02710ec31df7055" category="section-title">Trident是否支援從私人註冊表進行離線安裝？</block>
  <block id="5e05991e14fd9934a724121da40f5b98" category="inline-link-macro">了解Trident安裝</block>
  <block id="d55b9ba8a4efff113044f9efe0557e0c" category="paragraph">是的， Trident可以離線安裝。參考<block ref="ed3eb8298d3a91b1400b1be26865f5ec" category="inline-link-macro-rx"></block>。</block>
  <block id="75ac7954ef399713139c894c431e4116" category="section-title">我可以遠端安裝Trident嗎？</block>
  <block id="cab0813b2ef0c2dc3e0c17505f73a2f2" category="paragraph">是的。Trident 18.10 及更高版本支援從任何具備以下功能的機器進行遠端安裝：<block ref="0f12ee5c9f1dd90158580f1c292b0d37" prefix=" " category="inline-code"></block>訪問集群。後<block ref="0f12ee5c9f1dd90158580f1c292b0d37" prefix=" " category="inline-code"></block>存取權限已驗證（例如，發起一次存取）<block ref="1513e62b9eb7bbfc46c1be1a91a2ab76" prefix=" " category="inline-code"></block>從遠端機器發出命令進行驗證），請按照安裝說明進行操作。</block>
  <block id="50434308d8b9fc89f708232cb5e9cf87" category="section-title">我可以使用Trident設定高可用性嗎？</block>
  <block id="d4a0a879bb58dfc0d2dd69374d278afe" category="paragraph">Trident以 Kubernetes Deployment（ReplicaSet）的形式安裝，只有一個實例，因此它內建了高可用性 (HA)。您不應該增加 Deployment 中的副本數量。如果安裝了Trident 的節點遺失或 pod 無法訪問，Kubernetes 會自動將 pod 重新部署到叢集中的健康節點。  Trident僅用於控制平面，因此如果重新部署Trident，目前已安裝的 pod 不會受到影響。</block>
  <block id="b23db7e049824adf28d5d2d6839ee268" category="section-title">Trident是否需要存取 kube-system 命名空間？</block>
  <block id="685a0ffaaa9ec81b2c31846cbf192282" category="paragraph">Trident從 Kubernetes API 伺服器讀取訊息，以確定應用程式何時要求新的 PVC，因此它需要存取 kube-system。</block>
  <block id="0df447334013f5ccae9c82a00df9508a" category="section-title">Trident使用哪些角色和權限？</block>
  <block id="3c70f31b6cfd2fccfef3e715c4c4cabb" category="inline-link-macro">自訂 tridentctl 安裝</block>
  <block id="3d939b5d63f5846e5d71053999d3972e" category="paragraph">Trident安裝程式會建立一個 Kubernetes ClusterRole，該角色對 Kubernetes 叢集的 PersistentVolume、PersistentVolumeClaim、StorageClass 和 Secret 資源有特定的存取權。參考<block ref="ddc7df443077796093efdaf5a64d03cd" category="inline-link-macro-rx"></block>。</block>
  <block id="8b1b2eab4c453e6c69faf86b91b46898" category="section-title">我可以在本地產生Trident安裝時使用的確切清單檔案嗎？</block>
  <block id="b633901fb93d2b4cb35254a9764dd626" category="paragraph">如有需要，您可以在本機產生和修改Trident安裝時使用的確切清單檔案。參考<block ref="ddc7df443077796093efdaf5a64d03cd" category="inline-link-macro-rx"></block>。</block>
  <block id="176cc68bd86878bb1bde4c3e72b4c315" category="section-title">我可以為兩個獨立的 Kubernetes 叢集中的兩個獨立的Trident實例共用同一個ONTAP後端 SVM 嗎？</block>
  <block id="14151311f8b442ecc7db1533868dccd9" category="paragraph">雖然不建議這樣做，但您可以為兩個Trident實例使用同一個後端 SVM。安裝期間為每個實例指定唯一的磁碟區名稱和/或指定唯一的<block ref="641b2675465e765661450709e2351a8e" prefix=" " category="inline-code"></block>參數<block ref="57a3822fdb39e72cdc47d89fd04ce467" prefix=" " category="inline-code"></block>文件。這是為了確保兩個實例不會使用同一個FlexVol volume。</block>
  <block id="55c5d3092c2cf2c38eb0a708eefb8486" category="section-title">是否可以在 ContainerLinux（原 CoreOS）下安裝Trident ？</block>
  <block id="ed71f481574b61f58ec3289a77e224fa" category="paragraph">Trident其實就是一個 Kubernetes pod，可以安裝在任何執行 Kubernetes 的地方。</block>
  <block id="42fb91822adc98aa7764157cc987363a" category="section-title">我可以將Trident與NetApp Cloud Volumes ONTAP一起使用嗎？</block>
  <block id="c8e65f25ae4e876dc9b834240dd90ae1" category="paragraph">是的， Trident在 AWS、Google Cloud 和 Azure 上均受支援。</block>
  <block id="563c8f675c158ed1e8fb653c2a5b0d16" category="section-title">Trident是否與 Cloud Volumes Services 相容？</block>
  <block id="2d0bdf474b915de478abc990596c76bd" category="paragraph">是的， Trident支援 Azure 中的Azure NetApp Files服務以及 GCP 中的Cloud Volumes Service。</block>
  <block id="92d1656d06303733c5e1398fb273a17e" category="section-title">故障排除和支持</block>
  <block id="adb6af04aac45867d68bb2c3bc1e7b0d" category="section-title">NetApp是否支援Trident？</block>
  <block id="2dcb58c8d0e9bfa26fd8a13a709eed09" category="paragraph">雖然Trident是開源且免費提供的，但只要您的NetApp後端受支持， NetApp就會完全支援它。</block>
  <block id="a3d907947129a58ee6f9e23074840c8f" category="section-title">我該如何提交支持申請？</block>
  <block id="0265687df6c09d532b03477776c6d075" category="paragraph">如需提出援助申請，請執行以下操作之一：</block>
  <block id="5dab8cca21a0ff4e72d4e2a1ee5156ea" category="list-text">請聯絡您的支援客戶經理，以取得協助以提交工單。</block>
  <block id="09ea0908fbfc4cde85bf416e35dc55c8" category="inline-link">NetApp支援</block>
  <block id="a13956d424374973d31e5883b8bf8b6a" category="list-text">請聯絡我們提交支援案例。<block ref="116f7ad90a3c7441981f82d8f8fba4d5" category="inline-link-rx"></block> 。</block>
  <block id="3e77e87e5ee8fb4f6f910f4cf0594fc2" category="section-title">如何產生支援日誌包？</block>
  <block id="7938aed248d09a5120eaf414e6c1d574" category="paragraph">您可以透過執行以下命令來建立支援包<block ref="7466d048454007a33a6e078578c48a86" prefix=" " category="inline-code"></block>。除了捆綁包中捕獲的日誌外，還要捕獲 kubelet 日誌，以診斷 Kubernetes 端的掛載問題。取得 kubelet 日誌的說明會因 Kubernetes 的安裝方式而異。</block>
  <block id="2c3543f339dc749a508ed5e5e5aaae23" category="section-title">如果我需要提出新功能請求，該怎麼辦？</block>
  <block id="42bfc6e3acd67192d42135138102a1de" category="inline-link">Trident Github</block>
  <block id="c2146fea25aea76bae1b5853f60a2f87" category="paragraph">創建問題<block ref="47273b71915582ec6db59ad21099cfb9" category="inline-link-rx"></block>並在問題的主題和描述中註明 *RFE*。</block>
  <block id="0aa1d7a95d75c0faa8302a803356b7b7" category="section-title">我應該在哪裡提交缺陷報告？</block>
  <block id="f976373ae689e994b60c082fe0210016" category="paragraph">創建問題<block ref="47273b71915582ec6db59ad21099cfb9" category="inline-link-rx"></block>。請務必提供與問題相關的所有必要資訊和日誌。</block>
  <block id="e3c42f7edef4d44b3a12f0876d080b65" category="section-title">如果我對Trident有個需要澄清的簡短問題，該怎麼辦？這裡有社群或論壇嗎？</block>
  <block id="a7cfd917113a9ee9c1e789887d1d809f" category="inline-link-macro">Discord 頻道</block>
  <block id="5249e7d2220ef48adc4e11f3ae5e102a" category="paragraph">如果您有任何疑問、問題或請求，請透過我們的Trident與我們聯絡。<block ref="6130664377fa14615bb1abd5257e9714" category="inline-link-macro-rx"></block>或者 GitHub。</block>
  <block id="85fb3cc3c008776a14e8adea3419b79d" category="section-title">我的儲存系統密碼已更改， Trident無法再工作，我該如何恢復？</block>
  <block id="a988578d4c176cf950a2211099db7d92" category="paragraph">使用以下方式更新後端密碼<block ref="00a81aa9b1d406861879017de885e0fb" prefix=" " category="inline-code"></block>。代替<block ref="3d9fd17a5232cc24eeeaec2b07af5417" prefix=" " category="inline-code"></block>例如，請使用您的後端名稱，並且<block ref="27ab7e8dbd45daf638f3144d4891ef3b" prefix=" " category="inline-code"></block>通往正確路徑<block ref="9c15d32711e9ef8c6f76deda35452e13" prefix=" " category="inline-code"></block>文件。</block>
  <block id="590f1c54e9cee50de3f69ae3604e432e" category="section-title">Trident找不到我的Kubernetes節點。我該如何解決這個問題？</block>
  <block id="b114148f5ef97af6ffb82c1edfaa1775" category="paragraph">Trident找不到 Kubernetes 節點可能有以下兩種情況。這可能是由於 Kubernetes 內部的網路問題或 DNS 問題引起的。在每個 Kubernetes 節點上執行的Trident節點守護程序集必須能夠與Trident控制器通信，以便將節點註冊到Trident。如果在Trident安裝後發生了網路變更，則只有在向叢集中新增的 Kubernetes 節點時才會遇到此問題。</block>
  <block id="bcd549c9f0199c5b8d0b55f782bff9e8" category="section-title">如果Trident艙被摧毀，我會遺失資料嗎？</block>
  <block id="8cb93d7a514e5569b46cba45dedc7daf" category="paragraph">即使Trident艙被摧毀，資料也不會遺失。 Trident元資料儲存在 CRD 物件中。所有由Trident提供的PV都將正常運作。</block>
  <block id="c2147118d3a3e64452475171765d47d0" category="section-title">升級Trident</block>
  <block id="3de05f78e401869f4630ec8cabf339df" category="section-title">我可以直接從舊版本升級到新版本（跳過幾個版本）嗎？</block>
  <block id="aa11aafa4155b6c4a3e62b5b9c8abc7b" category="paragraph">NetApp支援將Trident從一個主要版本升級到下一個緊鄰的主要版本。您可以從 18.xx 版本升級到 19.xx 版本，從 19.xx 版本升級到 20.xx 版本，依此類推。在生產環境部署之前，應該在實驗室環境中測試升級。</block>
  <block id="0399b9e6348e554937a4d65efc97a1b8" category="section-title">是否可以將Trident降級到先前的版本？</block>
  <block id="e651aace307e5b2d6047fa19dd9ebc49" category="inline-link-macro">解除安裝Trident</block>
  <block id="c8d8623e1862e33460131e0b358e25c4" category="paragraph">如果您需要修復升級後發現的錯誤、依賴關係問題或升級失敗/不完整，您應該<block ref="e618ba4d3d6ecf34e3de22934d88cfd8" category="inline-link-macro-rx"></block>然後按照該版本的具體說明重新安裝早期版本。這是降級到早期版本的唯一推薦方法。</block>
  <block id="ba9c59aa9d07b25e124dcf6ca88d689a" category="section-title">管理後端和卷</block>
  <block id="c14fd2bf15bccb33c362aafa6a463f49" category="section-title">我是否需要在ONTAP後端定義檔中同時定義 ManagementLIF 和 DataLIF？</block>
  <block id="7279808725b91afce38762e4e1a8108b" category="paragraph">管理層 LIF 是強制性的。  DataLIF 值各不相同：</block>
  <block id="25edde63e4922bb316018c25888e64a6" category="inline-link-macro">ONTAP選擇性 LUN 地圖</block>
  <block id="eb89f16d07a93fa10a31ec6309045fe9" category="inline-link-macro">ONTAP SAN 配置選項和範例</block>
  <block id="bdee9022b73039d7d36eb214d473b6a5" category="list-text">ONTAP SAN：不要指定用於 iSCSI。Trident的使用<block ref="2de2f329c45219df280af5a70ed7a17c" category="inline-link-macro-rx"></block>發現建立多路徑會話所需的 iSCI LIF。如果出現以下情況，則會產生警告：<block ref="ea76b2438eb5996eb2c347e7341ed59a" prefix=" " category="inline-code"></block>已明確定義。參考 <block ref="823b6e1f172888081aece7b5cdeb0e03" category="inline-link-macro-rx"></block> 了解詳情。</block>
  <block id="7d8058d93ec1d95c673d83bf303326ff" category="inline-link-macro">ONTAP NAS 設定選項和範例</block>
  <block id="adfb1f23733ff9ee458d139c1df9f86f" category="list-text">ONTAP NAS： NetApp建議指定<block ref="ea76b2438eb5996eb2c347e7341ed59a" prefix=" " category="inline-code"></block>。如果未提供， Trident將從 SVM 取得 dataLIF。您可以指定一個完全限定網域名稱 (FQDN) 用於 NFS 掛載操作，從而建立輪詢 DNS 以在多個 dataLIF 之間進行負載平衡。請參閱<block ref="879dc93198c7c5e8ce7148b6d1205d73" category="inline-link-macro-rx"></block>詳情請見</block>
  <block id="931fb9ef9e2f0b2e60b412c93e32bdb2" category="section-title">Trident能否為ONTAP後端設定CHAP？</block>
  <block id="6a7447005192022403df540c4a76b8df" category="paragraph">是的。Trident支援ONTAP後端的雙向 CHAP。這需要設定<block ref="68978ccf4ed83900c8dd27558ca5ec18" prefix=" " category="inline-code"></block>在您的後端配置中。</block>
  <block id="e04360e9c1c0a231ee50fb6bc2440ab0" category="section-title">如何使用Trident管理匯出策略？</block>
  <block id="0f719cc4fb105f34258976d892e8bfe9" category="paragraph">從 20.04 版本開始， Trident可以動態建立和管理匯出策略。這樣，儲存管理員就可以在其後端配置中提供一個或多個 CIDR 區塊，並讓Trident將落入這些範圍內的節點 IP 新增到它所建立的匯出策略中。透過這種方式， Trident可以自動管理給定 CIDR 內 IP 位址的節點的規則新增和刪除。</block>
  <block id="565b6e5803bd2aeffbb1b529ae150998" category="section-title">IPv6 位址可以用於管理和資料 LIF 嗎？</block>
  <block id="d9e938c59af9d6ebf3b10c2ba625470e" category="paragraph">Trident支援為下列裝置定義 IPv6 位址：</block>
  <block id="a24e915be64ce870d285c6e28a6df3f5" category="list-text"><block ref="a6ea6092cb7b9c5f31909eb4be8fa5ea" prefix="" category="inline-code"></block>和<block ref="ea76b2438eb5996eb2c347e7341ed59a" prefix=" " category="inline-code"></block>適用於ONTAP NAS 後端。</block>
  <block id="fb250da700173f245f4c10d2970cfba8" category="list-text"><block ref="a6ea6092cb7b9c5f31909eb4be8fa5ea" prefix="" category="inline-code"></block>適用於ONTAP SAN 後端。您無法指定<block ref="ea76b2438eb5996eb2c347e7341ed59a" prefix=" " category="inline-code"></block>基於ONTAP SAN 後端。</block>
  <block id="c92ee98f27fea35d4b40d8e58cff3e23" category="paragraph">必須使用標誌安裝Trident 。<block ref="4a4ef9f92e69acc000120379678aadcf" prefix=" " category="inline-code"></block> （為了<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>安裝），<block ref="fdb7cb8f657426e7c409bfd6d1a36ce4" prefix=" " category="inline-code"></block> （對於Trident操作員），或<block ref="b63589bf34442180f04a6b46488afa6d" prefix=" " category="inline-code"></block>（用於 Helm 安裝）使其能夠透過 IPv6 運作。</block>
  <block id="4c0e813a0bfed033d75bbfd8b18f556c" category="section-title">是否可以在後端更新管理 LIF？</block>
  <block id="66d8fee83a94421ca416a2bdb33703b4" category="paragraph">是的，可以使用以下方式更新後端管理 LIF：<block ref="defd1e55f93269ac9278afc086951ba8" prefix=" " category="inline-code"></block>命令。</block>
  <block id="4464ed822c0b46fd0bb406f3addad477" category="section-title">是否可以在後端更新 DataLIF？</block>
  <block id="6299c4ccad2894e1fc64eb6059df19b8" category="paragraph">您可以更新 DataLIF<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block>和<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block>僅有的。</block>
  <block id="b0ebe39ab16d0aea1148ebc2abc3e6d7" category="section-title">我可以在Trident for Kubernetes 中建立多個後端嗎？</block>
  <block id="9d813dd9dc4f8a97f4735e4e7780283c" category="paragraph">Trident可以同時支援多個後端，既可以使用相同的驅動程序，也可以使用不同的驅動程式。</block>
  <block id="dc7c8edffb370f5f952a2787e0381ad6" category="section-title">Trident是如何儲存後端憑證的？</block>
  <block id="3b5102f815723b1b94a1969ac254470a" category="paragraph">Trident將後端憑證儲存為 Kubernetes Secrets。</block>
  <block id="c68b08bc6f1bd9bc3f8b4d3e4e81ca78" category="section-title">Trident是如何選擇特定後端的？</block>
  <block id="c6e9fbb586ad55ddf4bbda9814c6adc9" category="paragraph">如果後端屬性無法用於自動為類別選擇適當的連線池，則<block ref="c614017642b6cfd9e6a25c7df122d917" prefix=" " category="inline-code"></block>和<block ref="145d1b89a9f9ed8bdc16d1f7a814cace" prefix=" " category="inline-code"></block>參數用於選擇一組特定的池子。</block>
  <block id="1facd0eb6221a85a854aa93123529773" category="section-title">如何確保Trident不會從特定的後端進行設定？</block>
  <block id="8fd7e30f04618e679c684df3dd0bebeb" category="paragraph">這<block ref="7df974d787ead594df017a11672f2f0e" prefix=" " category="inline-code"></block>此參數用於篩選Trident用於配置的池集，並將刪除任何符合的池。</block>
  <block id="64eb982f45f5cfa602f8a3e7d69f000d" category="section-title">如果存在多個相同類型的後端， Trident如何選擇使用哪個後端？</block>
  <block id="c5864ef434aa44689b2af37a1e9af5c7" category="paragraph">如果配置了多個相同類型的後端， Trident會根據配置中的參數選擇適當的後端。<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block>和<block ref="2b3f8e4d49589c4452db0a07d619d824" prefix=" " category="inline-code"></block>。例如，如果存在多個 ontap-nas 驅動程式後端， Trident會嘗試匹配參數。<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block>和<block ref="2b3f8e4d49589c4452db0a07d619d824" prefix=" " category="inline-code"></block>結合併匹配一個能夠滿足所列要求的後端<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block>和<block ref="2b3f8e4d49589c4452db0a07d619d824" prefix=" " category="inline-code"></block>。如果存在多個後端與請求匹配， Trident會隨機選擇其中一個。</block>
  <block id="d458942a0a2872de7232f879c70d5c72" category="section-title">Trident是否支援與 Element/ SolidFire 的雙向 CHAP 協定？</block>
  <block id="b127099c71415d532da3a26ed73eb041" category="paragraph">是的。</block>
  <block id="c92811de6c03f5ad483962308676ecf1" category="section-title">Trident如何在ONTAP磁碟區部署 Qtree？單一磁碟區上最多可以部署多少個 Qtree？</block>
  <block id="c45e7f5f358ba554413458272da37266" category="paragraph">這<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block>驅動程式在同一個FlexVol volume中最多可建立 200 個 Qtree（可在 50 到 300 之間配置），每個叢集節點最多可建立 100,000 個 Qtree，每個叢集最多可建立 240 萬個 Qtree。當你進入一個新的<block ref="2b3f8e4d49589c4452db0a07d619d824" prefix=" " category="inline-code"></block>如果由經濟型驅動程式提供服務，則該驅動程式會檢視是否已存在可為新的 Qtree 提供服務的FlexVol volume。如果不存在可以為 Qtree 提供服務的FlexVol volume，則會建立一個新的FlexVol volume。</block>
  <block id="abbdd4298bb3e525fd172b2bbe5a451c" category="section-title">如何為ONTAP NAS 上配置的磁碟區設定 Unix 權限？</block>
  <block id="e516c194a6ef04e00986e6105285f3a6" category="paragraph">您可以透過在後端定義檔中設定參數，為Trident提供的磁碟區設定 Unix 權限。</block>
  <block id="094ef47e6456d60b656401b0f2bbfcbd" category="section-title">在配置磁碟區時，如何配置一組明確的ONTAP NFS 掛載選項？</block>
  <block id="6c92285fa6d3e827b198d120ea3ac674" category="inline-link-macro">這裡</block>
  <block id="389f296dbf77d0f86dfe8a06d526c127" category="paragraph">預設情況下， Trident不會為 Kubernetes 設定任何掛載選項。若要在 Kubernetes 儲存類別中指定掛載選項，請依照給定的範例進行操作。<block ref="29e04d8356a523f6fc836193630ad63e" category="inline-link-macro-rx"></block> 。</block>
  <block id="ae6bc3659bb0be0a7d9f98a63775b7c2" category="section-title">如何將已配置的磁碟區設定為特定的匯出策略？</block>
  <block id="700a2008fea63d02c24b85f2f75d357e" category="paragraph">若要允許對應的主機存取卷，請使用下列方法：<block ref="647ce4e5394e2e595e46b4fc50a628e9" prefix=" " category="inline-code"></block>在後端定義檔中配置的參數。</block>
  <block id="99c8f2d04c19fdc0a232b7482cfee080" category="section-title">如何使用Trident和ONTAP設定磁碟區加密？</block>
  <block id="73b2a012b43089e1665c476788027e1c" category="inline-link-macro">Trident如何與 NVE 和 NAE 協同工作</block>
  <block id="cbf898bcb5d9e5595fd3bc81ec6e29ad" category="paragraph">您可以使用後端定義檔中的加密參數，對Trident提供的磁碟區設定加密。更多信息，請參閱：<block ref="419c27d13476c7b2e51e83cf6c88459f" category="inline-link-macro-rx"></block></block>
  <block id="ec2427ac714a740c73f10dfde2363075" category="section-title">透過Trident為ONTAP實現 QoS 的最佳方法是什麼？</block>
  <block id="f412d672b51ea3c57812ebf3be0ddccb" category="paragraph">使用<block ref="f652904c3bfb48fb25a0a75f485f0ff6" prefix=" " category="inline-code"></block>為ONTAP實作 QoS。</block>
  <block id="540b44f12eb5cca80bd7e9128aeede6c" category="section-title">如何在Trident中指定精簡配置或厚配置？</block>
  <block id="0d97afe7a571dc39db1c810013844332" category="paragraph">ONTAP驅動程式支援精簡配置或厚配置。 ONTAP驅動程式預設採用精簡配置。如果需要厚配置，則應配置後端定義檔或<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block>。如果兩者都已配置，<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block>優先考慮。為ONTAP配置以下內容：</block>
  <block id="2d0384de8b72e53c3476a478a5d4ec53" category="list-text">在<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block>,設定<block ref="b713baf75bcf13859037b5274d27d4b8" prefix=" " category="inline-code"></block>屬性為厚。</block>
  <block id="3764067c4b14276efb241c511c8b0cc2" category="list-text">在後端定義檔中，透過設定啟用厚卷<block ref="f78b8fc8b3b9f77533234c7f4a240613" prefix=" " category="inline-code"></block>作為體積。</block>
  <block id="d4391b26a81fead46afc74243c4029aa" category="section-title">如何確保即使我不小心刪除了PVC，正在使用的捲也不會被刪除？</block>
  <block id="e58a684cd1a44d4879defbb2ec06b9a4" category="paragraph">從 Kubernetes 1.10 版本開始，PVC 保護功能會自動啟用。</block>
  <block id="37a1da11b0f4b3ebef0df195d2fbccd5" category="section-title">我可以種植Trident生產的NFS PVC嗎？</block>
  <block id="e99a58cb2fd51c2db5c9598c04a5f53c" category="paragraph">是的。您可以膨脹由Trident製造的 PVC。請注意，卷自動增長是ONTAP 的功能，不適用於Trident。</block>
  <block id="3319194e0ba07a6aa327aefa1ab1e41f" category="section-title">我可以在SnapMirror資料保護 (DP) 模式或離線模式下匯入磁碟區嗎？</block>
  <block id="0b10afe39923054016a71caf423fdec6" category="paragraph">如果外部磁碟區處於 DP 模式或離線，則磁碟區匯入失敗。您收到以下錯誤訊息：</block>
  <block id="eed67b2d196c61d9c6cf4a50878ba446" category="section-title">如何將資源配額轉換為NetApp叢集？</block>
  <block id="c15d8f156ba84321c880b1bbe78dc0c7" category="paragraph">只要NetApp儲存有足夠的容量，Kubernetes 儲存資源配額就應該能夠正常運作。當NetApp儲存因容量不足而無法滿足 Kubernetes 配額設定時， Trident會嘗試進行配置，但會出錯。</block>
  <block id="08ec89166861e10bdf4e2bf3bcb7a150" category="section-title">我可以使用Trident建立磁碟區快照嗎？</block>
  <block id="64f5059234f21b014e1c442be4f03052" category="paragraph">是的。Trident支援建立按需磁碟區快照和從快照建立持久性磁碟區。若要從快照建立 PV，請確保<block ref="e7b29a25284a6f582881023fdc0cbe93" prefix=" " category="inline-code"></block>功能門已啟用。</block>
  <block id="669e09edc60383401e0adf3ce0cefcf3" category="section-title">支援Trident磁碟區快照的驅動程式有哪些？</block>
  <block id="804a6c22698fe4782c44f1e8d446964e" category="paragraph">截至今日，我們的產品已提供按需快照支援。<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block> ，<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block> ，<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> ，<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block> ，<block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block> ，<block ref="5935ea92cdd7d975b4e764b429f21c01" prefix=" " category="inline-code"></block> ， 和<block ref="bc5779a2d33eeb1304bae57f15920cfc" prefix=" " category="inline-code"></block>後端驅動程式。</block>
  <block id="54b8b99690e4f103a6d2f9967cadcd72" category="section-title">如何對透過Trident ONTAP配置的磁碟區進行快照備份？</block>
  <block id="0bdcd128fab544a7df404bc496a4126e" category="paragraph">這可以在以下平台找到：<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block> ，<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> ， 和<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block>司機。您也可以指定一個<block ref="0a236e7685e50a59df980d0a30929d6c" prefix=" " category="inline-code"></block>對於<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block>FlexVol等級的驅動。</block>
  <block id="53f6fbaa0c2bc4ebb4fc98f8a0337c54" category="paragraph">這也可以在以下平台找到：<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block>驅動程序，但粒度是FlexVol volume級別，而不是 qtree 級別。若要啟用對Trident配置的磁碟區進行快照的功能，請設定後端參數選項<block ref="0a236e7685e50a59df980d0a30929d6c" prefix=" " category="inline-code"></block>根據ONTAP後端定義的所需快照策略。  Trident無法獲知儲存控制器拍攝的任何快照。</block>
  <block id="3d68d8607ffd54f10e7dd693bb2b8a16" category="section-title">我可以為透過Trident配置的磁碟區設定快照保留百分比嗎？</block>
  <block id="423b8287d49f26ac095593b58d3d9e69" category="paragraph">是的，您可以透過Trident設定預留特定百分比的磁碟空間來儲存快照副本。<block ref="bb0d75280f9b683f2f1f0767fd0aff9b" prefix=" " category="inline-code"></block>後端定義檔中的屬性。如果您已配置<block ref="0a236e7685e50a59df980d0a30929d6c" prefix=" " category="inline-code"></block>和<block ref="bb0d75280f9b683f2f1f0767fd0aff9b" prefix=" " category="inline-code"></block>在後端定義檔中，快照保留百分比是根據以下方式設定的：<block ref="bb0d75280f9b683f2f1f0767fd0aff9b" prefix=" " category="inline-code"></block>後端文件中提到的百分比。如果<block ref="bb0d75280f9b683f2f1f0767fd0aff9b" prefix=" " category="inline-code"></block>沒有提及百分比數值， ONTAP預設將快照保留百分比設為 5%。如果<block ref="0a236e7685e50a59df980d0a30929d6c" prefix=" " category="inline-code"></block>如果選項設為“無”，則快照保留百分比設定為 0。</block>
  <block id="6b0d34d8a0749198a6b80eec69479c86" category="section-title">我可以直接存取卷宗快照目錄並複製文件嗎？</block>
  <block id="eb3a2d1eb3c4022269f4c6837332311a" category="paragraph">是的，您可以透過設定來存取Trident配置的磁碟區上的快照目錄。<block ref="7ad68fdac2eac069eb8ed0fc45b0fb74" prefix=" " category="inline-code"></block>後端定義檔中的參數。</block>
  <block id="4bfa28359ad130e5906ee7d785f1b314" category="section-title">我可以透過Trident為磁碟區設定SnapMirror嗎？</block>
  <block id="64dd4ea74b402889a9c341da491f4933" category="paragraph">目前， SnapMirror必須透過ONTAP CLI 或OnCommand System Manager在外部進行設定。</block>
  <block id="e321bf6d54ded18df56a41ea51223a2a" category="section-title">如何將持久性磁碟區還原到特定的ONTAP快照？</block>
  <block id="5325f5d2cf63aaaa6610f09e8aa4dc35" category="paragraph">若要將磁碟區還原到ONTAP快照，請執行下列步驟：</block>
  <block id="4e789db936072df2058e9f271a9b8db8" category="list-text">使正在使用持久卷的應用程式 pod 靜默。</block>
  <block id="b34baa75f4f799a23b19de9b94e86868" category="list-text">透過ONTAP CLI 或OnCommand System Manager還原到所需的快照。</block>
  <block id="08754f2800804f1fe3673c858b4b56e0" category="list-text">重啟應用程式 pod。</block>
  <block id="5a333b18a215ecfd4457ba0e1732654b" category="section-title">Trident能否在配置了負載平衡鏡像的 SVM 上設定磁碟區？</block>
  <block id="0e7629426b9d7596800cd5d72f558a7f" category="paragraph">可以為透過 NFS 提供資料的 SVM 的根磁碟區建立負載平衡鏡像。 ONTAP會自動更新Trident所建立的磁碟區的負載平衡鏡像。這可能會導致卷安裝延遲。使用Trident建立多個磁碟區時，磁碟區的配置取決於ONTAP更新負載平衡鏡像。</block>
  <block id="0d3ef54a4cc337b5d907b6639e51c6d4" category="section-title">如何將每個客戶/租戶的儲存類別使用情況分開統計？</block>
  <block id="fda1b35892cb6f61447f0e49415937d9" category="paragraph">Kubernetes 不允許在命名空間中使用儲存類別。但是，您可以使用 Kubernetes 透過使用儲存資源配額（每個命名空間一個配額）來限制每個命名空間中特定儲存類別的使用量。若要拒絕特定命名空間對特定儲存的訪問，請將該儲存類別的資源配額設為 0。</block>
  <block id="c217b0ac2dd5504f79ba78b220a9c358" category="summary">NetApp以多種方式為Trident提供支援。我們提供全天候 (24x7) 的豐富免費自助支援選項，例如 Discord 頻道。</block>
  <block id="db5eb84117d06047c97c9a0191b5fffe" category="doc">支援</block>
  <block id="567994f58882dceaeab9400ad2bdf7e2" category="paragraph">NetApp以多種方式為Trident提供支援。我們提供全天候 (24x7) 的豐富免費自助支援選項，例如知識庫 (KB) 文章和 Discord 頻道。</block>
  <block id="77981c4635531727d3030788d4ff1e6b" category="section-title">Trident支持</block>
  <block id="8327052a054aaa112ecf4f19369899c9" category="inline-link-macro">NetApp軟體版本對定義的支持</block>
  <block id="925ebc19538c47a22c7fcbf3d4f16838" category="paragraph">Trident根據您的版本提供三個等級的支援。參考<block ref="1b35655e5fe9e8bdc0fd2a18d7e5a06c" category="inline-link-macro-rx"></block>。</block>
  <block id="34678ee868eeabce720fc4a0fd60c17a" category="list-text">全力支持</block>
  <block id="bcf42b210ffb66f788559ec05bd3978c" category="list-text">Trident自發布之日起提供十二個月的全面支援。</block>
  <block id="d397c85f7e5c9820b73839b4255bab4e" category="list-text">有限的支持</block>
  <block id="c4672ccc07d08b01842ba7bff5ab9012" category="list-text">Trident在發布日期後的第 13 至 24 個月提供有限的支援。</block>
  <block id="57b81b24dfc6e0b0f8ce342d0f7250d3" category="list-text">自給自足</block>
  <block id="c6fc0d89ce850093b5d2e987955ba870" category="list-text">Trident 的文件可在發布日期後的第 25 個月至第 36 個月內查閱。</block>
  <block id="34b6cd75171affba6957e308dcbd92be" category="cell">版本</block>
  <block id="e26bc895e5bb00237e35bd08e101a228" category="inline-link-macro">25.06</block>
  <block id="512754259e832a6faaee7e55aa2a0641" category="paragraph"><block ref="512754259e832a6faaee7e55aa2a0641" category="inline-link-macro-rx"></block></block>
  <block id="c21446b3ecfb30ed6c2760d686bd4578" category="cell">2026年6月</block>
  <block id="2f57a6988da045d1c26e2c5016ad0900" category="cell">2027年6月</block>
  <block id="e388180fa8946253a28286d92fcbc393" category="cell">2028年6月</block>
  <block id="68d4b8621bcc2d9eae1a68dc27dfa485" category="inline-link-macro">25.02</block>
  <block id="61a3094d46fa14bffb9067eeb8d3405a" category="paragraph"><block ref="61a3094d46fa14bffb9067eeb8d3405a" category="inline-link-macro-rx"></block></block>
  <block id="be90349da04be71a620e68314d810f7f" category="cell">2026年2月</block>
  <block id="4b7cb6c36399bdd4e8724de18a1c079b" category="cell">2027年2月</block>
  <block id="eaaf7bd308bf6f27888c8d18ba11417d" category="cell">2028年2月</block>
  <block id="e9c4cf1c3d2fd7e6c0a13bfe44d8e785" category="inline-link-macro">24.10</block>
  <block id="5956c33dbd8c8ed6e363f54092a9d544" category="paragraph"><block ref="5956c33dbd8c8ed6e363f54092a9d544" category="inline-link-macro-rx"></block></block>
  <block id="99dfa28920a40a7be0858c50f989a3e5" category="cell">2025年10月</block>
  <block id="78c875172f37f031a2632dc008815ee1" category="cell">2026年10月</block>
  <block id="17ab7ccda1012696aabc01e478bd7612" category="cell">2027年10月</block>
  <block id="38999be4c01ec9d8c11d4405b7dc50e0" category="inline-link-macro">24.06</block>
  <block id="1e441e2a6ea2842643d9b8f88e32aebf" category="paragraph"><block ref="1e441e2a6ea2842643d9b8f88e32aebf" category="inline-link-macro-rx"></block></block>
  <block id="94d267f658e04734eb2e098127293a89" category="cell">2025年6月</block>
  <block id="4e9b156e7e2788c8cd4b0877fd922657" category="inline-link-macro">24.02</block>
  <block id="d2196853cebe173567df4b864e4816f7" category="paragraph"><block ref="d2196853cebe173567df4b864e4816f7" category="inline-link-macro-rx"></block></block>
  <block id="6cc5c9e930ea3d3b8bff4367c60ceea4" category="cell">2025年2月</block>
  <block id="766995a062c6503acd7ac4752fbb865d" category="inline-link-macro">23.10</block>
  <block id="bcb8f00239af2cecd5a6b534dabea922" category="paragraph"><block ref="bcb8f00239af2cecd5a6b534dabea922" category="inline-link-macro-rx"></block></block>
  <block id="cfab1ba8c67c7c838db98d666f02a132" category="cell">--</block>
  <block id="217af7d1776d22530d98be04d104fd49" category="inline-link-macro">23.07</block>
  <block id="62bc04158f931e9b0a26f5676c8ab043" category="paragraph"><block ref="62bc04158f931e9b0a26f5676c8ab043" category="inline-link-macro-rx"></block></block>
  <block id="928f12ce7e1197fe962e09f979b98d0d" category="cell">2025年7月</block>
  <block id="a257f7f4b2f6e07845ce567df142ad00" category="cell">2026年7月</block>
  <block id="1a3a2b5e6c52142797bb5c00594e2a3c" category="inline-link-macro">23.04</block>
  <block id="4f00a05b361ef580687832a6a48984db" category="paragraph"><block ref="4f00a05b361ef580687832a6a48984db" category="inline-link-macro-rx"></block></block>
  <block id="42ce83dc3f5ef22d986311b267a5ac20" category="cell">2025年4月</block>
  <block id="fc7d05f9009e90b92a15aad926bca249" category="cell">2026年4月</block>
  <block id="8dfda84fc7f59655e20a770603bf9231" category="inline-link-macro">23.01</block>
  <block id="e0ed61e44672f0b6193055dd0719d240" category="paragraph"><block ref="e0ed61e44672f0b6193055dd0719d240" category="inline-link-macro-rx"></block></block>
  <block id="7022ed6df71cc12fbd0576cef4df23fd" category="cell">2026年1月</block>
  <block id="775d4bb28d257a6aa23992563a82c458" category="inline-link-macro">22.10</block>
  <block id="1d064e71d708bc66779c604db1339850" category="paragraph"><block ref="1d064e71d708bc66779c604db1339850" category="inline-link-macro-rx"></block></block>
  <block id="40e41fb2db11266b8f751c0d5c67cba0" category="inline-link">NetApp知識庫（需要登入）</block>
  <block id="62c93f738b926db77daa59d585fbfa48" category="paragraph">如需查看完整的故障排除文章列表，請參閱<block ref="57f5c759ada931c6a2051314ca6ee99e" category="inline-link-rx"></block>。</block>
  <block id="1cf7168782187634fbc408c66b895dbc" category="section-title">社區支持</block>
  <block id="9cc21385e3a5bbf0e140948125e39e4c" category="paragraph">我們的平台上有一個活躍的容器使用者公共社群（包括Trident開發人員）。<block ref="6130664377fa14615bb1abd5257e9714" category="inline-link-macro-rx"></block> 。這裡是詢問有關專案的一般性問題並與志同道合的同行討論相關主題的好地方。</block>
  <block id="965b11d07d6acceebc9efec23e5e74a9" category="section-title">NetApp技術支持</block>
  <block id="b27fcb3adc5d56564559e3f24a9659c8" category="paragraph">如需Trident的協助，請使用下列指令建立支援包<block ref="1d41e2024c69110ad6054ffc785ca8e0" prefix=" " category="inline-code"></block>並將其發送至<block ref="da34ca64df3f236a423516102d4096c2" prefix=" " category="inline-code"></block>。</block>
  <block id="d13de4a83d7b44c2e65495def8ef1c7b" category="section-title">更多資訊</block>
  <block id="eddc3ab7d283c02464f100ff837cf055" category="inline-link-macro">Trident資源</block>
  <block id="01ba66c56fa9029a3ce0095f09b9b340" category="list-text"><block ref="01ba66c56fa9029a3ce0095f09b9b340" category="inline-link-macro-rx"></block></block>
  <block id="874d8a5301794a9ca2aba132ac2460f3" category="inline-link-macro">Kubernetes Hub</block>
  <block id="8f4c1b75985ff2903107b7115115ea58" category="list-text"><block ref="8f4c1b75985ff2903107b7115115ea58" category="inline-link-macro-rx"></block></block>
  <block id="dfd4fd2ff3f0bcabea8bfd811d0db9b4" category="summary">Trident是由NetApp維護的開源儲存配置器和編排器。它允許您為由 Docker 和 Kubernetes 管理的容器化應用程式建立儲存磁碟區。  **請閱讀發行說明，以了解有關升級到Trident 25.06 的重要資訊。 **</block>
  <block id="1c14876f05b759f9c9be73a49c84ddd4" category="doc">Trident 25.06 文檔</block>
  <block id="0c2517d08c2a451f035c427a4dc895e1" category="summary">以下是此版本已知的幾個問題。</block>
  <block id="95dc0391ce7b396d7dd5622284e8fc3e" category="doc">已知問題</block>
  <block id="34515f1d88b10d0db0a78eba6c533394" category="paragraph">已知問題指明了可能會阻止您成功使用此版本產品的問題。</block>
  <block id="825cc355a6b503245e0d84d26f0e16d1" category="paragraph">以下已知問題會影響目前版本：</block>
  <block id="dd298b4e9bfcd54db2048c92819679ad" category="section-title">恢復 Restic 備份的大檔案可能會失敗</block>
  <block id="8686ed080978191a10848ee52cd0c87a" category="inline-link">使用Trident Protect 保護應用程式</block>
  <block id="beca1b1ae9141eb4cf9a371088911e0f" category="paragraph">從使用 Restic 建立的 Amazon S3 備份中還原 30GB 或更大的檔案時，復原作業可能會失敗。作為變通方法，可以使用 Kopia 作為資料移動工具備份資料（Kopia 是備份的預設資料移動工具）。請參閱<block ref="1e108e5c10b0ba51ea4cfaf507765efb" category="inline-link-rx"></block>以取得說明。</block>
  <block id="e9c44bbfd795a5d63d74c6a77afee70d" category="summary">法律聲明提供對版權聲明、商標、專利等的存取。</block>
  <block id="30d965eef5ba25c6b9998ae38270b43e" category="doc">法律聲明</block>
  <block id="6016a2b341113bf496b719905398ecd2" category="section-title">版權</block>
  <block id="52009bb7ee17227f566cd26a02caee56" category="inline-link-macro"><block ref="52009bb7ee17227f566cd26a02caee56" category="inline-link-rx"></block></block>
  <block id="a1a9afcf552a769c282769271829889a" category="paragraph"><block ref="a1a9afcf552a769c282769271829889a" category="inline-link-macro-rx"></block></block>
  <block id="126a02652da6de02962cf1b654fd6376" category="section-title">商標</block>
  <block id="c4ce4761e466527d26b3e3d5ed1006fd" category="paragraph">NETAPP、NETAPP 標誌和NetApp商標頁面上列出的標誌是NetApp, Inc. 的商標。其他公司和產品名稱可能是其各自所有者的商標。</block>
  <block id="f99aa604031e5049799e73b5c3748a98" category="inline-link-macro"><block ref="f99aa604031e5049799e73b5c3748a98" category="inline-link-rx"></block></block>
  <block id="5d545fe5152641e2ebe654e336e520e5" category="paragraph"><block ref="5d545fe5152641e2ebe654e336e520e5" category="inline-link-macro-rx"></block></block>
  <block id="be89498d2f8a22ce47c02ba9795fe2af" category="section-title">專利</block>
  <block id="d0b19d36be2c5f16e9aef46c8a452d3d" category="paragraph">NetApp擁有的專利的最新清單可在以下位置找到：</block>
  <block id="88e5eabd3917048b6927c42496b98f86" category="inline-link-macro"><block ref="88e5eabd3917048b6927c42496b98f86" category="inline-link-rx"></block></block>
  <block id="dd38f906b37d412de7d1c1dcf4cbf31c" category="paragraph"><block ref="dd38f906b37d412de7d1c1dcf4cbf31c" category="inline-link-macro-rx"></block></block>
  <block id="56c34c6410dd45c5cec44149ad0ce037" category="section-title">隱私權政策</block>
  <block id="8acb58cbd50ef1b468a020ee0bd351d3" category="inline-link-macro"><block ref="8acb58cbd50ef1b468a020ee0bd351d3" category="inline-link-rx"></block></block>
  <block id="2352c4e1f4d0024ade0869e00e6243f4" category="paragraph"><block ref="2352c4e1f4d0024ade0869e00e6243f4" category="inline-link-macro-rx"></block></block>
  <block id="c0227cef6f07a8cd2ac72f2945b031aa" category="section-title">開源</block>
  <block id="e476cbfc1ce1aee033e17376d6942cf3" category="paragraph">您可以在每個版本的通知文件中查看NetApp Trident軟體中使用的第三方版權和授權資訊。<block ref="4a3c8c5a408c6db1c44c04391a8a0a2f" category="inline-link-rx"></block> 。</block>
  <block id="52eb48d8202a6d184f86997bcbd937cf" category="summary">Trident的配置流程分為兩個主要階段。第一階段將儲存類別與一組適當的後端儲存池關聯起來，這是在進行設定之前必須進行的準備工作。第二階段包含磁碟區的建立本身，需要從與待建立磁碟區的儲存類別關聯的儲存池中選擇儲存池。</block>
  <block id="89c3bcf0ecc1114f8d19734d9156cb40" category="doc">供應</block>
  <block id="7c14ddfe8f627e4786f4da7cd4cea9ba" category="section-title">儲存類別關聯</block>
  <block id="90bec6679868d1d43c3f2f5d9905165f" category="paragraph">將後端儲存池與儲存類別關聯起來，取決於儲存類別的請求屬性及其<block ref="c614017642b6cfd9e6a25c7df122d917" prefix=" " category="inline-code"></block>，<block ref="145d1b89a9f9ed8bdc16d1f7a814cace" prefix=" " category="inline-code"></block> ， 和<block ref="7df974d787ead594df017a11672f2f0e" prefix=" " category="inline-code"></block>列表。建立儲存類別時， Trident會將其每個後端提供的屬性和池與儲存類別請求的屬性和池進行比較。如果儲存池的屬性和名稱與所有要求的屬性和池名稱相符， Trident會將該儲存池新增至該儲存類別的適用儲存池集合中。此外， Trident還新增了清單中列出的所有儲存池。<block ref="145d1b89a9f9ed8bdc16d1f7a814cace" prefix=" " category="inline-code"></block>即使它們的屬性不滿足儲存類別的所有或任何請求屬性，也要將其新增至該集合。你應該使用<block ref="7df974d787ead594df017a11672f2f0e" prefix=" " category="inline-code"></block>列出要覆蓋和移除儲存類別所使用的儲存池。每次新增的後端時， Trident都會執行類似的流程，檢查其儲存池是否符合現有儲存類別的要求，並刪除任何被標記為排除的儲存池。</block>
  <block id="ab4589eca69db942d79a0dbbd9ec8399" category="section-title">銷售創造</block>
  <block id="252902d6f7f664b44722075296d3ce49" category="paragraph">Trident然後利用儲存類別和儲存池之間的關聯來確定在哪裡配置磁碟區。建立磁碟區時， Trident首先取得該磁碟區儲存類別的儲存池集合，如果您為該磁碟區指定了協議， Trident會刪除那些無法提供所要求協定的儲存池（例如， NetApp HCI/ SolidFire後端無法提供基於檔案的磁碟區，而ONTAP NAS 後端無法提供基於區塊的磁碟區）。 Trident會隨機化所得集合的順序，以方便磁碟區的均勻分佈，然後遍歷該集合，依序嘗試在每個儲存池上配置磁碟區。如果一次成功，則傳回成功結果，並將流程中遇到的任何失敗記錄下來。  Trident僅在無法為要求的儲存類別和協定配置所有可用的儲存池時才會傳回失敗。</block>
  <block id="6cba37a64b3872e40e12212479ca8ece" category="summary">了解更多關於Trident如何處理其驅動程式的磁碟區快照所建立的資訊。</block>
  <block id="e9c3828cd06711f9036bb4ce862a32c5" category="doc">卷快照</block>
  <block id="a6fbed601c3d014f6d8342990aeee0b5" category="section-title">了解如何建立磁碟區快照</block>
  <block id="29a2e5ba987103c3a239ad6ec13b96a2" category="list-text">對於<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block>，<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> ，<block ref="5935ea92cdd7d975b4e764b429f21c01" prefix=" " category="inline-code"></block> ， 和<block ref="bc5779a2d33eeb1304bae57f15920cfc" prefix=" " category="inline-code"></block>在驅動程式中，每個持久性磁碟區 (PV) 都會對應到一個FlexVol volume。因此，磁碟區快照被創建為NetApp快照。 NetApp快照技術比同類快照技術具有更高的穩定性、可擴展性、可恢復性和效能。這些快照副本在創建所需時間和儲存空間方面都非常有效率。</block>
  <block id="5d4b9bc562ebe88c39d0e521b90fc54b" category="list-text">對於<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block>在驅動程式中，每個持久性磁碟區 (PV) 都會對應到一個FlexGroup。因此，磁碟區快照將建立為NetApp FlexGroup快照。 NetApp快照技術比同類快照技術具有更高的穩定性、可擴展性、可恢復性和效能。這些快照副本在創建所需時間和儲存空間方面都非常有效率。</block>
  <block id="9574cb59de58a7e6882179620abd42fd" category="list-text">對於<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block>驅動程序，PV 對應到在共享FlexVol磁碟區上建立的 LUN。透過對關聯的 LUN 執行 FlexClone 操作，即可獲得 PV 的 VolumeSnapshot。 ONTAP FlexClone技術幾乎可以瞬間建立即使是最大資料集的副本。副本與其父級共享資料塊，除了元資料所需的空間外，不佔用任何儲存空間。</block>
  <block id="9dbabbadda024bb7b1d0db43ab31b45f" category="list-text">對於<block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block>驅動程式中，每個 PV 會對應到在NetApp Element軟體/ NetApp HCI叢集上建立的 LUN。 VolumeSnapshots 由底層 LUN 的 Element 快照表示。這些快照是特定時間點的副本，僅佔用少量系統資源和空間。</block>
  <block id="e5200dca1b3eb1315befdc6f874d5143" category="list-text">當與<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block>和<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block>在驅動程式中， ONTAP快照是FlexVol的某個時間點的副本，會佔用FlexVol本身的空間。隨著快照的建立/計劃，這會導致磁碟區中的可寫入空間隨時間減少。解決此問題的一個簡單方法是透過 Kubernetes 調整大小來增加磁碟區。另一種方法是刪除不再需要的快照。當透過 Kubernetes 建立的 VolumeSnapshot 被刪除時， Trident將刪除關聯的ONTAP快照。並非透過 Kubernetes 建立的ONTAP快照也可以刪除。</block>
  <block id="9f049d4909391d7f977c1fc9b8c6db8f" category="paragraph">使用Trident，您可以利用 VolumeSnapshots 從中建立新的 PV。使用FlexClone技術從這些快照建立 PV，適用於支援的ONTAP和 CVS 後端。從快照建立 PV 時，後備磁碟區是快照父磁碟區的FlexClone 。這<block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block>驅動程式使用 Element 軟體磁碟區克隆從快照建立 PV。它在這裡從 Element 快照創建一個克隆。</block>
  <block id="962da67bee9575fc006f5d69c948f63a" category="summary">虛擬池在 Trident 的儲存後端和 Kubernetes 的 StorageClasses 之間提供了一個抽象層。它們允許管理員以通用的、與後端無關的方式為每個後端定義位置、效能和保護等方面，而無需讓 StorageClass 指定要使用哪個實體後端、後端池或後端類型來滿足所需標準。</block>
  <block id="aa3a2f2908114304b0a2fa7847f52c52" category="doc">虛擬池</block>
  <block id="6dc68c3b2f9d6c276fc86090da3220f5" category="paragraph">虛擬池在Trident儲存後端和 Kubernetes 之間提供了一個抽象層。<block ref="f652904c3bfb48fb25a0a75f485f0ff6" prefix=" " category="inline-code"></block> 。它們允許管理員以通用的、與後端無關的方式定義每個後端的各個方面，例如位置、效能和保護，而無需建立單獨的配置。<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block>指定要使用的實體後端、後端池或後端類型，以滿足所需條件。</block>
  <block id="c395d1a6e14d73fb73663b1198b0b134" category="section-title">了解虛擬泳池</block>
  <block id="63e606feac51f51c118b9ea9da3584dc" category="paragraph">儲存管理員可以在任何Trident後端上，透過 JSON 或 YAML 定義檔定義虛擬池。</block>
  <block id="6293784c303cb134632b85dc06f372df" category="image-alt">展示了虛擬池的概念圖。</block>
  <block id="2a778cf7220cdde142651975e1bcd90f" category="paragraph">在虛擬池列表之外指定的任何方面對於後端都是全域的，並將應用於所有虛擬池；而每個虛擬池可以單獨指定一個或多個方面（覆蓋任何後端全域方面）。</block>
  <block id="e26346b2afab61526141ea7275a77ba3" category="list-text">定義虛擬池時，請勿嘗試重新排列後端定義中現有虛擬池的順序。</block>
  <block id="92aa2031bb642a0c5c916142f725400d" category="list-text">我們不建議修改現有虛擬池的屬性。您需要定義一個新的虛擬池來進行變更。</block>
  <block id="43d41b472d09879b85f78a3b8e487fd1" category="paragraph">大多數方面都是用後端特有的術語來描述的。至關重要的是，這些方面值不會暴露在後端驅動程式之外，也無法用於匹配。<block ref="f652904c3bfb48fb25a0a75f485f0ff6" prefix=" " category="inline-code"></block>相反，管理員可以為每個虛擬池定義一個或多個標籤。每個標籤都是一個鍵值對，標籤可能在不同的後端中是相同的。與方麵類似，標籤可以針對每個池進行指定，也可以全域指定到後端。與具有預先定義名稱和值的方面不同，管理員可以完全自主地根據需要定義標籤鍵和值。為了方便起見，儲存管理員可以為每個虛擬池定義標籤，並按標籤將磁碟區分組。</block>
  <block id="5912b080dcb9b431aedfe3f22784a527" category="paragraph">可以使用以下字元來定義虛擬池標籤：</block>
  <block id="89ff245fa0048aa9d5eeb6153a82f880" category="list-text">大寫字母<block ref="0c43922c2fd0b2886820ce8d59d0a425" prefix=" " category="inline-code"></block></block>
  <block id="568787cc8b0bed04e060c362d705b747" category="list-text">小寫字母<block ref="dcb844fadbceca7867ca91e26174469b" prefix=" " category="inline-code"></block></block>
  <block id="99be75de31964ff7afed59629c2827c9" category="list-text">數位<block ref="415d01607bfb64fa0b7efaf0fe064e86" prefix=" " category="inline-code"></block></block>
  <block id="f0fbfac7ddb67830c39dcddb2e0101aa" category="list-text">底線<block ref="b14a7b8059d9c055954c92674ce60032" prefix=" " category="inline-code"></block></block>
  <block id="c76231732eebaec2e2411ed7cfd30e2c" category="list-text">連字符<block ref="336d5ebc5436534e61d16e63ddfca327" prefix=" " category="inline-code"></block></block>
  <block id="e084f7ea866c7ad616e67a911925c850" category="paragraph">一個<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block>透過引用選擇器參數中的標籤來確定要使用的虛擬池。虛擬池選擇器支援以下運算符：</block>
  <block id="e1b3ec89ead7f83a9245ed5c9cacfdbf" category="cell">操作員</block>
  <block id="3b64653c97a388d828849314b6a1b383" category="cell">池的標籤值必須：</block>
  <block id="499badcb6f450c7f46c51d873eb84286" category="cell"><block ref="43ec3e5dee6e706af7766fffea512721" prefix="" category="inline-code"></block></block>
  <block id="354653142ec321459dfd6d71444e992e" category="cell">性能=優質</block>
  <block id="6da89265a9a8b0b28eb4946bb2ec0c6d" category="cell">匹配</block>
  <block id="5a5292b0a0d0379f0f1b12801b09b266" category="cell"><block ref="de0219f9333d57ea89a9ba235df098ba" prefix="" category="inline-code"></block></block>
  <block id="eccde6822783bd75209c9b6a2d357f6c" category="cell">性能！ =極限</block>
  <block id="ecf92052d55345fee4602d9eb8c22063" category="cell">不匹配</block>
  <block id="ae2bef277194f73d24a36a78009aac1e" category="cell"><block ref="13b5bfe96f3e2fe411c9f66f4a582adf" prefix="" category="inline-code"></block></block>
  <block id="f8cf8c23afb5459dbf7c24b685caf85b" category="cell">位置在（東，西）</block>
  <block id="c6c1caf73b0f83d807abe5a717014ab7" category="cell">屬於價值集合。</block>
  <block id="1a031eecbce49366e550273b9321b909" category="cell"><block ref="935f754ecc68ca688f61c154c404ed06" prefix="" category="inline-code"></block></block>
  <block id="b5585f3f9b45f391fee5dd15e6516450" category="cell">表演獎（銀獎、銅獎）</block>
  <block id="8daf6b016f4033d59900c23f162c0f73" category="cell">不在值集中</block>
  <block id="c6bfba38b789fec8271d1d1496a9ee59" category="cell"><block ref="42538adbdb6240b2b083a000a615d5bd" prefix="" category="inline-code"></block></block>
  <block id="152f5dc0f7ac734f8e8ee17d4a482462" category="cell">保護</block>
  <block id="7b532e697a35209f3df3956577cc3d9c" category="cell">存在且具有任意值</block>
  <block id="eb0254f1d0a82e646c239d4d2e2f83ac" category="cell"><block ref="f65e5ff2a1bb1af969dccabe7dcd5cdd" prefix="" category="inline-code"></block></block>
  <block id="67a3b723b2d9024808eb2c6e686d00a0" category="cell">！保護</block>
  <block id="1fde97909b90bb329db2062f7744bd45" category="cell">不存在</block>
  <block id="acd6bcd484ba971a72536c22c06f04e2" category="summary">了解更多關於Trident如何使用磁碟區存取群組的資訊。</block>
  <block id="b4621305109716b02eed0cf25fabab13" category="doc">卷訪問群組</block>
  <block id="33911b1eec54b4b5a7fbc504e6569989" category="inline-link">卷訪問群組</block>
  <block id="6a460593bdfb0144320bef6fdd1b2472" category="paragraph">了解更多關於Trident如何使用<block ref="783dd6ea9e0b09c84db9ccd072a61c55" category="inline-link-rx"></block>。</block>
  <block id="1ce858ea946af658f2db231318e1c74e" category="admonition">如果您使用的是 CHAP，請忽略此部分。建議使用 CHAP 以簡化管理並避免下文所述的擴展限制。此外，如果您在 CSI 模式下使用Trident ，則可以忽略此部分。  Trident在作為增強型 CSI 設定器安裝時使用 CHAP。</block>
  <block id="99c850b82f45e568828f2a8c5ab8f94d" category="section-title">了解卷訪問群組</block>
  <block id="547d4fe433ab9ed2223dfe9c48379548" category="paragraph">Trident可以使用磁碟區存取群組來控制對其所配置磁碟區的存取。如果 CHAP 被停用，它會尋找一個名為「存取群組」的存取群組。<block ref="47cb44be55a0dffa15dfc900a4c687be" prefix=" " category="inline-code"></block>除非您在設定中指定一個或多個存取群組 ID。</block>
  <block id="33a94edb76f0383c1d244a8698373b50" category="paragraph">Trident會將新磁碟區與已設定的存取群組關聯起來，但它本身並不會建立或以其他方式管理存取群組。在將儲存後端新增至Trident之前，存取群組必須存在，且它們需要包含 Kubernetes 叢集中每個節點的 iSCSI IQN，這些節點可能會掛載由該後端配置的磁碟區。在大多數安裝中，這包括叢集中的每個工作節點。</block>
  <block id="054e161b9c33938d4cac2bab4e4d46b8" category="paragraph">對於節點數超過 64 個的 Kubernetes 集群，您應該使用多個存取組。每個訪問組最多可包含 64 個 IQN，每個卷可屬於四個訪問組。配置最多四個存取群組後，叢集中最多 256 個節點中的任何節點都將能夠存取任何磁碟區。有關磁碟區存取群組的最新限制，請參閱<block ref="ac4000c3a85e5909daa6593f9f0617fd" category="inline-link-rx"></block>。</block>
  <block id="ca3c25915a30bef4ec583f6082477acf" category="paragraph">如果您要修改的配置是基於預設配置的，那麼請注意以下事項。<block ref="47cb44be55a0dffa15dfc900a4c687be" prefix=" " category="inline-code"></block>訪問群組必須與其他群組一起使用，並且必須包含該群組的 ID。<block ref="47cb44be55a0dffa15dfc900a4c687be" prefix=" " category="inline-code"></block>存取清單中的群組。</block>
  <block id="4cfa22b281cbd36e1a275d61ec23a9b4" category="summary">您可以收集日誌以協助進行故障排除。收集日誌的方法取決於您執行 Docker 外掛程式的方式。</block>
  <block id="fe1786b49549e8e06a89b9c57d7fc514" category="doc">收集日誌</block>
  <block id="756909f99bc1a720d318a5f5b94eb094" category="section-title">收集日誌以進行故障排除</block>
  <block id="f3a29486bed19a90f2da6d007818b427" category="list-title">步驟</block>
  <block id="6049f954e4284100050b26e9f3fb772e" category="list-text">如果您使用建議的託管外掛程式方法執行Trident （即，使用<block ref="fb3421df1496105acc8a14808359550b" prefix=" " category="inline-code"></block>命令），可以這樣理解：</block>
  <block id="7f86daacf34c67c042470fa9d926ba49" category="paragraph">標準日誌等級應該足以診斷大多數問題。如果這還不夠，您可以啟用偵錯日誌記錄。</block>
  <block id="c28722abec5c1daefa02916119bbff91" category="list-text">若要啟用偵錯日誌記錄，請安裝啟用調試日誌記錄功能的外掛程式：</block>
  <block id="b142025dd533fb27bf7df1a93c55e311" category="paragraph">或者，在插件已安裝的情況下啟用調試日誌記錄：</block>
  <block id="6bdfdbfc466bb6d93222dbf7b3a374fe" category="list-text">如果您在主機上執行該二進位文件，則日誌位於主機的目錄中。<block ref="849fc2421f236e9c9b49a9d3fed2c404" prefix=" " category="inline-code"></block>目錄。若要啟用偵錯日誌記錄，請指定<block ref="9b945915b0cddbee22047fd529d642f6" prefix=" " category="inline-code"></block>當你運行插件。</block>
  <block id="2aa0797ce5da04d1c6f027c9b3276483" category="section-title">一般故障排除技巧</block>
  <block id="94d799ff06bdb0aedb7b64151dac73d7" category="list-text">新用戶遇到的最常見問題是配置錯誤，導致插件無法初始化。發生這種情況時，當您嘗試安裝或啟用外掛程式時，可能會看到類似這樣的訊息：</block>
  <block id="fe6b4529e706ebc0f7e3668d3230d029" category="paragraph"><block ref="e10704aaf501d617a85e30884eb05c0b" prefix="" category="inline-code"></block></block>
  <block id="3d924bd43304301ed127cbbd303a4fa6" category="paragraph">這意味著插件啟動失敗。幸運的是，該插件內建了全面的日誌記錄功能，應該可以幫助您診斷可能遇到的大多數問題。</block>
  <block id="79c820c2d64495c47651e58e73f97294" category="list-text">如果將光電系統安裝到貨櫃上遇到問題，請確保：<block ref="7a31649dd02ecf0349542b72f9d5ef54" prefix=" " category="inline-code"></block>已安裝並正在運行。使用主機作業系統所需的軟體包管理器並檢查是否<block ref="7a31649dd02ecf0349542b72f9d5ef54" prefix=" " category="inline-code"></block>正在運行。您可以透過執行以下命令來檢查 rpcbind 服務的狀態：<block ref="461bc51ac38341d1d2fdae2e84bc6e47" prefix=" " category="inline-code"></block>或其等效物。</block>
  <block id="e391df7d288176b307da8db0c4d91ae5" category="summary">Trident for Docker 為NetApp儲存平台提供與 Docker 生態系統的直接整合。它支援從儲存平台到 Docker 主機的儲存資源配置和管理，並提供了一個框架，以便將來添加其他平台。</block>
  <block id="e0a3531ef314a005745a9fea19b5ba09" category="doc">部署Trident</block>
  <block id="70f45f0faadd8edb223d0fdeb6668679" category="paragraph">在同一台主機上可以同時執行多個Trident實例。這樣就可以同時連接到多個儲存系統和儲存類型，並且可以自訂 Docker 磁碟區使用的儲存。</block>
  <block id="d59db7846bd10b6d60d21543df9faa9e" category="paragraph-title">你需要什麼</block>
  <block id="89bcbd8e4ba49b7310e9fa748e878c4b" category="inline-link-macro">部署的先決條件</block>
  <block id="7da919c969cc2b18d98105fe90684df8" category="paragraph">查看<block ref="18d5551396fb2ce2e009cfdb709e4875" category="inline-link-macro-rx"></block>。確保滿足先決條件後，即可部署Trident。</block>
  <block id="88f0ab229fa9d759d74fcf6ab7cc17b1" category="section-title">Docker 管理的插件方法（版本 1.13/17.03 及更高版本）</block>
  <block id="58391bc76e8c1c5635a11134b3e4083d" category="admonition">如果您之前在 Docker 1.13/17.03 之前的版本中使用過Trident 的傳統守護程序方法，請確保在使用託管外掛程式方法之前停止Trident程序並重新啟動 Docker 守護程序。</block>
  <block id="7bf1ee8f4e093050c1cdf1842931af7d" category="list-text">停止所有正在運行的實例：</block>
  <block id="47b9ec5c8c4439980c63f4188bad5324" category="list-text">重啟 Docker。</block>
  <block id="5311ac4d72d5c91dcaa39b896d3b8027" category="list-text">請確保您已安裝 Docker Engine 17.03（新版本 1.13）或更高版本。</block>
  <block id="07d6db5e99a0aa19fe76f15efed30ecf" category="inline-link">安裝或更新您的安裝程序</block>
  <block id="2c3bc9d0632e0cccc05fdd3c42467df9" category="paragraph">如果您的版本已過時，<block ref="ddebe10ca17c0276898872fa2632e8fb" category="inline-link-rx"></block> 。</block>
  <block id="48afbcf494fc19ee409f5aff48ae32c3" category="list-text">建立設定檔並如下指定選項：</block>
  <block id="9314e9bcd24c80b255fc3e9e697a2ada" category="list-text"><block ref="2245023265ae4cf87d02c8b6ba991139" prefix="" category="inline-code"></block>預設檔名是<block ref="06b2d3b23dce96e1619d2b53d6c947ec" prefix=" " category="inline-code"></block>不過，您可以透過指定名稱來使用您選擇的任何名稱。<block ref="2245023265ae4cf87d02c8b6ba991139" prefix=" " category="inline-code"></block>檔案名稱選項。設定檔必須位於<block ref="82a4d1e835ca8dc19ea6a437e4af9493" prefix=" " category="inline-code"></block>主機系統上的目錄。</block>
  <block id="8798dc2a3b5e61873054923c9f170ac7" category="list-text"><block ref="6ab0f208312cdf3ab62b4b1061d4f7c0" prefix="" category="inline-code"></block>：指定日誌等級<block ref="ad42f6697b035b7580e4fef93be20b4d" prefix="(" category="inline-code"></block>，<block ref="caf9b6b99962bf5c2264824231d7a40c" prefix=" " category="inline-code"></block> ，<block ref="1ea4c3ab05ee0c6d4de30740443769cb" prefix=" " category="inline-code"></block> ，<block ref="cb5e100e5a9a3e7f6d1fd97512215282" prefix=" " category="inline-code"></block> ，<block ref="df6402fd9ecc60f5a2159fdf45711cd4" prefix=" " category="inline-code"></block> ）。預設值為<block ref="caf9b6b99962bf5c2264824231d7a40c" prefix=" " category="inline-code"></block>。</block>
  <block id="45ed67026a1141006588fcc698646141" category="list-text"><block ref="ad42f6697b035b7580e4fef93be20b4d" prefix="" category="inline-code"></block>：指定是否啟用調試日誌記錄。預設值為 false。如果為真，則覆蓋日誌等級。</block>
  <block id="3bed6f89999b483af7f55024d9e7c02a" category="list-text">建立設定檔存放位置：</block>
  <block id="28156615c51d4bad2ee47d0a9f43f404" category="list-text">建立設定檔：</block>
  <block id="8554af307cedea04e0e39362f35175f4" category="list-text">使用託管外掛系統啟動Trident 。代替<block ref="3d689bd3819ead35ed794427bd12f459" prefix=" " category="inline-code"></block>使用您正在使用的插件版本（xxx.xx.x）。</block>
  <block id="8020e7c6d37db1ac7100b3b117f46cfd" category="list-text">開始使用Trident從已設定的系統中取得儲存空間。</block>
  <block id="a9c521f25a3bacb94ad1dd4705b3585f" category="list-text">建立一個名為「firstVolume」的磁碟區：</block>
  <block id="4fbca4f67cbe96bc7d7a16691d2912c2" category="list-text">容器啟動時建立預設磁碟區：</block>
  <block id="b8e88709dbc4f2f80a96f53f83862704" category="list-text">移除音量“firstVolume”：</block>
  <block id="0e68ac1d84bfedf203365a9fb37db9ed" category="section-title">傳統方法（版本 1.12 或更早版本）</block>
  <block id="2c1107bda4c1ae7904ab1835c35973b7" category="list-text">請確保您使用的是 Docker 版本 1.10 或更高版本。</block>
  <block id="b6fdfa2eab3e357687eba5ddec2bea0c" category="paragraph">如果您的版本過舊，請更新您的安裝。</block>
  <block id="45c61654258cfd16ceec15df7df02138" category="inline-link">請按照您的分發說明進行操作</block>
  <block id="07dff22faeb910f375341cfcbd4899fd" category="paragraph">或者，<block ref="9ce989a7f7f995616a47f5dd291ed229" category="inline-link-rx"></block> 。</block>
  <block id="588d2fe1c60271cde75dbeba32e0b25b" category="list-text">請確保您的系統已配置 NFS 和/或 iSCSI。</block>
  <block id="03fe5b0d58270efa87041677cac72ad7" category="list-text">安裝並配置NetApp Docker 磁碟區外掛程式：</block>
  <block id="f45f5a64dae951d3e37c9bd382201b06" category="list-text">下載並解壓縮應用程式：</block>
  <block id="b255d9e06a4ca8e9f5bc31c9198426ad" category="list-text">移動到回收站路徑中的某個位置：</block>
  <block id="b2edeceecc054572188ee3b08cd58c64" category="list-text">放置好二進位檔案並建立設定檔後，使用所需的設定檔啟動Trident守護程式。</block>
  <block id="4846d107d8ddb5051591d14dcbddba8c" category="admonition">除非另有指定，磁碟區驅動程式的預設名稱為「netapp」。</block>
  <block id="f253a45a33bc62e467efd426699d9025" category="paragraph">守護程序啟動後，您可以使用 Docker CLI 介面建立和管理磁碟區。</block>
  <block id="e3dec3f86b9a3b1be209ab63855ce432" category="list-text">建立磁碟區：</block>
  <block id="5ff2e3e853922fdb84ef21b85ffdac2e" category="list-text">啟動容器時配置 Docker 磁碟區：</block>
  <block id="8f6a91f5f21d0478e3fd89095fc28ab9" category="list-text">刪除 Docker 磁碟區：</block>
  <block id="b48e6203239c93859800f96924a39ed7" category="section-title">系統啟動時啟動Trident</block>
  <block id="0350980c728940d67af063bb5d711f0f" category="paragraph">systemd 系統的範例單元檔案可在以下位置找到：<block ref="50a97f9b0dec64cc53ca48406c60fe4d" prefix=" " category="inline-code"></block>在 Git 倉庫中。若要在 RHEL 系統中使用該文件，請執行下列操作：</block>
  <block id="5b51496da86e5a2073e0c618390c3d2a" category="list-text">將文件複製到正確位置。</block>
  <block id="44103de0a164f687d305ad91e919d8ee" category="paragraph">如果運行多個實例，則應為單元檔案使用唯一的名稱。</block>
  <block id="3223aadc84a3ccb4a3473ba01c895184" category="list-text">編輯該文件，將描述（第 2 行）變更為與驅動程式名稱匹配，並將設定檔路徑（第 9 行）變更為反映您的環境。</block>
  <block id="1edae3931401a32d7dd7dd6e0a2ad563" category="list-text">重新載入 systemd 以使其吸收變更：</block>
  <block id="db38a93e27eba57d507611d002ad612f" category="list-text">啟用該服務。</block>
  <block id="c7e0a4deeebe264aa7d5f7f3ca3ef77f" category="paragraph">這個名稱會根據你給文件命名的方式而有所不同。<block ref="dce2a9642217836d54f614dfd625b753" prefix=" " category="inline-code"></block>目錄。</block>
  <block id="baa04490a79e9e8de7fa4cd44e2c6fbb" category="list-text">啟動服務。</block>
  <block id="93c7574cf83c1f01b04891cf2d826cea" category="list-text">查看狀態。</block>
  <block id="f4f15418284ae7a01b27fccc1af0463a" category="admonition">每次修改單元檔案後，請執行以下命令：<block ref="269b117015efb12595eebf74692e5cbc" prefix=" " category="inline-code"></block>命令使其能夠感知這些變化。</block>
  <block id="a5a6bc232526faaa8ab11bd5f46a069c" category="summary">尋找有關將Trident與 Docker 結合使用時已知問題的資訊。</block>
  <block id="3a3b7ac2e39541ea05707ccd6eb054d4" category="doc">已知問題和限制</block>
  <block id="44110fddc560d626db733ac60924ea7c" category="paragraph">尋找有關將Trident與 Docker 結合使用時已知問題和限制的資訊。</block>
  <block id="8bb35988eac5a841d2af092365f1aa42" category="section-title">將Trident Docker Volume Plugin 從舊版升級到 20.10 及更高版本會導致升級失敗，並出現「沒有這樣的檔案或目錄」錯誤。</block>
  <block id="7aebfa1e2291377e040de92d7f7f335f" category="list-title">解決方法</block>
  <block id="f49f11bc5398ac13e500d16eac424e77" category="list-text">禁用插件。</block>
  <block id="cc3dae6dd6670606c41c62b10273605e" category="list-text">移除插件。</block>
  <block id="6010901b5c4bb6ad671e6f07fcc038d8" category="list-text">重新安裝插件，並提供額外信息<block ref="2245023265ae4cf87d02c8b6ba991139" prefix=" " category="inline-code"></block>範圍。</block>
  <block id="e527ab8c1c51767e38a3603d51d2d6e5" category="section-title">卷名長度至少為 2 個字元。</block>
  <block id="45c9df594d13c8a5e5472503d5f14b01" category="inline-link">參見錯誤 25773</block>
  <block id="c167efd138e06a8ee59885983c5ddf69" category="admonition">這是 Docker 客戶端的限制。用戶端會將單一字元名稱解釋為 Windows 路徑。<block ref="f082f49b923960d888c1d98a1e9f4fcb" category="inline-link-rx"></block> 。</block>
  <block id="442b5623691118072cf6342e3614f21a" category="section-title">Docker Swarm 的某些行為導致Trident無法支援它與所有儲存和驅動程式的組合。</block>
  <block id="a7c3ff464b1ef4364de4df03d66bee5e" category="list-text">Docker Swarm 目前使用磁碟區名稱而不是磁碟區 ID 作為其唯一的磁碟區識別碼。</block>
  <block id="61ab6f5cff8de89cba95d9e3bbc4ff71" category="list-text">卷請求會同時傳送到 Swarm 叢集中的每個節點。</block>
  <block id="738890a616b36648aef3afc3dbd99a29" category="list-text">磁碟區插件（包括Trident）必須在 Swarm 叢集中的每個節點上獨立運行。由於ONTAP 的工作方式以及<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block>和<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block>駕駛員之所以能發揮作用，是因為他們是唯一能夠在這些限制條件下操作的人。</block>
  <block id="a0ba0b0d751124c646a352594c7e9d7b" category="paragraph">其餘驅動程式會受到諸如競爭條件之類的問題的影響，這可能會導致單一請求創建大量卷，而沒有明確的「贏家」；例如，Element 具有允許卷具有相同名稱但 ID 不同的功能。</block>
  <block id="48cbf13b390ff021b130d5f372147af5" category="paragraph">NetApp已向 Docker 團隊提供了回饋，但目前沒有任何跡象表明未來會採取什麼措施。</block>
  <block id="29cff148f43bc689eb14447b333f6f83" category="section-title">如果正在配置FlexGroup ，而第二個FlexGroup與正在配置的FlexGroup有一個或多個共同的聚合，則ONTAP不會配置第二個FlexGroup 。</block>
  <block id="8e846679c3471e522caeeaf12adf2232" category="summary">當您需要同時擁有多個儲存配置時，需要多個Trident實例。實作多個實例的關鍵在於使用容器化插件的 --alias 選項為它們指定不同的名稱，或在主機上實例化Trident時使用 --volume-driver 選項為它們指定不同的名稱。</block>
  <block id="2af81ac5264569558ae512fd78aaeb99" category="doc">管理多個Trident實例</block>
  <block id="8f327f2ceda84404290184a7454160ed" category="paragraph">當您需要同時擁有多個儲存配置時，需要多個Trident實例。實作多個實例的關鍵在於使用不同的名稱來命名它們。<block ref="14742efbfd1451d64cd78e6664734234" prefix=" " category="inline-code"></block>使用容器化插件的選項，或者<block ref="3462d72f00482b2e9f6fcfcdf665289b" prefix=" " category="inline-code"></block>在主機上實例化Trident時的選擇。</block>
  <block id="52ef1c6ffefaba3249f208369424635d" category="section-title">Docker 管理外掛程式（版本 1.13/17.03 或更高版本）的步驟</block>
  <block id="547c4a5f7c863aad85f5265c03ed72ea" category="list-text">啟動第一個實例時，指定別名和設定檔。</block>
  <block id="991ac134f22efa2bb955362d95827ae5" category="list-text">啟動第二個實例，指定不同的別名和設定檔。</block>
  <block id="aa0dc0ac69e69c434317798e1aa9842b" category="list-text">建立磁碟區時，將別名指定為驅動程式名稱。</block>
  <block id="5ae25a45ab76de161f87fc41a84f746d" category="paragraph">例如，黃金交易量：</block>
  <block id="6dab7c53f6e3de2eae52e928dfe5b861" category="paragraph">例如，對於白銀交易量而言：</block>
  <block id="67754cb209925946943e297b3a8be344" category="section-title">傳統方法（版本 1.12 或更早版本）的步驟</block>
  <block id="cbd128765e82966ed5e454a99b22e688" category="list-text">使用自訂驅動程式 ID 透過 NFS 配置啟動插件：</block>
  <block id="51c923daa4caf6aea6d24201b73871b6" category="list-text">使用自訂驅動程式 ID 和 iSCSI 設定啟動插件：</block>
  <block id="dd72ade865d731ba8f6a6fc4c8ccd86f" category="list-text">為每個驅動程式實例配置 Docker 磁碟區：</block>
  <block id="8e2044cc9d4e8f515ad4809a68d75465" category="paragraph">例如，對於 NFS：</block>
  <block id="d39eb6e4299503c5d451d19b9645be42" category="paragraph">例如，對於 iSCSI：</block>
  <block id="6d9d4f707717522af7673ba035a40845" category="summary">在部署Trident之前，您必須在主機上安裝和設定必要的協定先決條件。</block>
  <block id="782bd8949cb40c80fd3f3126eccab35a" category="doc">部署先決條件</block>
  <block id="88825f48aa3e053d7df66897e8b63e38" category="section-title">核實要求</block>
  <block id="b4851e92b19af0c5c82447fc0937709d" category="inline-link-macro">要求</block>
  <block id="6bee7851f8606d588c9122b234c202e3" category="list-text">確認您的部署滿足所有要求<block ref="6fc1811f5f9a8ae54793544600e2dff7" category="inline-link-macro-rx"></block>。</block>
  <block id="d46ecc35447a8c17ef014ff6daf07bba" category="inline-link">安裝或更新它</block>
  <block id="1035fa0ac2c3ed19f6ba56cafe7e121f" category="list-text">請確認您已安裝受支援的 Docker 版本。如果您的 Docker 版本已過時，<block ref="0b011811ae105895ca4da9769d7e6f99" category="inline-link-rx"></block> 。</block>
  <block id="fdb5bcd69c8617adc24a528d074b060b" category="list-text">請確認您的主機上已安裝並設定協定所需的先決條件。</block>
  <block id="2cb4ed05fbad97efb755e294c572862d" category="section-title">NFS 工具</block>
  <block id="dc3c80fe7e62048ec7f179f78dd1d918" category="paragraph">使用適用於您作業系統的命令安裝 NFS 工具。</block>
  <block id="05a2712653dfbf7d695c18242d9848e6" category="open-title">RHEL 8+</block>
  <block id="3d945423f8e9496c429a5d8c65b4604f" category="open-title">Ubuntu</block>
  <block id="7b05c6f5db7b1690970d79c209e667fc" category="admonition">安裝 NFS 工具後重新啟動工作節點，以防止將磁碟區附加到容器時發生故障。</block>
  <block id="0172151d0fbf6ae973feaaaf8a2c1b3a" category="section-title">iSCSI 工具</block>
  <block id="10ff9e1b33974d06317ff739498154ce" category="paragraph">使用適用於您作業系統的指令安裝 iSCSI 工具。</block>
  <block id="8cd5b262d8d9950185128d052d55f7c8" category="list-text">安裝以下系統軟體包：</block>
  <block id="1a5157a00ea5806f553766d5b3b114fd" category="list-text">請檢查 iscsi-initiator-utils 版本是否為 6.2.0.874-2.el7 或更高版本：</block>
  <block id="19955b3c2d2c1cfc1c82c2fe0347a065" category="list-text">將掃描方式設定為手動：</block>
  <block id="d0b02d407fd5c75d0e7eac549a852191" category="list-text">啟用多路徑：</block>
  <block id="60c268e00db3206011b54b01705d7211" category="admonition">確保<block ref="7901fe536dc82e3cb12052c3fac7fef6" prefix=" " category="inline-code"></block>包含<block ref="2a81b35478c9ccb4f9392dcc40edb8e6" prefix=" " category="inline-code"></block>在下面<block ref="a4a918a45181164207929d52aec36aec" prefix=" " category="inline-code"></block>。</block>
  <block id="8bec0eea71974a9138ccfa96983ddcfc" category="list-text">確保<block ref="3fe4dc8de876aca2c78fa0cd9c6d0b65" prefix=" " category="inline-code"></block>和<block ref="8732863da72605a20ed96b4eee87a5fb" prefix=" " category="inline-code"></block>正在運行：</block>
  <block id="8018f5d6ddc4e67678d1659757828deb" category="list-text">啟用並啟動<block ref="39eea648dab96b0ee6022dabb38bc420" prefix=" " category="inline-code"></block>：</block>
  <block id="a53508e75911225e5de8b5febc82cf12" category="list-text">請檢查 open-iscsi 版本是否為 2.0.874-5ubuntu2.10 或更高版本（適用於 bionic）或 2.0.874-7.1ubuntu6.1 或更高版本（適用於 focal）：</block>
  <block id="b163c84ad8a4e55a17b51aad8074093e" category="list-text">確保<block ref="356cb36dc1c54ae3f8a7c332c76d7edd" prefix=" " category="inline-code"></block>和<block ref="452b142235e718663e27bc4f162c14ca" prefix=" " category="inline-code"></block>已啟用並正在運行：</block>
  <block id="b00fd28ef92c5c525d66d12aa0d5e4dd" category="section-title">NVMe 工具</block>
  <block id="cfd4e84c111973cbf00e30acfd3af3b1" category="paragraph">使用適用於您作業系統的指令安裝 NVMe 工具。</block>
  <block id="c5c04ab13d0b9dcc3187f7e5cdfb7a00" category="list-text">NVMe 需要 RHEL 9 或更高版本。</block>
  <block id="f961ae7e5a407c3c3df6f5facf3c1ef3" category="list-text">如果您的 Kubernetes 節點的核心版本太舊，或者您的核心版本沒有 NVMe 軟體包，則您可能需要將節點的核心版本更新為包含 NVMe 軟體包的版本。</block>
  <block id="38aef0bc7cf230dfcf5476915774aa95" category="open-title">RHEL 9</block>
  <block id="20215ca4c00abcf8fb731d0f856d0e91" category="section-title">FC工具</block>
  <block id="f0ad3dc6a6ba17b1e77a2a4af657f22a" category="paragraph">使用適用於您作業系統的命令安裝 FC 工具。</block>
  <block id="78937357687a7b0292ed689d4e420485" category="inline-link">紅帽文檔</block>
  <block id="89e30b0f2c0e48835ff872a994fc749c" category="list-text">當使用執行 RHEL/Red Hat Enterprise Linux CoreOS (RHCOS) 且具有 FC PV 的工作節點時，請指定<block ref="70f68bb2f748b85de6526bfe236ea1e9" prefix=" " category="inline-code"></block>StorageClass 中的 mountOption 用於執行內嵌空間回收。參考<block ref="65c95aeda8cb0b26307f9839dd3fefbf" category="inline-link-rx"></block>。</block>
  <block id="0ac202e458490a734271522fcedf4876" category="list-text">確保<block ref="8732863da72605a20ed96b4eee87a5fb" prefix=" " category="inline-code"></block>正在運行：</block>
  <block id="69eeaf73fccab6d6abcba46bd6a3a3bf" category="list-text">確保<block ref="452b142235e718663e27bc4f162c14ca" prefix=" " category="inline-code"></block>已啟用並正在運行：</block>
  <block id="ab2ce125ebcf04e3858934dafe06462f" category="summary">查看適用於您的Trident配置的設定選項。</block>
  <block id="34e1f7eb303c0a150cd440611b3b5e24" category="doc">儲存配置選項</block>
  <block id="51f834b47bcd78a0f4f40fd8ca40446f" category="section-title">全域配置選項</block>
  <block id="048751d5dafc60f01ac58c7abebe0fb4" category="paragraph">這些配置選項適用於所有Trident配置，無論使用何種儲存平台。</block>
  <block id="054b4f3ea543c990f6b125f41af6ebf7" category="cell">選項</block>
  <block id="b5a7adde1af5c87d7fd797b6245c2a39" category="cell">描述</block>
  <block id="7877022c956918624cc0373ff564cad4" category="cell"><block ref="2af72f100c356273d46284f6fd1dfc08" prefix="" category="inline-code"></block></block>
  <block id="63b276a6c28274ed5e553d4ce3fe7eb1" category="paragraph">設定檔版本號</block>
  <block id="2fc042d3545f5ad7df1999c9e5486176" category="paragraph"><block ref="c4ca4238a0b923820dcc509a6f75849b" prefix="" category="inline-code"></block></block>
  <block id="868dff7060d78b6417dc8e065eca8374" category="cell"><block ref="d45aebe724c55b101f2ae8924ba3d486" prefix="" category="inline-code"></block></block>
  <block id="ac5eb8fcbd1ed9c85a98d91e10e26a38" category="paragraph">儲存驅動程式名稱</block>
  <block id="bba4e1b8d8614fe9da2d67e2dcef4b52" category="paragraph"><block ref="8321592ce24c8a122ecf26a63cfca407" prefix="" category="inline-code"></block>，<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> ，<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block> ，<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block> ，<block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block></block>
  <block id="c08068da3c5d19547544c4bd424a6b76" category="cell"><block ref="ed66bef2b107983b6e4066fddf8c45c3" prefix="" category="inline-code"></block></block>
  <block id="7ff5348ddee6132fe7c166b8b7917cc0" category="paragraph">卷名稱的可選前綴。預設:<block ref="689ee6510c7f9ef9df1c263a08823d96" prefix=" " category="inline-code"></block> 。</block>
  <block id="81998bdb6c3f52ba69dbecf0ec513180" category="paragraph"><block ref="46fa46eed970046d03e2dedc95cdc83b" prefix="" category="inline-code"></block></block>
  <block id="91590ee78f1b4751284f4f9ea80cfe86" category="cell"><block ref="e083f2ed1275af0ce4336a068ebee72a" prefix="" category="inline-code"></block></block>
  <block id="dfb6135042da6e8fbf367d9cf13431ef" category="paragraph">對容量大小有可選限制。預設值：""（不強制執行）</block>
  <block id="5d8040f7ca409e3993359a877f675e59" category="paragraph"><block ref="75da9d6de91e782eca4fa00341367135" prefix="" category="inline-code"></block></block>
  <block id="fb2a1518f6d194cef3caaff16d0f8ee4" category="admonition">請勿使用<block ref="ed66bef2b107983b6e4066fddf8c45c3" prefix=" " category="inline-code"></block>（包括預設值）適用於 Element 後端。預設情況下，<block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block>驅動程式將忽略此設置，並且不使用前綴。  NetApp建議使用特定的租用戶 ID 進行 Docker 磁碟區映射，或使用屬性數據，該屬性資料填入了 Docker 版本、驅動程式資訊和來自 Docker 的原始名稱（如果可能使用了任何名稱修改）。</block>
  <block id="0863f9e97e159e3ea1ce46bdb49b1254" category="paragraph">可以使用預設選項，避免在建立的每個磁碟區上都指定這些選項。這<block ref="f7bd60b75b29d79b660a2859395c1a24" prefix=" " category="inline-code"></block>此選項適用於所有控制器類型。有關如何設定預設磁碟區大小的範例，請參閱ONTAP配置部分。</block>
  <block id="a48a8458539e489328f4d6d3fc0ee288" category="cell"><block ref="f7bd60b75b29d79b660a2859395c1a24" prefix="" category="inline-code"></block></block>
  <block id="9548d4d33e26f6bbe564b4eb47a52e4b" category="paragraph">新磁碟區的可選預設大小。預設:<block ref="7d0f45b4b1cf6603762c74ca39c833dd" prefix=" " category="inline-code"></block></block>
  <block id="dfda6aac7ee732ec79153da76a0e963a" category="paragraph"><block ref="08aa1584c9a5791fb64b0f7f1453f9eb" prefix="" category="inline-code"></block></block>
  <block id="0353522b39b87d54d40d3f09ec668851" category="section-title">ONTAP 配置</block>
  <block id="cd536bce1bed61366e8d17a85fe6678a" category="paragraph">除了上述全域配置值之外，使用ONTAP時，還可以使用下列頂級選項。</block>
  <block id="07c54fe26be1e43601e99cd9d4fbe262" category="cell"><block ref="a6ea6092cb7b9c5f31909eb4be8fa5ea" prefix="" category="inline-code"></block></block>
  <block id="464779f3491153dd1e79ddbd8a81e3f0" category="paragraph">ONTAP管理 LIF 的 IP 位址。您可以指定一個完全限定網域名稱（FQDN）。</block>
  <block id="b6d628512c1127da9adb6c459c9f7c95" category="paragraph"><block ref="190dafab69706a67221c1226360de7dc" prefix="" category="inline-code"></block></block>
  <block id="bd81db53971fda3e688447b28c747d1a" category="cell"><block ref="ea76b2438eb5996eb2c347e7341ed59a" prefix="" category="inline-code"></block></block>
  <block id="c95cada2a569592345ebc18e5ef4c7aa" category="paragraph">LIF協定的IP位址。</block>
  <block id="50738c79b08f93cc8be7f7ee1a3ac387" category="paragraph">* ONTAP NAS 驅動程式*： NetApp建議指定<block ref="ea76b2438eb5996eb2c347e7341ed59a" prefix=" " category="inline-code"></block>。如果未提供， Trident將從 SVM 取得 dataLIF。您可以指定一個完全限定網域名稱 (FQDN) 用於 NFS 掛載操作，從而建立輪詢 DNS 以在多個 dataLIF 之間進行負載平衡。</block>
  <block id="ede78805a80cf9b2284aa458924e07b2" category="paragraph">* ONTAP SAN 驅動程式*：請勿指定 iSCSI 或 FC。Trident的使用<block ref="2de2f329c45219df280af5a70ed7a17c" category="inline-link-macro-rx"></block>發現建立多路徑會話所需的 iSCSI 或 FC LIF。如果出現以下情況，則會產生警告：<block ref="ea76b2438eb5996eb2c347e7341ed59a" prefix=" " category="inline-code"></block>已明確定義。</block>
  <block id="251296d0166ace97771b155156985b38" category="paragraph"><block ref="98a2cd7efa1ba950d42e42af495c4248" prefix="" category="inline-code"></block></block>
  <block id="afc423de2be5ca5ab3a6ae9548bbfcf3" category="cell"><block ref="924ff83ff1e671bacfb07ff12b845703" prefix="" category="inline-code"></block></block>
  <block id="11053eb2b6ac6e8802c67c054cf55ad9" category="paragraph">要使用的儲存虛擬機器（如果管理 LIF 是叢集 LIF，則此項目為必填項）</block>
  <block id="9fcbfb18564773bb1604cf400912944c" category="paragraph"><block ref="b26399fddd6473c150b4e7528fb04fdc" prefix="" category="inline-code"></block></block>
  <block id="6d77646a2fd9ab65f8e3344d7dce661a" category="cell"><block ref="14c4b06b824ec593239362517f538b29" prefix="" category="inline-code"></block></block>
  <block id="723a179bbb9fc3c4f12cf296a8841b27" category="paragraph">連接到儲存裝置的使用者名</block>
  <block id="8131d179a4284fbb0ed410bbbbcf1eb6" category="paragraph"><block ref="6173aa5206484b5224450952747c7148" prefix="" category="inline-code"></block></block>
  <block id="6aa91a7fbb8c9edcf4aa5f9411aec19c" category="cell"><block ref="5f4dcc3b5aa765d61d8327deb882cf99" prefix="" category="inline-code"></block></block>
  <block id="8cf10281cf3b9290d5988c57a7d19693" category="paragraph">連接儲存裝置的密碼</block>
  <block id="c4dc9cb5606cc8c0597a5c8f1f77b005" category="paragraph"><block ref="5ebe2294ecd0e0f08eab7690d2a6ee69" prefix="" category="inline-code"></block></block>
  <block id="7e6d207f2b120c6cc9caa98510aa51c6" category="cell"><block ref="39adbeb6bc21a3133e5fdcf1ec05d1a0" prefix="" category="inline-code"></block></block>
  <block id="24794cfca66d1eed7c8defc480365bf0" category="paragraph">用於配置的聚合（可選；如果設置，則必須指派給 SVM）。對於<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block>驅動程序，此選項將被忽略。指派給 SVM 的所有聚合都用於配置FlexGroup磁碟區。</block>
  <block id="fc3424ba1777889d0d49ea7f5a675c9e" category="paragraph"><block ref="70d2c7701d2837552c0a38c02a326592" prefix="" category="inline-code"></block></block>
  <block id="12d2394af47293b12d6b5f411f99a6d1" category="cell"><block ref="d57551b1efacf8a7be84b4d10c5a6e99" prefix="" category="inline-code"></block></block>
  <block id="925060a0c0a15f99ef1bee43f1660ea4" category="paragraph">可選，如果使用率超過此百分比，則配置失敗</block>
  <block id="e84b7103384d0a3393c0847330716669" category="paragraph"><block ref="f819de81247be4a5428dc0e169de28b8" prefix="" category="inline-code"></block></block>
  <block id="2b45af5c768d7b2495ef631c991ecd78" category="cell"><block ref="e477739f39dbd2f1e1c5268912135e92" prefix="" category="inline-code"></block></block>
  <block id="876885770cf58d20ef5672cc5594e85d" category="inline-link">請在此處查看 NFS 主機設定資訊</block>
  <block id="8904f6454065d44212063d39eeae5f07" category="paragraph">對 NFS 掛載選項進行精細控制；預設值為“-o nfsvers=3”。  *僅限以下情況：<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block>和<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block>司機*。<block ref="71f7a3f48cfd3876cffba401813b7db0" category="inline-link-rx"></block> 。</block>
  <block id="7dd39afeb1c0b05aac5f4bf6fbd94990" category="paragraph"><block ref="301c869c551e12d862ab0291837102a0" prefix="" category="inline-code"></block></block>
  <block id="3b890f58db76bb3003ada171cd18c4db" category="cell"><block ref="9d8592d88bbb76c68c01d830f091dacc" prefix="" category="inline-code"></block></block>
  <block id="5cbbc03b20d402cc5f3688219dc927db" category="paragraph">Trident建立和管理每個節點<block ref="58f3779afe9da9ffdc085dc3064306f7" prefix=" " category="inline-code"></block>作為<block ref="e77a1bd34ff5793aca292b38d23bc2c9" prefix=" " category="inline-code"></block>。</block>
  <block id="0ee19d4be17e297cfb39c398cb268b5e" category="paragraph">此值不能更改或省略。</block>
  <block id="07d41595da50d0c332f22902db2f76d8" category="paragraph">*僅限以下情況：<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block>司機*。</block>
  <block id="684a16b15a51568bcdd546607176bd57" category="paragraph"><block ref="e77a1bd34ff5793aca292b38d23bc2c9" prefix="" category="inline-code"></block></block>
  <block id="74d08e13aea757b8172499f067668443" category="paragraph">最大可請求容量。</block>
  <block id="98ce75f2128e52057c9dbf00a9eb2736" category="paragraph"><block ref="f07e606cfe25ac6fb07d9c4af941d9a2" prefix="" category="inline-code"></block></block>
  <block id="07f6b23cad3d6da54012935ff972affe" category="cell"><block ref="8b08152c170e621ffcc8bfac7c4d6785" prefix="" category="inline-code"></block></block>
  <block id="99d7b353753f3b80388b5ab7e69a4a28" category="paragraph">每個FlexVol 的最大 qtree 數量必須在 [50, 300] 範圍內，預設值為 200。</block>
  <block id="3e00ac0f228180d0a5a3756df9a5bca3" category="paragraph">*對於<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block>驅動程序，此選項允許自訂每個FlexVol* 的最大 qtree 數量。</block>
  <block id="1ae6e291c93a6d5962af8004aecd9c4c" category="paragraph"><block ref="94f6d7e04a4d452035300f18b984988c" prefix="" category="inline-code"></block></block>
  <block id="89149296a9e0c36d8eb5e9c82e71155b" category="paragraph"><block ref="5b08b7c4c720db1d75c8c76a920fd99a" prefix="" category="inline-code"></block></block>
  <block id="c024b0a80a0f117a251e956f7b09ac4e" category="cell">*支持<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block>僅限司機。 *用於選擇<block ref="39eea648dab96b0ee6022dabb38bc420" prefix=" " category="inline-code"></block>對於 iSCSI，<block ref="eac89e2640666fd1076a776e4b748fae" prefix=" " category="inline-code"></block>適用於 NVMe/TCP 或<block ref="0f64d0456878c73cbec1ccea842a6f14" prefix=" " category="inline-code"></block>用於光纖通道 (FC) 上的 SCSI。</block>
  <block id="053b2e680c58724dc4bdd83223136c48" category="cell"><block ref="39eea648dab96b0ee6022dabb38bc420" prefix="" category="inline-code"></block>如果為空</block>
  <block id="f14a3ef36727dfbbea91c1d6b3fdbede" category="cell"><block ref="c8f83e727d4a4255a6485c24776e86bb" prefix="" category="inline-code"></block></block>
  <block id="33fefa32caf35cd4691465f3592a0539" category="cell">*支持<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block>和<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block>僅限司機。 *限制ONTAP ontap-nas-economy 和 ontap-SAN-economy 驅動程式中的FlexVol大小。</block>
  <block id="3890063556e337d458019437f027030b" category="paragraph">系統提供了預設選項，避免在建立的每個磁碟區上都進行指定：</block>
  <block id="a6bddf19eed00dbe2199864dee8454ce" category="cell"><block ref="cae77b049bf504af7afc43b99b6c5213" prefix="" category="inline-code"></block></block>
  <block id="af2bffb136dd0c22342ad9cb06187197" category="paragraph">空間預約模式；<block ref="334c4a4c42fdb79d7ebc3e73b517e6f8" prefix=" " category="inline-code"></block> （精簡配置）或<block ref="210ab9e731c9c36c2c38db15c28a8d1c" prefix=" " category="inline-code"></block>（厚的）</block>
  <block id="56d058c51fcd79545706c62569ba5a19" category="paragraph"><block ref="334c4a4c42fdb79d7ebc3e73b517e6f8" prefix="" category="inline-code"></block></block>
  <block id="0ec3875cf79264e4689a646be2f704b6" category="cell"><block ref="0a236e7685e50a59df980d0a30929d6c" prefix="" category="inline-code"></block></block>
  <block id="7f0d015762fc8e2b44f0ad1cd5429af5" category="paragraph">要使用的快照策略，預設值為<block ref="334c4a4c42fdb79d7ebc3e73b517e6f8" prefix=" " category="inline-code"></block></block>
  <block id="7556d5a1b0c5f68b7cb5aedaa3156008" category="cell"><block ref="bb0d75280f9b683f2f1f0767fd0aff9b" prefix="" category="inline-code"></block></block>
  <block id="6a3f2fe5a221ff5e914123b7d1d207ac" category="paragraph">快照預留百分比，預設值為空字串，表示接受ONTAP預設值。</block>
  <block id="11663b17d5bcea48dbfb36b13965663b" category="paragraph"><block ref="d3d9446802a44259755d38e6d163e820" prefix="" category="inline-code"></block></block>
  <block id="4be01095ce6e500084fc427e5dec61ac" category="cell"><block ref="58c1c86186ef8de4f6e12d8f3aed8b64" prefix="" category="inline-code"></block></block>
  <block id="871c12a80dbc519da4b71b3ea166cdc4" category="paragraph">創建時將克隆體與其父級分離，預設為<block ref="68934a3e9455fa72420237eb05902327" prefix=" " category="inline-code"></block></block>
  <block id="249091efa412cf5e332461c484b979d0" category="paragraph"><block ref="68934a3e9455fa72420237eb05902327" prefix="" category="inline-code"></block></block>
  <block id="b091cbafedf94db98f17823d044434bd" category="cell"><block ref="5bdf74912a51c34815f11e9a3d20b609" prefix="" category="inline-code"></block></block>
  <block id="2bc97a247278d92f5552529c55ab7f0d" category="paragraph">在新磁碟區啟用NetApp磁碟區加密 (NVE)；預設為啟用<block ref="68934a3e9455fa72420237eb05902327" prefix=" " category="inline-code"></block>。若要使用此選項，必須在叢集上取得 NVE 許可並啟用 NVE。</block>
  <block id="98c76e4bb2a33d9fd5985c31833d545b" category="paragraph">如果後端啟用了 NAE，則在Trident中配置的任何磁碟區都會啟用 NAE。</block>
  <block id="dd7e96ca2da30b4de0cef5d5d0d67883" category="paragraph">更多信息，請參閱：<block ref="5113a2fb1642ecd23870711ba25c4ad7" category="inline-link-macro-rx"></block> 。</block>
  <block id="b326b5062b2f0e69046810717534cb09" category="paragraph">真的</block>
  <block id="ce46e8f3fc6eaddbe03115e0d62090ac" category="cell"><block ref="c005e78d4bd808038335c32dd84cf7da" prefix="" category="inline-code"></block></block>
  <block id="290cc6c07ae2ba0a638720a38f1356ed" category="paragraph">NAS 選項，用於已配置的 NFS 卷，預設值為<block ref="f1c1592588411002af340cbaedd6fc33" prefix=" " category="inline-code"></block></block>
  <block id="8dfb6d491cffb51a17396f993c195d8b" category="paragraph"><block ref="f1c1592588411002af340cbaedd6fc33" prefix="" category="inline-code"></block></block>
  <block id="ce8f82152151ae2aadaec166eca744a9" category="cell"><block ref="7ad68fdac2eac069eb8ed0fc45b0fb74" prefix="" category="inline-code"></block></block>
  <block id="775acc7033e41c0ec1b40c64643c6339" category="paragraph">NAS 存取選項<block ref="a15da8cecb1f1192c4d913b8ba676121" prefix=" " category="inline-code"></block>目錄。</block>
  <block id="9baf39c0a00f0d9f174a9671e5cefbab" category="paragraph">NFSv4 為“true”，NFSv3 為“false”。</block>
  <block id="e59001176f4360988f5d774a8405b4b9" category="cell"><block ref="647ce4e5394e2e595e46b4fc50a628e9" prefix="" category="inline-code"></block></block>
  <block id="1667ea9b715250d5f295353e97cde10e" category="paragraph">NFS匯出策略要使用的NAS選項，預設值為<block ref="c21f969b5f03d33d43e04f8f136e7682" prefix=" " category="inline-code"></block></block>
  <block id="980ef1c1aa7d1456ee087df02119341e" category="paragraph"><block ref="c21f969b5f03d33d43e04f8f136e7682" prefix="" category="inline-code"></block></block>
  <block id="a463baaf6666da7178b6fc6a3c8a3fee" category="cell"><block ref="f7f695c763ad0e0ba03c2ff9cbcfcb3d" prefix="" category="inline-code"></block></block>
  <block id="f5d176b3de4662ca3603a69ab08bc166" category="paragraph">NAS 選項，用於存取已設定的 NFS 磁碟區。</block>
  <block id="053b422d907cb55ac105c173adde1080" category="paragraph">NFS 支持<block ref="1d770934d44de09b0d24f04fd01708ba" prefix=" " category="inline-code"></block>和<block ref="4913a9178621eadcdf191db17915fbcb" prefix=" " category="inline-code"></block>安全措施。預設值為<block ref="4913a9178621eadcdf191db17915fbcb" prefix=" " category="inline-code"></block>。</block>
  <block id="69f25314e2d927ebcaa0f19c9f2a57da" category="paragraph"><block ref="4913a9178621eadcdf191db17915fbcb" prefix="" category="inline-code"></block></block>
  <block id="3184b1a9846944fabb00496c4b6b613a" category="cell"><block ref="23030324c640b4b47b8381c02456649a" prefix="" category="inline-code"></block></block>
  <block id="19d28ffef37322622a55f9d7f1f9fa59" category="paragraph">SAN 選項用於選擇檔案系統類型，預設為<block ref="40d1d2ce03569076bd0dc1e0ff90aa4c" prefix=" " category="inline-code"></block></block>
  <block id="c90caaafbe0da0287b6a84f0894fa40b" category="paragraph"><block ref="310201b6353c5f38bc039e0e51b079d3" prefix="" category="inline-code"></block></block>
  <block id="31aa018945eb62580d68d360cba8ba54" category="cell"><block ref="a3e48f0594dda6037d37d52d343489b0" prefix="" category="inline-code"></block></block>
  <block id="36212bd37512e583deabaefb464f77f9" category="paragraph">要使用的分層策略，預設值為<block ref="334c4a4c42fdb79d7ebc3e73b517e6f8" prefix=" " category="inline-code"></block>。</block>
  <block id="90adf331b7868c7af46ad6e035e93844" category="section-title">縮放選項</block>
  <block id="b52d90bca507da030b84d478b8b8f150" category="paragraph">這<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block>和<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block>驅動程式為每個 Docker 磁碟區建立一個ONTAP FlexVol 。  ONTAP每個叢集節點最多支援 1000 個 FlexVol，叢集最多可支援 12,000 個FlexVol磁碟區。如果您的 Docker 磁碟區需求符合此限制，則<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block>由於 FlexVols 提供了 Docker 磁碟區粒度快照和克隆等附加功能，因此驅動程式是首選的 NAS 解決方案。</block>
  <block id="b8f30e4086b754ccaf7bd5d01d8df137" category="paragraph">如果您需要的 Docker 磁碟區數量超過了FlexVol 的限制，請選擇<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block>或者<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block>司機。</block>
  <block id="5c43de330169c269435e59a6b0ec6a2e" category="paragraph">這<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block>驅動程式在自動管理的FlexVol磁碟區中建立作為ONTAP Qtree 的 Docker 磁碟區。 Qtree 提供了更大的可擴展性，每個叢集節點最多可達 100,000 個節點，每個叢集最多可達 2,400,000 個節點，但代價是犧牲了一些功能。這<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block>驅動程式不支援 Docker 磁碟區粒度快照或克隆。</block>
  <block id="a21d144a1c4c6283532b218d06e428b5" category="admonition">這<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block>Docker Swarm 目前不支援該驅動程序，因為 Docker Swarm 無法協調跨多個節點的磁碟區建立。</block>
  <block id="a742d54fecc7e60d5a6c56568622bf9d" category="paragraph">這<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block>驅動程式在自動管理的FlexVol磁碟區的共用池中建立 Docker 磁碟區作為ONTAP LUN。這樣一來，每個FlexVol就不限於一個 LUN，並且為 SAN 工作負載提供了更好的可擴充性。根據儲存陣列的不同， ONTAP每個叢集最多支援 16384 個 LUN。由於這些磁碟區底層是 LUN，因此此驅動程式支援 Docker 磁碟區粒度快照和複製。</block>
  <block id="e1232df03027aec38979e9ee0c9b350c" category="paragraph">選擇<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block>驅動程式可提高單一磁碟區的平行處理能力，該磁碟區可成長到 PB 級，包含數十億個檔案。  FlexGroups 的一些理想用例包括 AI/ML/DL、大數據和分析、軟體建置、串流媒體、檔案儲存庫等等。  Trident在配置FlexGroup磁碟區時會使用指派給 SVM 的所有聚合。  Trident中的FlexGroup支援還需考慮以下幾點：</block>
  <block id="9d83b6d2e2b099e63bf8e2fc8c870893" category="list-text">需要ONTAP版本 9.2 或更高版本。</block>
  <block id="e7c74973b26ad51b9db42a9c347a8cd4" category="list-text">截至撰寫本文時，FlexGroups 僅支援 NFS v3。</block>
  <block id="02a100b04add3b90fddef64499e825a2" category="list-text">建議為 SVM 啟用 64 位元 NFSv3 識別碼。</block>
  <block id="aa56a1d260c6089f006323437ab5613f" category="list-text">建議的最小FlexGroup成員/磁碟區大小為 100 GiB。</block>
  <block id="90bce6b2a4ca618777f172f6d51e69f1" category="list-text">FlexGroup卷不支援克隆。</block>
  <block id="971d29a2392e004ddd4263282b307e0c" category="inline-link">NetApp FlexGroup卷最佳實務與實作指南</block>
  <block id="8d848c284e4e3a777487dbfd26724083" category="paragraph">有關 FlexGroup 以及適合 FlexGroup 的工作負載的信息，請參閱以下內容：<block ref="fd26d63759e7985cecb8814cdedc189b" category="inline-link-rx"></block> 。</block>
  <block id="9e2ebdd267bef148382aa48682e06bc5" category="paragraph">為了在同一環境中獲得進階功能和大規模部署，您可以執行多個 Docker Volume Plugin 實例，其中一個使用<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block>以及另一個使用<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block>。</block>
  <block id="1534742dd977c66a11d77eb23f10a5ab" category="section-title">為Trident訂製ONTAP角色</block>
  <block id="c1781ac6bfd240f903c26ce4164a5d30" category="paragraph">您可以建立一個具有最低權限的ONTAP叢集角色，這樣您就不必使用ONTAP管理員角色在Trident中執行操作。在Trident後端設定中包含使用者名稱時， Trident將使用您建立的ONTAP叢集角色來執行操作。</block>
  <block id="6f3cfcc010b2a22b26b8059d261fac87" category="inline-link-macro">Trident自訂角色產生器</block>
  <block id="c466d2f2e197b9c922cb025297903d0c" category="paragraph">請參閱<block ref="4eb6d8d47ddb4f7930e07a2c9166ea85" category="inline-link-macro-rx"></block>有關建立Trident自訂角色的詳細資訊。</block>
  <block id="e2862bb379be91d6c367e3ce170d88f7" category="open-title">使用ONTAP CLI</block>
  <block id="13b3544c4f5df79cbf834a2ae8ec0d87" category="list-text">使用以下命令建立新角色：</block>
  <block id="86c8f953c394c19d7db6f6cf9882490e" category="paragraph"><block ref="6594f00105facbc68b3a919300221cc8" prefix="" category="inline-code"></block></block>
  <block id="baf63376850e35e5b35be659d0ef2894" category="list-text">為Trident用戶建立使用者名稱：</block>
  <block id="fc03ab18d43301d015d44d432ae97eee" category="paragraph"><block ref="576b5b6204cfa4837c36a45307295380" prefix="" category="inline-code"></block><block ref="6d1394abf99896b6835a3be55cc2adce" prefix=" " category="inline-code"></block></block>
  <block id="dfeb1cb6cf625159ce3e04d467f8ec3f" category="list-text">將角色映射到使用者：</block>
  <block id="ff0444fca20d2b690849631c3206bc5a" category="paragraph"><block ref="9e7d4cc1e0a49fb0aadd14f9a159a7ec" prefix="" category="inline-code"></block></block>
  <block id="3ceac40325b3a50cc62cce2df9efb8ae" category="open-title">使用系統管理員</block>
  <block id="b36ba0290d144b7b7cf516c0b9f70063" category="paragraph">在ONTAP系統管理員中執行下列步驟：</block>
  <block id="88ec54a18605240b35f6b1c72d27ffb6" category="list-text">*建立自訂角色*：</block>
  <block id="70af366c70c2f42b90ebe57600895fa4" category="list-text">若要在叢集層級建立自訂角色，請選擇「叢集 &gt; 設定」。</block>
  <block id="c981775dff9d5b385dd83a577d5a47b5" category="paragraph">（或）若要在 SVM 層級建立自訂角色，請選擇「儲存」&gt;「儲存虛擬機器」&gt;<block ref="6913fa50f9906263ba0aa9cbfc60f855" prefix=" " category="inline-code"></block> &gt; 設定 &gt; 使用者和角色*。</block>
  <block id="0d47f26dcf60e81c5a6649ae4ded4563" category="list-text">選擇“使用者和角色”旁邊的箭頭圖示（*-&gt;*）。</block>
  <block id="abf2a7962f2af308e67cf04c04d67351" category="list-text">在“角色”下選擇“+添加”。</block>
  <block id="0607c670bf97cc18aea662bb4a8b1897" category="list-text">定義角色規則，然後點選「儲存」。</block>
  <block id="8c112f6dd4899ec2bde450ad96ea3854" category="list-text">將角色對應到Trident使用者： + 在「使用者和角色」頁面上執行下列步驟：</block>
  <block id="a0d362400ef1998e3199f1a2a4e851a0" category="list-text">在「使用者」下方選擇「新增」圖示 *+*。</block>
  <block id="d81179b522f733916296275ca934cec0" category="list-text">選擇所需的使用者名，然後在「角色」下拉式選單中選擇角色。</block>
  <block id="4cc186df234138a57b2e8c5d8e5f7f8d" category="list-text">點選“儲存”。</block>
  <block id="63a7ae2ee855741b03454ffca32a6548" category="paragraph">更多資訊請參閱以下頁面：</block>
  <block id="5f20deacb4e1a680e1507ac2f9038f3d" category="inline-link-macro">用於管理ONTAP的自訂角色</block>
  <block id="5f318245652e5c97dfa5340e400f38d4" category="inline-link-macro">定義自訂角色</block>
  <block id="6bfa5cadeded7f55ece7a366fff5008f" category="list-text"><block ref="612b00166c7c7ac093e9d589e794c9ab" category="inline-link-macro-rx"></block>或者<block ref="42415b53f4c69ae3cfdecaffa64f1802" category="inline-link-macro-rx"></block></block>
  <block id="61d21be565a36251bbca59c0ffb7571d" category="inline-link-macro">與角色和使用者協作</block>
  <block id="c92674673011f8a8c6fc62a43d907f3c" category="list-text"><block ref="c92674673011f8a8c6fc62a43d907f3c" category="inline-link-macro-rx"></block></block>
  <block id="0c0f6724044ed44fb85d2ce3193cb7c3" category="section-title">ONTAP設定檔範例</block>
  <block id="9dbc2be9eae595ee555b36e2d5464473" category="example-title">&lt;code&gt;ontap-nas&lt;/code&gt;驅動程式的NFS範例</block>
  <block id="e5fdbcee018644d221f382b1d5b8f41a" category="example-title">&lt;code&gt;ontap-nas-flexgroup&lt;/code&gt;驅動程式的NFS範例</block>
  <block id="80640d18e28e0ebe180f21ae5d3a563f" category="example-title">&lt;code&gt;ontap-nas-economy&lt;/code&gt; 驅動程式的 NFS 範例</block>
  <block id="cf156eb50f8332673b89dc95a2cbbd82" category="example-title">&lt;code&gt;ontap-san&lt;/code&gt; 驅動程式的 iSCSI 範例</block>
  <block id="d5a757f0fabce17fc0eb2e1d3d308b05" category="example-title">&lt;code&gt;ontap-san-economy&lt;/code&gt; 驅動程式的 NFS 範例</block>
  <block id="fc3afabf3465382a1844a56a3fd55417" category="example-title">&lt;code&gt;ontap-san&lt;/code&gt; 驅動程式的 NVMe/TCP 範例</block>
  <block id="35bf5cbb6338abecc1fe5e2fddecc6fa" category="example-title">&lt;code&gt;ontap-san&lt;/code&gt;驅動程式的基於FC的SCSI範例</block>
  <block id="ffe54c343031d16e77db73e2d950e277" category="section-title">Element軟體配置</block>
  <block id="3afcd136a7bffa20fc39ba6581412cd2" category="paragraph">除了全域設定值之外，在使用 Element 軟體（NetApp HCI/ SolidFire）時，還可以使用這些選項。</block>
  <block id="06981b2729b4b522b21d903c7738a2ca" category="cell"><block ref="2a6ba72e93aa7fa676d07973ed2716bb" prefix="" category="inline-code"></block></block>
  <block id="31b1d21fc5180ec9a5b3d9d7d5ce3295" category="paragraph">https://&lt;登入&gt;:&lt;密碼&gt;@&lt;mvip&gt;/json-rpc/&lt;元素版本&gt;</block>
  <block id="8eadd25d5b4b5d0637cc13cd7349ce5d" category="paragraph">https://admin:admin@192.168.160.3/json-rpc/8.0</block>
  <block id="955f5caa2495689258902533d1a6cd44" category="cell"><block ref="dcda39e13b00bf6bd40a507e1833a6f5" prefix="" category="inline-code"></block></block>
  <block id="c61f15977fe4efa0866eea87fb740cda" category="paragraph">iSCSI IP 位址和連接埠</block>
  <block id="6a6b63874c664c103982f6d422c6384e" category="paragraph">10.0.0.7:3260</block>
  <block id="4e25fe4a614b527d9b3d89ee6abe5d35" category="cell"><block ref="2e9183e3f034dbf1322a3385f151456e" prefix="" category="inline-code"></block></block>
  <block id="72deb2676231ab8e068ef60dd89edd4c" category="paragraph">要使用的 SolidFireF 租用戶（如果未找到則建立）</block>
  <block id="c1fd85851a162222ab0690383666bd47" category="paragraph"><block ref="05b6053c41a2130afd6fc3b158bda4e6" prefix="" category="inline-code"></block></block>
  <block id="f016e2c01f2bafa45e6b537d49f0f9da" category="cell"><block ref="b3a3a10e13e242e0f148e510ddf12402" prefix="" category="inline-code"></block></block>
  <block id="d2672389886b173aef703433f7e4b89b" category="paragraph">將 iSCSI 流量限制在非預設介面時，請指定介面。</block>
  <block id="26194deaf50c44db6eb5983237bdaf25" category="cell"><block ref="f2d346b1bb7c1c85ab6f7f21e3666b9f" prefix="" category="inline-code"></block></block>
  <block id="ee1aea1de97320ad8e98436f68b01b4a" category="paragraph">QoS規範</block>
  <block id="5935dcd024929bc7086bb230802bf576" category="paragraph">請參閱下面的範例</block>
  <block id="5e9bf55f849ccc5a31a50d1fa784d28c" category="cell"><block ref="8630b9e1983d8c4672fc7b4a8770c637" prefix="" category="inline-code"></block></block>
  <block id="40c7465c2468fd6e890691f6cb612731" category="paragraph">升級版Trident安裝的前綴。如果您使用的是 1.3.2 之前的Trident版本，並且使用現有磁碟區執行升級，則需要設定此值才能存取透過磁碟區名稱方法對應的舊磁碟區。</block>
  <block id="bf0a8b77dbb95465376fb2cfec90b422" category="paragraph"><block ref="76bb7251da6a3c88e629c03a402b9d15" prefix="" category="inline-code"></block></block>
  <block id="36f9c7b615268efec7f4c56c387a55bb" category="paragraph">這<block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block>驅動程式不支援 Docker Swarm。</block>
  <block id="1059bb8540c48e6b455e802384bad65d" category="section-title">範例元素軟體設定檔</block>
  <block id="a1dbba31317214ceff74a44fe41d31ee" category="summary">您可以安全地升級Trident for Docker，而不會對正在使用的磁碟區產生任何影響。升級過程中會有一段短暫的時間，<block ref="8609cd03fd6628c6bcc999242fa9f3aa" prefix=" " category="inline-code"></block>針對該插件的命令將不會成功，應用程式將無法掛載卷，直到該插件再次運行。大多數情況下，這只需要幾秒鐘。</block>
  <block id="e08bfc79c5202517b3814efd6e82fb2c" category="doc">升級或解除Trident</block>
  <block id="f683581d3e75f05f9d9215f9b4696cef" category="section-title">升級</block>
  <block id="62171888e44548522bb83b960a55d872" category="paragraph">請依照下列步驟升級Trident for Docker。</block>
  <block id="ed279061e829314cb0dc7a1708ca5e5b" category="list-text">列出現有捲冊：</block>
  <block id="7c256ad076320e18e087b238e9063f3f" category="list-text">禁用插件：</block>
  <block id="f4ea3e4191f5bda0b91e08059bf9842a" category="list-text">升級插件：</block>
  <block id="39ebc56f061889873fccc1784c6638f7" category="admonition">Trident 18.01 版本取代了 nDVP。你應該直接從以下位置升級：<block ref="86e913ca68bd85fc4edc0bd4588cdf55" prefix=" " category="inline-code"></block>圖片到<block ref="c0324ebb59395a35956b35c5d0c7b285" prefix=" " category="inline-code"></block>圖像。</block>
  <block id="824ba648551a27da6c43705bcd663830" category="list-text">啟用插件：</block>
  <block id="e4c48899ce42f4eb019f54a1a8e66560" category="list-text">請確認外掛程式已啟用：</block>
  <block id="c4d884c606b57bb6cb43864e3499d5a2" category="list-text">確認卷可見：</block>
  <block id="558ab0bef1894a7a726109d36632d09d" category="inline-link-macro">已知問題</block>
  <block id="ee0630d22b9d452ae7bb9de29a466b86" category="admonition">如果您從舊版的Trident （20.10 之前）升級到Trident 20.10 或更高版本，則可能會遇到錯誤。更多信息，請參閱<block ref="6d21ff1c2708107ac3f4ed1a6e27b449" category="inline-link-macro-rx"></block>。如果遇到此錯誤，您應該先停用該插件，然後刪除該插件，最後透過傳遞額外的配置參數來安裝所需的Trident版本：<block ref="5be09dfb82e46451bc4cc62d83a8dafe" prefix=" " category="inline-code"></block></block>
  <block id="a27dfe771799a09fd55fea73286eb6ab" category="section-title">解除安裝</block>
  <block id="b8b22011179e05bc575b579038285d28" category="paragraph">請依照下列步驟解除安裝Trident for Docker。</block>
  <block id="867d93c3d1de0e8e75fa408cfadcbba5" category="list-text">刪除插件所建立的所有磁碟區。</block>
  <block id="4a28a108f39c07ac09218644ca6e9bb0" category="list-text">移除插件：</block>
  <block id="0e9e734e557a02db30a20e5ac259cfb9" category="summary">每個儲存驅動程式都有一組不同的選項，您可以在建立磁碟區時指定這些選項以自訂結果。請參閱下方適用於您配置的儲存系統的選項。</block>
  <block id="11e1b165c1d718d825f4bb9aaf0b884e" category="doc">驅動程式特定音量選項</block>
  <block id="bca0712c590c8d3c228bf1044aed730b" category="paragraph">在建立磁碟區操作期間使用這些選項非常簡單。提供選項和值<block ref="b2ed43620b7fff2689035f1e99c24ded" prefix=" " category="inline-code"></block>CLI 操作期間的運算子。這些值會覆寫 JSON 設定檔中的任何等效值。</block>
  <block id="6021d91bdededf94b8ae37c30e820118" category="section-title">ONTAP容量選項</block>
  <block id="58c4d5bb52050e96221a67cebc52a666" category="paragraph">NFS、iSCSI 和 FC 的磁碟區建立選項包括以下幾種：</block>
  <block id="d3a07c97b6050b305c7dda0aea1657be" category="paragraph">卷大小預設為 1 GiB。</block>
  <block id="69e8c7b4f73d39cea9948875813f7ddd" category="paragraph">容量配置方式可以是精簡配置或厚配置，預設為精簡配置。有效值為<block ref="334c4a4c42fdb79d7ebc3e73b517e6f8" prefix=" " category="inline-code"></block>（精簡配置）和<block ref="210ab9e731c9c36c2c38db15c28a8d1c" prefix=" " category="inline-code"></block>（厚配置）。</block>
  <block id="839d5cbe0fec88e102ab7dee46577ac7" category="paragraph">這將把快照策略設定為所需值。預設值為<block ref="334c4a4c42fdb79d7ebc3e73b517e6f8" prefix=" " category="inline-code"></block>這意味著不會自動為該磁碟區建立快照。除非儲存管理員修改，否則所有ONTAP系統上都存在一個名為「default」的策略，該策略會建立並保留 6 個每小時快照、2 個每日快照和 2 個每週快照。可以透過瀏覽來還原快照中保存的資料。<block ref="a15da8cecb1f1192c4d913b8ba676121" prefix=" " category="inline-code"></block>卷中任意目錄中的目錄。</block>
  <block id="b8a0fde33bd7662b7b9cb4158f04ef52" category="paragraph">這將把快照預留量設定為所需的百分比。預設值為空，這表示如果您選擇了 snapshotPolicy， ONTAP將選擇 snapshotReserve（通常為 5%）；如果 snapshotPolicy 為 none，則 ONTAP 將選擇 snapshotReserve（通常為 5%）。您可以在設定檔中為所有ONTAP後端設定預設 snapshotReserve 值，並且可以將其用作除 ontap-nas-economy 之外的所有ONTAP後端的磁碟區建立選項。</block>
  <block id="14b63ea5b97502ca2d75e85bee96b8b4" category="paragraph">克隆卷時，這將導致ONTAP立即將克隆卷與其父卷分離。預設值為<block ref="68934a3e9455fa72420237eb05902327" prefix=" " category="inline-code"></block>。有些克隆卷的用例最好在創建後立即將克隆卷與其父卷分離，因為不太可能有機會提高儲存效率。例如，克隆一個空資料庫可以節省大量時間，但節省的儲存空間卻很少，因此最好立即拆分克隆。</block>
  <block id="911675212835161abe9bce3f33c70af0" category="paragraph">在新磁碟區啟用NetApp磁碟區加密 (NVE)；預設為<block ref="68934a3e9455fa72420237eb05902327" prefix=" " category="inline-code"></block>。若要使用此選項，必須在叢集上取得 NVE 許可並啟用 NVE。</block>
  <block id="cdaf246fba737b75127faa65456baa30" category="paragraph">設定磁碟區要使用的分層策略。這決定了當資料變成不活動狀態（冷資料）時，是否將其遷移到雲層。</block>
  <block id="1c46d85ab16f6b373409ad15260b1b0a" category="paragraph">以下附加選項僅適用於 NFS：</block>
  <block id="b145a4acc7a577d843f538580013776b" category="paragraph">這控製卷本身的權限集。預設情況下，權限將設定為<block ref="3bea04230b923e6ce984667e43456485" prefix=" " category="inline-code"></block>或以數字表示法表示為 0755，且<block ref="63a9f0ea7bb98050796b649e85481845" prefix=" " category="inline-code"></block>將成為所有者。文字格式或數字格式均可。</block>
  <block id="6d70e81198809f9c160f10b05a430ab1" category="paragraph">將其設定為<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>將使<block ref="a15da8cecb1f1192c4d913b8ba676121" prefix=" " category="inline-code"></block>用戶端存取該磁碟區時可見的目錄。預設值為<block ref="68934a3e9455fa72420237eb05902327" prefix=" " category="inline-code"></block>這意味著可見性<block ref="a15da8cecb1f1192c4d913b8ba676121" prefix=" " category="inline-code"></block>目錄預設為禁用狀態。某些鏡像，例如官方的 MySQL 鏡像，在以下情況下無法如預期運作：<block ref="a15da8cecb1f1192c4d913b8ba676121" prefix=" " category="inline-code"></block>目錄可見。</block>
  <block id="700d608597316c75fc869190f51cff49" category="paragraph">設定該磁碟區要使用的匯出策略。預設值為<block ref="c21f969b5f03d33d43e04f8f136e7682" prefix=" " category="inline-code"></block>。</block>
  <block id="6b068a846d408b1d9ccd2c7220326b9d" category="paragraph">設定用於存取磁碟區的安全樣式。預設值為<block ref="4913a9178621eadcdf191db17915fbcb" prefix=" " category="inline-code"></block>。有效值為<block ref="4913a9178621eadcdf191db17915fbcb" prefix=" " category="inline-code"></block>和<block ref="1d770934d44de09b0d24f04fd01708ba" prefix=" " category="inline-code"></block>。</block>
  <block id="842aac52866a44b40a5733ce352cf6df" category="paragraph">以下附加選項僅適用於 iSCSI：</block>
  <block id="56efcdcb9168adcb146b4d86bf55e99d" category="cell">設定用於格式化 iSCSI 磁碟區的檔案系統。預設值為<block ref="40d1d2ce03569076bd0dc1e0ff90aa4c" prefix=" " category="inline-code"></block>。有效值為<block ref="66f137c5dc684da2a6a65917c86edd67" prefix=" " category="inline-code"></block>，<block ref="40d1d2ce03569076bd0dc1e0ff90aa4c" prefix=" " category="inline-code"></block> ， 和<block ref="310201b6353c5f38bc039e0e51b079d3" prefix=" " category="inline-code"></block>。</block>
  <block id="a0ee23c5b4cbd6a28a4143933891f927" category="cell"><block ref="45922ba6ba8428764f22ed06f814c762" prefix="" category="inline-code"></block></block>
  <block id="284899fef89b0b2e358229a40cbaa53e" category="cell">將其設定為<block ref="68934a3e9455fa72420237eb05902327" prefix=" " category="inline-code"></block>將關閉 LUN 的空間分配功能。預設值為<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>這表示當磁碟區空間不足且磁碟區中的 LUN 無法接受寫入時， ONTAP會通知主機。此選項還允許ONTAP在主機刪除資料時自動回收空間。</block>
  <block id="ff7c0fcd6a31e735a61c001f75426961" category="section-title">範例</block>
  <block id="9e6d454a094b92b0132e48d2369debf5" category="paragraph">請看以下範例：</block>
  <block id="006ae665d682a3f9a5488cf901070b36" category="list-text">建立一個 10 GiB 卷：</block>
  <block id="865cd97dd9f832e1d9213d79b236a1ab" category="list-text">建立一個帶有快照的 100 GiB 磁碟區：</block>
  <block id="297d0d2fcc555e5037c8d251daf5a620" category="list-text">建立一個啟用了 setUID 位元的磁碟區：</block>
  <block id="6c374189e15747b9b59cf004c2d1d7f2" category="paragraph">最小磁碟區大小為 20 MiB。</block>
  <block id="265a503bda2fd70f2fd9a6cf2d876c27" category="paragraph">如果未指定快照保留，且快照策略為<block ref="334c4a4c42fdb79d7ebc3e73b517e6f8" prefix=" " category="inline-code"></block>Trident使用 0% 的快照儲備。</block>
  <block id="8c05fd71822bf85c290cef86db959f68" category="list-text">建立一個沒有快照策略和快照保留的磁碟區：</block>
  <block id="d15d662af6e4417b0b7c134a84ed577c" category="list-text">建立一個沒有快照策略且自訂快照保留比例為 10% 的磁碟區：</block>
  <block id="52a56a468f11c3298931c8e32c938e15" category="list-text">建立一個具有快照策略和 10% 自訂快照保留空間的磁碟區：</block>
  <block id="72291962244c35e29a2e95cd6bd139bf" category="list-text">建立具有快照策略的捲，並接受 ONTAP 的預設快照保留（通常為 5%）：</block>
  <block id="f6f813eaaff2b296a27b6bf051485d2b" category="section-title">Element 軟體音量選項</block>
  <block id="a514753df071ac540af065b659d1c65c" category="paragraph">Element 軟體選項會顯示與磁碟區相關的大小和服務品質 (QoS) 策略。建立磁碟區時，使用下列方式指定與其關聯的 QoS 策略：<block ref="efdd13397a4561d40713ef6bcddfc6e0" prefix=" " category="inline-code"></block>命名法。</block>
  <block id="f201e088f13d93e3d12b3c0ef78dece3" category="paragraph">使用 Element 驅動程式定義 QoS 服務等級的第一步是建立至少一個類型，並在設定檔中指定與名稱關聯的最小、最大和突發 IOPS。</block>
  <block id="5cb7e4a4b6a51af0b5b09cb230b83422" category="paragraph">Element軟體的其他磁碟區建立選項包括以下幾種：</block>
  <block id="32ba3ea0fdfbd643c0ee55450e506969" category="paragraph">卷的大小，預設為 1 GiB 或配置條目...“defaults”：{“size”：“5G”}。</block>
  <block id="d52146098b8ecd83b888289a86e26d19" category="cell"><block ref="bcb398a5b9906c7313bb069518ecd7c1" prefix="" category="inline-code"></block></block>
  <block id="348ef18ccca06aa29547bd9ad87beebe" category="paragraph">可使用 512 或 4096，預設值為 512 或設定項 DefaultBlockSize。</block>
  <block id="1daf1c12549d6d3ae75c4d8d5f59d532" category="paragraph">請參閱以下包含 QoS 定義的範例設定檔：</block>
  <block id="7afe0c73e341cee7c90b4d4dda4600d9" category="paragraph">在上述配置中，我們有三個策略定義：青銅、白銀和黃金。這些名稱是隨意起的。</block>
  <block id="fb489bd0bae5618bdc73d177f2d64e38" category="list-text">創建 10 GiB 黃金卷：</block>
  <block id="81271f59b907de8227da8c807392b336" category="list-text">創建 100 GiB 青銅卷：</block>
  <block id="e5dfa6bb65c32f9e92c36163229be455" category="summary">若要建立卷，請使用標準<block ref="8609cd03fd6628c6bcc999242fa9f3aa" prefix=" " category="inline-code"></block>需要時，請使用指定Trident驅動程式名稱的指令。</block>
  <block id="feabbbf9b5afb31194daf0d8e3ff75dc" category="doc">使用卷</block>
  <block id="56143904c89c4a03d66e1cd15cc7d399" category="paragraph">您可以使用標準方法輕鬆建立、複製和刪除卷<block ref="8609cd03fd6628c6bcc999242fa9f3aa" prefix=" " category="inline-code"></block>需要時，請使用指定Trident驅動程式名稱的指令。</block>
  <block id="dc88dce8ec264777b2f90ec0af744f43" category="section-title">創建卷</block>
  <block id="a32b09b1335e0afbb640a9412690680d" category="list-text">使用預設名稱建立帶有驅動程式的磁碟區：</block>
  <block id="b09a5613f6e78efae1c0ac67f2289c08" category="list-text">建立包含特定Trident實例的磁碟區：</block>
  <block id="93da65a9fd0004d9477aeac024e08e15" category="inline-link-macro">選項</block>
  <block id="593e5c95e1adc19e8d81719c16b57bc1" category="admonition">如果您沒有指定任何內容<block ref="3a0a40f90bfa29e0eb23418c553e5ef5" category="inline-link-macro-rx"></block>使用的是驅動程式的預設設定。</block>
  <block id="e19486e0f435d5132bb0d59bf69d3994" category="list-text">覆蓋預設卷大小。請參閱以下範例，使用驅動程式建立 20 GiB 的磁碟區：</block>
  <block id="5149eec9d959a54cf392efaa710541d1" category="admonition">磁碟區大小以字串形式表示，其中包含一個整數值，單位可選（例如：10G、20GB、3TiB）。如果沒有指定單位，則預設值為 G。大小單位可以表示為 2 的冪（B、KiB、MiB、GiB、TiB）或 10 的冪（B、KB、MB、GB、TB）。簡寫單位使用 2 的冪（G = GiB，T = TiB，…）。</block>
  <block id="9bc129eac7adf7ea5d8ed1c021fab2dc" category="section-title">移除音量</block>
  <block id="281a0f40363a276c6ec125244c784112" category="list-text">刪除該磁碟區的方式與其他 Docker 磁碟區一樣：</block>
  <block id="7959e3701f7a7fba7713c7530d496324" category="admonition">使用時<block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block>上述驅動程式範例刪除並清除磁碟區。</block>
  <block id="d50044469c0bf9ab38eff9cf7243fb25" category="section-title">複製卷</block>
  <block id="3fb1a139a17d8521fe406180d6d6fd59" category="paragraph">使用時<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block>，<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> ，<block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block> ， 和<block ref="a3e1af20cc594d726b1beb3d184dcf26" prefix=" " category="inline-code"></block>Trident可以克隆卷。使用時<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block>或者<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block>驅動程式不支援克隆。從現有磁碟區建立新磁碟區將建立一個新的快照。</block>
  <block id="9374b766b9dd78063440afd69afabf38" category="list-text">檢查磁碟區以列舉快照：</block>
  <block id="2747096689037792fa87de7a0e8440e2" category="list-text">從現有磁碟區建立新磁碟區。這將導致創建一個新的快照：</block>
  <block id="31d9b5ed201aa44dbeae6d17d38c0c6f" category="list-text">從現有磁碟區上的快照建立新磁碟區。這不會創建新的快照：</block>
  <block id="516b30a46da41c6969cb7249d6567905" category="section-title">存取外部建立的捲</block>
  <block id="97b3aeb8d6066d1decf96518ded15d8e" category="paragraph">只有當外部建立的區塊裝置（或其複製）沒有分割且其檔案系統受Trident支援時（例如：一個），容器才能使用Trident存取這些區塊裝置（或其複製）。<block ref="40d1d2ce03569076bd0dc1e0ff90aa4c" prefix=" " category="inline-code"></block>格式化<block ref="1f986d7f0f42932dbaaf84475f63ea7a" prefix=" " category="inline-code"></block>無法透過Trident訪問）。</block>
  <block id="0cc9d438ad56fdbd4bbdfb24f3548660" category="summary">Trident以單一 Controller Pod 和叢集中每個工作節點上的 Node Pod 的形式運作。節點 pod 必須運行在您希望掛載Trident磁碟區的任何主機上。</block>
  <block id="aae2218cccc8db14384d3387594fe6ae" category="doc">Trident架構</block>
  <block id="a5199cf0d9f113491f9efa18f3bee2e1" category="section-title">了解控制器 pod 和節點 pod</block>
  <block id="26ad893be275d6f4dd0e2992250c147f" category="inline-link-macro">Kubernetes CSI Sidecar 容器</block>
  <block id="2544d3adb30a2378653ade7cf906c0aa" category="paragraph">Trident以單一部署。<block ref="7f05a5daccc48435b05c14a7b739fa36" category="inline-xref-macro-rx"></block>以及一個或多個<block ref="8642ddce0d2b15cad48dfefb369d4c89" category="inline-xref-macro-rx"></block>在 Kubernetes 叢集上，並使用標準的 Kubernetes _CSI Sidecar Containers_ 來簡化 CSI 插件的部署。<block ref="c1b69fa7e0376b667b144d553d4653a8" category="inline-link-macro-rx"></block>由 Kubernetes 儲存社群維護。</block>
  <block id="30735a308956ec6de6caa328d0d5b43b" category="inline-link-macro">節點選擇器</block>
  <block id="1db653cf6745dd1e6aa8d6e843ea5e96" category="inline-link-macro">容忍與污點</block>
  <block id="b38acf7b48d99a3dc06e012c7b1c1f3e" category="paragraph">Kubernetes<block ref="219288b06ade6fd51c16efe605941441" category="inline-link-macro-rx"></block>和<block ref="9466cd429d8630101055a8fd14904bd9" category="inline-link-macro-rx"></block>用於限制 pod 在特定或首選節點上運行。在Trident安裝過程中，您可以為控制器和節點 pod 設定節點選擇器和容差。</block>
  <block id="e3826c3aea0bf8502f2ba8ff27eeef19" category="list-text">控制器插件負責磁碟區的配置和管理，例如快照和調整大小。</block>
  <block id="361d997e700d422835e56b644784bb7e" category="list-text">節點插件負責將儲存連接到節點。</block>
  <block id="4d0894b72f21c4fc0e41d094c2d50aed" category="image-title">Trident已部署在 Kubernetes 叢集上</block>
  <block id="92ad11160b8482411ae1167ed34e2bc0" category="image-alt">Kubernetes 叢集上的Trident架構圖。</block>
  <block id="7457022455b6a26d17766b38200639d9" category="section-title">Trident控制器艙</block>
  <block id="8268d8b8723783972c959e76371dd7df" category="paragraph">Trident Controller Pod 是一個運行 CSI Controller 插件的單一 Pod。</block>
  <block id="4d52310e56906c6b51b5691f5aca1a86" category="list-text">負責在NetApp儲存中配置和管理卷</block>
  <block id="64ebc3b44b9bf9706d440310d6edc2a9" category="list-text">由 Kubernetes 部署管理</block>
  <block id="77dde6100b9c974d6b8f13a2c5a5d91f" category="list-text">根據安裝參數的不同，可以在控制平面節點或工作節點上運作。</block>
  <block id="c8d85d76462b8224e3b823eec9636faa" category="image-title">Trident控制器艙示意圖</block>
  <block id="bea45d305fedae15441ab438c3abf9a6" category="image-alt">執行 CSI 控制器外掛程式及適用 CSI 邊車的Trident控制器 Pod 的示意圖。</block>
  <block id="7ac36fe121832c95b5cc692aac2d42e9" category="section-title">Trident節點 Pod</block>
  <block id="cb5b3335d8639110c33aa74ae67f7ec2" category="paragraph">Trident Node Pod 是運行 CSI Node 外掛的特權 Pod。</block>
  <block id="23b09b316e4e6d2ab77e24ae85097f4f" category="list-text">負責掛載和卸載主機上運行的 Pod 的儲存設備</block>
  <block id="5d6469c46b1f411571e059e13a5fe826" category="list-text">由 Kubernetes DaemonSet 管理</block>
  <block id="723997cd24cc1452bfa6efd9349f4262" category="list-text">必須在任何能夠掛載NetApp儲存的節點上執行</block>
  <block id="ffc3cbdd80c8b7dee840511d7c7b2cce" category="image-title">Trident節點艙示意圖</block>
  <block id="8f29ef239c0926132689374fc142a732" category="image-alt">執行 CSI Node 外掛程式及適用 CSI sidecar 的Trident Node Pod 示意圖。</block>
  <block id="4bd05efa612e48dd723de2bdd29f88e2" category="section-title">支援的 Kubernetes 叢集架構</block>
  <block id="190693c471c998e2d7706ff05c87d3c2" category="paragraph">Trident支援以下 Kubernetes 架構：</block>
  <block id="c91cda04d3ac5ae2da327d347d4bbefe" category="cell">Kubernetes叢集架構</block>
  <block id="eaa4dc5078017a5c5bebf383ab6f5124" category="cell">支援</block>
  <block id="c0057eecd4b1a67d11dc801b8992a574" category="cell">預設安裝</block>
  <block id="0c69c79a8788e0e4572d0c4838e69401" category="cell">單主控計算</block>
  <block id="93cba07454f06a4a960172bbd6e2a435" category="cell">是的</block>
  <block id="1fc3441370ae575a64d605fcd15a05fd" category="cell">多主計算</block>
  <block id="7cb2eb9488f3532834f7ef233ae894dd" category="cell">掌握，<block ref="a226e9fbdfc1c8dd7e7fef4d333f86ed" prefix=" " category="inline-code"></block>計算</block>
  <block id="5e5f49db20e29f6377e57e98932dae57" category="cell">主控、基礎設施、計算</block>
  <block id="330103c2a0c87f0aa273d6c15590a575" category="summary">Trident是由NetApp維護的完全支援的開源專案。它旨在幫助您使用業界標準介面（例如容器儲存介面 (CSI)）來滿足容器化應用程式的持久性需求。</block>
  <block id="e61b32e0e629aff81f643458f823b962" category="doc">了解Trident</block>
  <block id="f94a579e5ec139027f8b7d0d24bcce36" category="paragraph">Trident是由NetApp維護的完全支援的開源專案。它旨在幫助您使用業界標準介面（例如容器儲存介面 (CSI)）來滿足容器化應用程式的持久性需求。</block>
  <block id="b8a9ce80261b5fb6cc4c2d2e1f0990ca" category="section-title">什麼是Trident？</block>
  <block id="5e62a96ba0adfc3472a925ff92c33174" category="paragraph">NetApp Trident支援在所有流行的NetApp儲存平台（包括公有雲和本機）上使用和管理儲存資源，例如本機ONTAP叢集（AFF、 FAS和ASA）、 ONTAP Select、 Cloud Volumes ONTAP、Element 軟體（NetApp HCI、 SolidFire）、 Azure NetApp Files、 Amazon FSx for NetApp ONTAP 。</block>
  <block id="30136395f01879792198317c11831ea4" category="inline-link-macro">Kubernetes</block>
  <block id="b1779edf31deaecac634566a2a377f62" category="paragraph">Trident是符合容器儲存介面 (CSI) 標準的動態儲存編排器，可與下列系統原生整合：<block ref="c4f47b2d4c7b6c009c3ed9bc1f952dce" category="inline-link-macro-rx"></block> 。 Trident以單一 Controller Pod 和叢集中每個工作節點上的 Node Pod 的形式運作。參考 <block ref="9f6208219ae600271f6632db354451ed" category="inline-link-macro-rx"></block> 了解詳情。</block>
  <block id="d613d80a6fcacbbceeb665fc5b0846f0" category="inline-link-macro">部署適用於 Docker 的Trident</block>
  <block id="5b6cbf8e3be454064a322ad7f9c47cc2" category="paragraph">Trident也為NetApp儲存平台提供與 Docker 生態系統的直接整合。 NetApp Docker Volume Plugin (nDVP) 支援從儲存平台到 Docker 主機的儲存資源配置和管理。參考 <block ref="168e02b8c5756e29b56aa79aa4a1b715" category="inline-link-macro-rx"></block> 了解詳情。</block>
  <block id="58095fffdb6c13585af5e47e876f7afe" category="inline-link-macro">Kubernetes 概念與工具</block>
  <block id="1bc6462cd59612636c72620a6a67410b" category="admonition">如果您是第一次使用 Kubernetes，您應該先熟悉它。<block ref="41eecc10f74d492dbf2a2c207d5acb1b" category="inline-link-macro-rx"></block> 。</block>
  <block id="ad989553d20159458528f9cbeec280ac" category="section-title">Kubernetes 與NetApp產品集成</block>
  <block id="c15968f29ef9905b44c7b9f373e75568" category="paragraph">NetApp的儲存產品組合與 Kubernetes 叢集的許多面向集成，提供進階資料管理功能，從而增強 Kubernetes 部署的功能、能力、效能和可用性。</block>
  <block id="4d82a1ec1af02725042c8c785564ee7a" category="example-title">Amazon FSx for NetApp ONTAP</block>
  <block id="5051760a43d66d77d01c7a8eb030e7e1" category="paragraph"><block ref="c3736e0f766925817ef4f34af9c72365" category="inline-link-macro-rx"></block>是一項完全託管的 AWS 服務，可讓您啟動並執行由NetApp ONTAP儲存作業系統支援的檔案系統。</block>
  <block id="7450cfde7058dc5e1f7909d0280fd7ae" category="example-title">Azure NetApp Files</block>
  <block id="29ec7bd31b1a1379b78d9898d947d73d" category="paragraph"><block ref="c5e53d3a8d8d3c363071213b1e4da969" category="inline-link-rx"></block>是由NetApp支援的企業級 Azure 檔案共用服務。您可以在 Azure 中原生運行要求最高的基於文件的工作負載，並獲得您期望從NetApp獲得的高效能和豐富的資料管理功能。</block>
  <block id="117bdbda976fe8b3212bc3b6327a0a1b" category="example-title">Cloud Volumes ONTAP</block>
  <block id="047d03a544a1cc3e86aff90177fbd63a" category="paragraph"><block ref="003ebe68b90d9dc2aab9b61b702f9f9b" category="inline-link-macro-rx"></block>是一款純軟體儲存設備，可在雲端運行ONTAP資料管理軟體。</block>
  <block id="1215f8190533dfdf63d2224a6d88266f" category="example-title">Google Cloud NetApp Volumes</block>
  <block id="03f2a9d8b5b9f1a03bc58b91a939d84f" category="paragraph"><block ref="ad43edaec055586043c762c9475bde5c" category="inline-link-macro-rx"></block>是 Google Cloud 中完全託管的文件儲存服務，提供高效能、企業級的文件儲存。</block>
  <block id="27bb76bfb1e4f9966c31f5042348cd1e" category="example-title">Element軟體</block>
  <block id="231afe47f3f37d3808096b36c28b4ded" category="inline-link">元素</block>
  <block id="7630fd61eebe4d79cfa82d81963940d7" category="paragraph"><block ref="eca39b018af81e7b5c8e71b5b4aa3790" category="inline-link-rx"></block>透過確保效能並實現簡化和精簡的儲存佈局，使儲存管理員能夠整合工作負載。</block>
  <block id="08edd2123939d5309dced149763a50ee" category="example-title">NetApp HCI</block>
  <block id="d2a67136c7c7e990d18b8e71635d0395" category="paragraph"><block ref="59c437b3f3e5b14b78b208acb3b663e2" category="inline-link-macro-rx"></block>透過自動化日常任務，簡化資料中心的管理和擴展，使基礎設施管理員能夠專注於更重要的功能。</block>
  <block id="ad82bf93e4b28ad012a8be09e30d3d59" category="paragraph">Trident可以直接針對底層NetApp HCI儲存平台，為容器化應用程式設定和管理儲存設備。</block>
  <block id="7b02ea300aef2e0bff0d7f6111053284" category="example-title">NetApp ONTAP</block>
  <block id="c034280f677ad8e09361e26a1f0d8b2e" category="paragraph"><block ref="8c73590b5c61238f85244f0e29214d94" category="inline-link-macro-rx"></block>NetApp是 NetApp 的多協定統一儲存作業系統，可為任何應用程式提供進階資料管理功能。</block>
  <block id="90de0fd1d09f4fc27d99667555a8a12f" category="paragraph">ONTAP系統具有全快閃、混合或全 HDD 配置，並提供多種不同的部署模型：本機FAS、AFA 和ASA叢集、 ONTAP Select和Cloud Volumes ONTAP。  Trident支援這些ONTAP部署模型。</block>
  <block id="a1582c89f8e85f372306a05848eafb68" category="summary">NetApp的儲存產品組合與 Kubernetes 叢集的許多不同面向集成，提供進階資料管理功能，從而增強 Kubernetes 部署的功能、能力、效能和可用性。</block>
  <block id="10f0fa4079121b371145e16713fdbb44" category="section-title">Trident</block>
  <block id="c14b72fed21fd4eafddae164ba8081d0" category="paragraph"><block ref="41274746a612585e32637b095dd7555b" category="inline-link-rx"></block>使企業能夠更輕鬆地管理、保護和遷移在公有雲內部和跨公有雲以及本地環境中運行的、資料豐富的容器化工作負載（這些工作負載運行在 Kubernetes 上）。 Trident利用NetApp久經考驗且功能強大的儲存產品組合中的Trident ，在公有雲和本地環境中提供持久容器儲存。它還提供了一套豐富的、高級的、應用感知的資料管理功能，例如快照、備份和復原、活動日誌和主動克隆，用於 Kubernetes 工作負載的資料保護、災難/資料復原、資料稽核和遷移用例。</block>
  <block id="253b40ae359ba25b56231803430c4873" category="section-title">ONTAP</block>
  <block id="54ad97548183fc7d802b6db88573701f" category="paragraph">ONTAP是NetApp 的多協定統一儲存作業系統，可為任何應用程式提供進階資料管理功能。  ONTAP系統具有全快閃、混合或全 HDD 配置，並提供多種不同的部署模型，包括工程硬體（FAS和AFF）、白盒（ONTAP Select）和僅限雲端（ Cloud Cloud Volumes ONTAP）。</block>
  <block id="cbb7697b4f6f189240d043ff70ca133c" category="admonition">Trident支援上述所有ONTAP部署模型。</block>
  <block id="5c04ffbd0c110bf7b37d6b95eb756b75" category="paragraph"><block ref="700b45b9fca207b66f675c8d5dfb073b" category="inline-link-rx"></block>是一款純軟體儲存設備，可在雲端運行ONTAP資料管理軟體。您可以使用Cloud Volumes ONTAP進行生產工作負載、災難復原、DevOps、檔案共用和資料庫管理。它透過提供儲存效率、高可用性、資料複製、資料分層和應用程式一致性，將企業儲存擴展到雲端。</block>
  <block id="f8869dc9dbb397ea76e820ae99f70217" category="paragraph"><block ref="6a2736fcbb5755dd03d114a5153506eb" category="inline-link-rx"></block>是一項完全託管的 AWS 服務，可讓您啟動並執行由NetApp ONTAP儲存作業系統支援的檔案系統。  FSx for ONTAP讓您能夠利用您熟悉的NetApp功能、效能和管理能力，同時享受在 AWS 上儲存資料的簡單性、敏捷性、安全性和可擴充性。  FSx for ONTAP支援ONTAP檔案系統的許多功能和管理 API。</block>
  <block id="1fdf61a8f946268990d8e15dd9069a6d" category="paragraph"><block ref="eca39b018af81e7b5c8e71b5b4aa3790" category="inline-link-rx"></block>透過確保效能並實現簡化和精簡的儲存佈局，使儲存管理員能夠整合工作負載。  Element 結合了 API，可實現儲存管理各個方面的自動化，使儲存管理員能夠事半功倍。</block>
  <block id="25f221cc63a7e1fa55b05c29420a72a2" category="paragraph"><block ref="2841e7defe3939e68d83d007d1ad666b" category="inline-link-rx"></block>透過自動化日常任務，簡化資料中心的管理和擴展，使基礎設施管理員能夠專注於更重要的功能。</block>
  <block id="be17f8b9c728a6cb61cad5a2609b3888" category="paragraph">NetApp HCI完全受Trident支援。  Trident可以直接針對底層NetApp HCI儲存平台，為容器化應用程式設定和管理儲存設備。</block>
  <block id="29e7ab00082418141d470583a19c28d3" category="paragraph"><block ref="2384314bcd106c8062815b2ed789c4ad" category="inline-link-rx"></block>是由NetApp支援的企業級 Azure 檔案共用服務。您可以在 Azure 中原生運行要求最高的基於文件的工作負載，並獲得您期望從NetApp獲得的高效能和豐富的資料管理功能。</block>
  <block id="0ce84605b24873b2ee81987302d60089" category="paragraph"><block ref="bc468e9b0072cb6f1552f9bc0a3b6063" category="inline-link-rx"></block>是一個雲端原生檔案服務，它透過 NFS 提供 NAS 卷，並具有全快閃效能。這項服務使任何工作負載（包括傳統應用程式）都能在 GCP 雲端中運作。它提供完全託管的服務，可提供持續的高效能、即時複製、資料保護以及對 Google Compute Engine (GCE) 執行個體的安全存取。</block>
  <block id="a60c2f57df655a9ac5fcaa0750886195" category="summary">如果您是 Kubernetes 新手，請依照指示安裝 Kubernetes 進行試用。這些說明提供了一個基本的單節點集群， Trident可以將其整合到該集群中進行示範。</block>
  <block id="8c33c0d65f9f2a648eb30a9703072383" category="doc">Trident快速入門</block>
  <block id="a555fee6c6587118e36d8dd135df1313" category="inline-link-macro">Trident的要求</block>
  <block id="96a40ad4ad263d59437e326f22eaecdf" category="paragraph">只需幾個步驟，即可安裝Trident並開始管理儲存資源。開始之前，請先回顧一下<block ref="d5fb7f9fba906801b000d5533dc030cf" category="inline-link-macro-rx"></block>。</block>
  <block id="f1bcf1c509e84f327a99d5510a722dec" category="inline-link-macro">Trident for Docker</block>
  <block id="5b5dc0344ff29ee1aeb0845b87692cf1" category="admonition">有關 Docker 的信息，請參閱<block ref="f7120b9f314af1c9d82deae8957b54f3" category="inline-link-macro-rx"></block>。</block>
  <block id="06c2cea18679d64399783748fa367bdd" category="inline-image-macro">一</block>
  <block id="ab17e5f89eede1d0e6d8d31cc646b837" category="paragraph-title"><block ref="58f667aaf05f87159670e12bd9bc076b" category="inline-image-macro-rx" type="image"></block>準備工作節點</block>
  <block id="aba4bc9d3bde7d18b07c23d5c7d0f495" category="paragraph">Kubernetes 叢集中的所有工作節點都必須能夠掛載您為 Pod 設定的磁碟區。</block>
  <block id="89d83ec6e8ec0c087fbc4aedc555b362" category="inline-link-macro">準備工作節點</block>
  <block id="f36d25716a4b2c466ddcb8065bef3ae6" category="paragraph"><block ref="f36d25716a4b2c466ddcb8065bef3ae6" category="inline-link-macro-rx"></block></block>
  <block id="aada29daee1d64ed0fe907043855cb7e" category="inline-image-macro">二</block>
  <block id="8f571d58ed95211be01ea993de3fee3e" category="paragraph-title"><block ref="54f425ce8d89f4ed6b8a546561af5d60" category="inline-image-macro-rx" type="image"></block>安裝Trident</block>
  <block id="9877a7ec0ff327ca21c8022d61c25f88" category="paragraph">Trident提供多種安裝方法和模式，並針對各種環境和組織進行了最佳化。</block>
  <block id="b8b9eab8c1ed7b79387652490f5724ec" category="inline-link-macro">安裝Trident</block>
  <block id="d94be11e75caa4db23a136d9b4cca4d9" category="paragraph"><block ref="d94be11e75caa4db23a136d9b4cca4d9" category="inline-link-macro-rx"></block></block>
  <block id="ca8a2087e5557e317599344687a57391" category="inline-image-macro">三</block>
  <block id="f3b066024fd8e2699d194d41d5e46a5d" category="paragraph-title"><block ref="05b2444faffd66d76e88602ea7dd353f" category="inline-image-macro-rx" type="image"></block>創建後端</block>
  <block id="2e5120dd8211c4057a742a03b68ffe1a" category="paragraph">後端定義了Trident與儲存系統之間的關係。它告訴Trident如何與該儲存系統通信，以及Trident應該如何從中設定磁碟區。</block>
  <block id="2865195658f1488af43d46690ad5826e" category="inline-link-macro">配置後端</block>
  <block id="079428cf070b5e0039780f2cb4a5a962" category="paragraph"><block ref="8be76aeedec602130bcedf5acbf56030" category="inline-link-macro-rx"></block>適用於您的儲存系統</block>
  <block id="981b8fcee42e1e726a67a2b9a98ea6e9" category="inline-image-macro">四</block>
  <block id="eda4708b025e26e5f9759856f4f88876" category="paragraph-title"><block ref="beadfa85a2fdca06b91edc1131c603e6" category="inline-image-macro-rx" type="image"></block>建立 Kubernetes 儲存類</block>
  <block id="a5cdf497d98aa8d8e9bf311fe225a905" category="paragraph">Kubernetes StorageClass 物件指定Trident作為配置器，並允許您建立儲存類別以配置具有可自訂屬性的磁碟區。  Trident為指定Trident設定器的 Kubernetes 物件建立相符的儲存類別。</block>
  <block id="14f4c7abe09c4481722f1fa6563f2604" category="inline-link-macro">建立儲存類別</block>
  <block id="abf99adee0d47955ab8c148a0937ce6e" category="paragraph"><block ref="abf99adee0d47955ab8c148a0937ce6e" category="inline-link-macro-rx"></block></block>
  <block id="e5d9de39f7ca1ba2637e5640af3ae8aa" category="inline-image-macro">五</block>
  <block id="b625988ee18e5f1370f9b328cfa197b7" category="paragraph-title"><block ref="99e8b2f00e172bfcff96afdce69907bc" category="inline-image-macro-rx" type="image"></block>提供一定量</block>
  <block id="185cde3c1e3ef64c59eaee8662d4048a" category="paragraph">持久性磁碟區 (PV) 是 Kubernetes 叢集上由叢集管理員配置的實體儲存資源。  _PersistentVolumeClaim_ (PVC) 是對叢集上持久卷的存取請求。</block>
  <block id="e8a058c8c47f6e4976a9fc5b5c00ec92" category="paragraph">建立一個持久性磁碟區 (PV) 和一個持久性磁碟區宣告 (PVC)，使用設定的 Kubernetes StorageClass 請求存取 PV。然後您可以將光伏組件安裝到支架上。</block>
  <block id="a3b7bd8edd528214a68ac3ceb5c9935c" category="inline-link-macro">提供一定量</block>
  <block id="7646000ea978570e919e657f5ec9aa57" category="paragraph"><block ref="7646000ea978570e919e657f5ec9aa57" category="inline-link-macro-rx"></block></block>
  <block id="58eaebf972358f1cf03d386a4ade1a0f" category="section-title">下一步是什麼？</block>
  <block id="abefc87b0c4c459aa6fdb12d98caf984" category="paragraph">現在您可以新增其他後端、管理儲存類別、管理後端以及執行磁碟區操作。</block>
  <block id="54f1c3c7de2748b6f3616d7b1186ade2" category="summary">在安裝Trident之前，您應該查看這些通用系統需求。特定後端可能還有其他要求。</block>
  <block id="5a2ebfb8baa378cfcfcba58bbb1380c2" category="doc">要求</block>
  <block id="0fe713481395212a8eb358f4cb188c04" category="section-title">關於Trident的關鍵訊息</block>
  <block id="8e7cb3d16dbeb8a9289495de8b479d1f" category="paragraph">*您必須閱讀以下關於Trident的重要資訊。 *</block>
  <block id="04dc1d4246222d48d4348b40baef0aac" category="example-title">關於Trident的關鍵訊息</block>
  <block id="65cfb19ed2b3d296782fbfdd6b7075b1" category="list-text">Trident現已支援 Kubernetes 1.34。在升級 Kubernetes 之前先升級Trident 。</block>
  <block id="5e25fae885baef0275d27a764979b289" category="list-text">Trident嚴格強制要求在 SAN 環境中使用多路徑配置，建議值為<block ref="db729c5c8df447087e5a84b961df14f6" prefix=" " category="inline-code"></block>在 multipath.conf 檔案中。</block>
  <block id="7b9eed191ce5e7cc8c8d1cb8cfe2d8c8" category="paragraph">使用非多路徑配置或使用<block ref="a3a1d5b95e345a3db24a5a30e349f699" prefix=" " category="inline-code"></block>或者<block ref="e82e6d155396541f07f7347c984444ea" prefix=" " category="inline-code"></block>multipath.conf 檔案中的值會導致掛載失敗。  Trident建議使用<block ref="db729c5c8df447087e5a84b961df14f6" prefix=" " category="inline-code"></block>自 21.07 版本發布以來。</block>
  <block id="c777be7f669397b0a376fe32ca5cd9c3" category="section-title">支援的前端（編排器）</block>
  <block id="710f95d40d121f27f89b0faa6e178133" category="paragraph">Trident支援多種容器引擎和編排器，包括以下幾種：</block>
  <block id="7cc1edf2116d94e97b8f4a69079de132" category="list-text">Anthos On-Prem (VMware) 和 Anthos on Bare Metal 1.16</block>
  <block id="e69ddc8f5253cd0167cca555b0f0fd9c" category="list-text">Kubernetes 1.27 - 1.34</block>
  <block id="bef9303dd11d749d2facca8b3064630e" category="list-text">OpenShift 4.12、4.14 - 4.19（如果您打算使用 OpenShift 4.19 進行 iSCSI 節點準備，則支援的最低Trident版本為 25.06.1。）</block>
  <block id="3b30a7aea8a6f98824f61888e8628449" category="inline-link-macro">Red Hat 擴充更新支援 (EUS) 發布生命週期</block>
  <block id="6b62784ed0975ba9ec1e2f69af860e25" category="admonition">Trident繼續支援舊版的 OpenShift，以符合…<block ref="d73f30265a77d175825591fd08508146" category="inline-link-macro-rx"></block>即使他們依賴上游不再官方支援的 Kubernetes 版本。在這種情況下安裝Trident時，您可以放心地忽略有關 Kubernetes 版本的任何警告訊息。</block>
  <block id="7f6d66fd53fc399c1b8baeebcdb94472" category="list-text">Rancher Kubernetes Engine 2（RKE2）v1.27.x - 1.34.x</block>
  <block id="844c50b4f1aab48821867a1209be687b" category="admonition">雖然Trident在 Rancher Kubernetes Engine 2 (RKE2) 版本 1.27.x - 1.34.x 上受支持，但Trident目前僅在 RKE2 v1.28.5+rke2r1 上獲得認證。</block>
  <block id="e42907190e2666646d57ade5c061e6e2" category="paragraph">Trident也與許多其他完全託管和自架的 Kubernetes 產品合作，包括 Google Kubernetes Engine (GKE)、Amazon Elastic Kubernetes Services (EKS)、Azure Kubernetes Service (AKS)、Mirantis Kubernetes Engine (MKE) 和 VMWare Tanzu Portfolio。</block>
  <block id="eca0dda5d40cf62b4a73c50deab2520c" category="inline-link-macro">KubeVirt</block>
  <block id="4cb56edacf6f40b0077e559878cb88a1" category="paragraph">Trident和ONTAP可用作儲存提供者<block ref="98ab68800979b414641691275d2b9c15" category="inline-link-macro-rx"></block>。</block>
  <block id="a5fd2691a6a5df653970895b1c5045ed" category="inline-link-macro">升級 Helm 安裝</block>
  <block id="bde4e01f8df98626e0dc1c36a8e06a5a" category="admonition">在將已安裝Trident的 Kubernetes 叢集從 1.25 版本升級至 1.26 或更高版本之前，請參閱下列內容：<block ref="1b428bb9b9fe27db6cd8932526864634" category="inline-link-macro-rx"></block> 。</block>
  <block id="f787cd4b6963b13f12fa53131f58ef6c" category="section-title">支援的後端（儲存）</block>
  <block id="90e5d592b7e0b2afb122e69c00372ddf" category="paragraph">要使用Trident，您需要以下一個或多個支援的後端：</block>
  <block id="1d3d126b8a5bad69c46ed03734beed47" category="list-text">NetApp全 SAN 陣列 (ASA)</block>
  <block id="fc1d748db1b5b488ce7af7d17ea15d55" category="inline-link-macro">軟體版本支持</block>
  <block id="4afb8b760c67eab8ce5a9cf405163d78" category="list-text">NetApp 有限支援下的本機FAS、 AFF、Select 或ASA r2（iSCSI 和 NVMe/TCP）叢集版本。看<block ref="50931d770a2149cdd08c9f8b08c33f00" category="inline-link-macro-rx"></block>。</block>
  <block id="6b51834314ece904405eb0ce1a6e6bd8" category="list-text">NetApp HCI/Element 軟體 11 或更高版本</block>
  <block id="e80b6a304e29d5dfcb9150f47d69db94" category="section-title">Trident對 KubeVirt 和 OpenShift 虛擬化的支持</block>
  <block id="8f323a9e5c0c5162cc6e0d48e0cb1850" category="paragraph-title">支援的儲存驅動程式：</block>
  <block id="cffd29fb8e17cb30625130ee24cd667d" category="paragraph">Trident支援以下適用於 KubeVirt 和 OpenShift 虛擬化的ONTAP驅動程式：</block>
  <block id="8321592ce24c8a122ecf26a63cfca407" category="list-text">ontap-nas</block>
  <block id="caafdf62a2c609bfa5316118231a1007" category="list-text">ontap-nas-economy</block>
  <block id="188c0d870c5f930d042bdaa1f1fc3573" category="list-text">ontap-san（基於 TCP 的 iSCSI、FCP、NVMe）</block>
  <block id="1bbe28a8ef9b1c85d07b013af0628d36" category="list-text">ontap-san-economy（僅限 iSCSI）</block>
  <block id="db526afc657fdfec1ca176eb9d281f89" category="list-title">需要考慮的要點：</block>
  <block id="0ae326ef84f2a6bc4be48951f88c0162" category="list-text">更新存儲類別以使其具有<block ref="7cfbb6f07899c8071ff38e69dca190e2" prefix=" " category="inline-code"></block>參數（例如：<block ref="6db865adcb81b7cf881ff9839476f850" prefix=" " category="inline-code"></block>在 OpenShift 虛擬化環境中。如有需要，請使用以下方式明確設定音量模式為阻止模式：<block ref="1467a571dd94848f616edc4a0c33b927" prefix=" " category="inline-code"></block>參數<block ref="c6dda2fd1e6d70d582099348cfe6c847" prefix=" " category="inline-code"></block>通知 CDI 建立區塊資料卷。</block>
  <block id="c515dd3a067f21589c3e11d31e32462b" category="list-text">_區塊儲存驅動程式的 RWX 存取模式_: ontap-san (iSCSI、NVMe/TCP、FC) 和 ontap-san-economy (iSCSI) 驅動程式僅支援「volumeMode: Block」（原始裝置）。對於這些司機來說，<block ref="8da9b296683a7538d85fc38fcb987292" prefix=" " category="inline-code"></block>由於磁碟區是以原始設備模式提供的，因此無法使用該參數。</block>
  <block id="f97169869bcbff98d85a1b7ec1d7b5f8" category="list-text">對於需要 RWX 存取模式的即時遷移工作流程，支援以下組合：</block>
  <block id="d3701dd5a7c831a74d496a90c3a65f13" category="list-text">NFS+<block ref="7f5db5e0500761cacd6f89838e2ebdc5" prefix=" " category="inline-code"></block></block>
  <block id="42c7d371004c0674ae717618c4a08508" category="list-text">iSCSI+<block ref="1467a571dd94848f616edc4a0c33b927" prefix=" " category="inline-code"></block> （原始設備）</block>
  <block id="e031968b595722f16da97146c3a92c69" category="list-text">NVMe/TCP +<block ref="1467a571dd94848f616edc4a0c33b927" prefix=" " category="inline-code"></block> （原始設備）</block>
  <block id="381edc20137f75d1e418981c1361fd2c" category="list-text">FC+<block ref="1467a571dd94848f616edc4a0c33b927" prefix=" " category="inline-code"></block> （原始設備）</block>
  <block id="c7c7a6a5641f33e348244f9c43010e16" category="section-title">功能需求</block>
  <block id="6116c21c42b3138e811999de6433a0a6" category="paragraph">下表總結了此版本Trident提供的功能及其支援的 Kubernetes 版本。</block>
  <block id="21021ea0e52be8e9c599f4dff41e5be0" category="cell">特徵</block>
  <block id="80afba45eb055fc9bdc48c90d1debd06" category="cell">Kubernetes 版本</block>
  <block id="10f295a61d2a793ac8936a69cf458654" category="cell">需要設置特色門嗎？</block>
  <block id="27f15237580e8f85cd2846baf40ad83b" category="paragraph">1.27 - 1.34</block>
  <block id="bafd7322c6e97d25b6299b5d6fe8920b" category="paragraph">不</block>
  <block id="e830b7e4d1fb7f84600876af87cb4381" category="cell">卷快照</block>
  <block id="ea8ed249117e76cb53766e218fe2b7c7" category="cell">PVC 來自磁碟區快照</block>
  <block id="28dcded20f550dcad1bd9bb03a5bbe73" category="cell">iSCSI PV 調整大小</block>
  <block id="1673543ed032e46f3572ba65bc070693" category="cell">ONTAP雙向 CHAP</block>
  <block id="176e16df4faab1a1e06e9585c813d5fe" category="cell">動態出口政策</block>
  <block id="1f7219b07d5bce7feec002a9f4dc2201" category="cell">Trident操作員</block>
  <block id="443432948b68bb63d707ce7ecc4a021a" category="cell">CSI拓撲</block>
  <block id="af7c8216a3289efe1a298a19c00b8b8c" category="section-title">測試過的主機作業系統</block>
  <block id="29fce9ae0f476afd36cf3ebf4de1d2a8" category="paragraph">雖然Trident官方並未正式支援特定作業系統，但已知以下作業系統可以正常運作：</block>
  <block id="daa6a182f8035711e9635994f572c7bc" category="list-text">OpenShift 容器平台支援的 Red Hat Enterprise Linux CoreOS (RHCOS) 版本（AMD64 和 ARM64）</block>
  <block id="a3460163c4a2854c79a419dda57ac917" category="list-text">RHEL 8+（AMD64 和 ARM64）</block>
  <block id="8554748be67b956e550de942edae807d" category="admonition">NVMe/TCP 需要 RHEL 9 或更高版本。</block>
  <block id="f51a58a0cffb9f9953edce6411578b53" category="list-text">Ubuntu 22.04 或更高版本（AMD64 和 ARM64）</block>
  <block id="de547bcab0e20f54ec4d5e95ba44b0b1" category="list-text">Windows 伺服器 2022</block>
  <block id="779639a0216e7a8fd164ee8a7266d8b8" category="paragraph">預設情況下， Trident在容器中運行，因此可以在任何 Linux 工作節點上運行。但是，這些工作人員需要能夠使用標準 NFS 用戶端或 iSCSI 發起程序掛載Trident提供的磁碟區，具體取決於您使用的後端。</block>
  <block id="11ea58814ce429c3e3254a63f8cde7a4" category="paragraph">這<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>該實用程式也可在上述任何 Linux 發行版上運行。</block>
  <block id="13d80777c8fd43e555c1f5b1b72d7ef0" category="section-title">主機配置</block>
  <block id="e379ebca8f2245b4a0c32803c6d7f845" category="paragraph">Kubernetes 叢集中的所有工作節點都必須能夠掛載您為 Pod 設定的磁碟區。若要準備工作節點，您必須根據所選驅動程式安裝 NFS、iSCSI 或 NVMe 工具。</block>
  <block id="2139fe384d5ae165545994dff01961d9" category="section-title">儲存系統配置</block>
  <block id="ac65d911a6a42e3244db78a534db815a" category="paragraph">Trident可能需要對儲存系統進行更改，後端配置才能使用它。</block>
  <block id="87dc0337d3ded2211d9b01c32e22d90d" category="inline-link-macro">配置後端</block>
  <block id="50823ee9226376c44bfb71c334ee2f3f" category="paragraph"><block ref="50823ee9226376c44bfb71c334ee2f3f" category="inline-link-macro-rx"></block></block>
  <block id="8ff649e05d6e0ae0d638b05135917e8b" category="section-title">Trident港口</block>
  <block id="31ae62dfe6cb254d32d0f67deda8d9ad" category="paragraph">Trident需要存取特定連接埠才能進行通訊。</block>
  <block id="2e442c7238666f1b73934ff5c2034b82" category="paragraph"><block ref="2e442c7238666f1b73934ff5c2034b82" category="inline-link-macro-rx"></block></block>
  <block id="923680056b0f0258907f498670b4ead1" category="section-title">容器鏡像和相應的 Kubernetes 版本</block>
  <block id="ce8468ce4398f1403e56c8d07fbfbdff" category="paragraph">對於實體隔離安裝，以下清單是安裝Trident所需的容器鏡像參考。使用<block ref="4ebf280824868255c952dc529072ecb9" prefix=" " category="inline-code"></block>用於驗證所需容器鏡像清單的命令。</block>
  <block id="f5df426ed26da0917a8092b8f0b273d7" category="section-title">Trident 25.06.2 所需的容器鏡像</block>
  <block id="7b5dfababf92391b5761944c63b0d3bb" category="cell">Kubernetes 版本</block>
  <block id="aa92c4c233bc01609d957e469736b699" category="cell">容器影像</block>
  <block id="73b1fe6d150d74c875ee4a368dd3b1a9" category="cell">v1.27.0、v1.28.0、v1.29.0、v1.30.0、v1.31.0、v1.32.0、v1.33.0、v1.34.0</block>
  <block id="2bf22bcd28ba853a9453f882ca5dd194" category="list-text">docker.io/netapp/trident:25.06.2</block>
  <block id="d010f8bd4e6cede4d3e51de4419c09aa" category="list-text">docker.io/netapp/trident-autosupport:25.06</block>
  <block id="b55333d21cb50b1d1d34c529c999482f" category="list-text">registry.k8s.io/sig-storage/csi-provisioner:v5.2.0</block>
  <block id="3b72fba0c67a9cb87151e878d3ba37f9" category="list-text">registry.k8s.io/sig-storage/csi-attacher:v4.8.1</block>
  <block id="06489d7f99c3b214c8b9a539006a642c" category="list-text">registry.k8s.io/sig-storage/csi-resizer:v1.13.2</block>
  <block id="5b892dce2351df7e1f21d1004bc2cb19" category="list-text">registry.k8s.io/sig-storage/csi-snapshotter:v8.2.1</block>
  <block id="7e8b00e8f801232796015a8859867e55" category="list-text">registry.k8s.io/sig-storage/csi-node-driver-registrar:v2.13.0</block>
  <block id="1f8b4ae7badb9c9b5fd03f3770bf252f" category="list-text">docker.io/netapp/trident-operator:25.06.2（選購）</block>
  <block id="543f0a02b84be74ac68a52c8fb383d86" category="section-title">Trident 25.06 所需的容器鏡像</block>
  <block id="3e711dbc16f3de48b46eca5b86572321" category="list-text">docker.io/netapp/trident:25.06.0</block>
  <block id="5647d06b79232a09c66557bdfc379908" category="list-text">docker.io/netapp/trident-operator:25.06.0（選購）</block>
  <block id="f5d19c8a8c2f8f69c432eeca877b5fcd" category="summary">您可以使用Trident安裝程式來自訂部署。</block>
  <block id="4b4c8bb835df197f723a52a388a1a4e0" category="paragraph">您可以使用Trident安裝程式來自訂安裝。</block>
  <block id="0dabff490bbf6c7e308950959cc5a024" category="section-title">了解安裝程序</block>
  <block id="e0ebb2a26a33f54574264738d90b4256" category="paragraph">Trident安裝程式可讓您自訂屬性。例如，如果您已將Trident映像複製到私人倉庫，則可以使用下列方式指定映像名稱：<block ref="00e6ff45e8bcc6b9e35e9c68d8d5135c" prefix=" " category="inline-code"></block> 。如果您已將Trident鏡像以及所需的 CSI sidecar 映像複製到私人儲存庫，則最好使用下列方式指定該儲存庫的位置：<block ref="53b228c1c8295f49b0c35325e14fcd6a" prefix=" " category="inline-code"></block>開關，其形式<block ref="c4c34dc2c7d5cb25c084ca11127ba1c6" prefix=" " category="inline-code"></block>。</block>
  <block id="85219bbc6090744b49cad804af63daaa" category="admonition">在私人倉庫中安裝Trident時，如果您使用的是<block ref="53b228c1c8295f49b0c35325e14fcd6a" prefix=" " category="inline-code"></block>切換以指定儲存庫位置，請勿使用<block ref="191065897cafafd6677dec7355a785d9" prefix=" " category="inline-code"></block>在儲存庫路徑中。例如：<block ref="51e87a5a10277cd8b68fe2bfaab6b1e5" prefix=" " category="inline-code"></block></block>
  <block id="8355509d170c8a61d236e927a5fcc6e2" category="paragraph">如果您使用的是 Kubernetes 發行版，那麼<block ref="703e9c640b9e3ea630f6687938e43c9a" prefix=" " category="inline-code"></block>它的資料保存在與通常路徑不同的路徑上。<block ref="bc5cffcf9f10f624d02ae2efb8215dc5" prefix=" " category="inline-code"></block>您可以使用以下方式指定備用路徑<block ref="4009da7ed740211f32d29441deab875e" prefix=" " category="inline-code"></block>。</block>
  <block id="47cd697cf3c9dcf916f70a0007956c1d" category="paragraph">如果需要對安裝進行超出安裝程式參數允許範圍的自訂，您也可以自訂部署檔案。使用<block ref="5de93c87952cd098700fb8d46daed4d6" prefix=" " category="inline-code"></block>此參數會在安裝程式中建立以下 YAML 文件<block ref="a0f848942ce863cf53c0fa6cc684007d" prefix=" " category="inline-code"></block>目錄：</block>
  <block id="0858f0ee003d52951161848adffe1b31" category="list-text"><block ref="d67d2c9d865b587d65b2e63c78c1cfa0" prefix="" category="inline-code"></block></block>
  <block id="af73689aedfa47bd2a7cf144917b0642" category="list-text"><block ref="eb6cdeddd28243c1552ea3b1061b4410" prefix="" category="inline-code"></block></block>
  <block id="1d53fd876245951bb003eb47849ff39d" category="list-text"><block ref="91696b9b3532f20cd7fb80573a7425d4" prefix="" category="inline-code"></block></block>
  <block id="b17dbe8acaeca82c72d25948de03eefc" category="list-text"><block ref="c1484787d70c4ea99f3bd377937ea020" prefix="" category="inline-code"></block></block>
  <block id="ecb2b56a094cc1cbd3ac263b23d91f8b" category="list-text"><block ref="9f6c6212091d8eef52ff63c5e58f70e8" prefix="" category="inline-code"></block></block>
  <block id="c5e462ae653234d0ea0e98a000e62a97" category="list-text"><block ref="b4d153fcc8c4c7bed016796085d6abd1" prefix="" category="inline-code"></block></block>
  <block id="f1347677de6873f8ddce6d736cba9a63" category="list-text"><block ref="ec3914518572122d25969da6b4b66fcc" prefix="" category="inline-code"></block></block>
  <block id="2539c7e25ada2a2cdae0eb4c4633b893" category="list-text"><block ref="3f7046611d8d5f8ed666a93ae7a61ae7" prefix="" category="inline-code"></block></block>
  <block id="702fa57eedc6ee8490a7294016f8b14f" category="list-text"><block ref="1a368feb8bb72ef66bb194b43d0a15b3" prefix="" category="inline-code"></block></block>
  <block id="385d099ed91e83dbe20ea05fbed68e22" category="paragraph">產生這些文件後，您可以根據需要修改它們，然後使用它們。<block ref="8026926641b283123174e50f80da83de" prefix=" " category="inline-code"></block>安裝您的自訂部署。</block>
  <block id="dafb04a56b5428b7efaff9062ddc586b" category="summary">Trident運算子可讓您透過使用屬性來自訂Trident 的安裝方式。<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block>規格</block>
  <block id="2f6c694f9d016c7193ece4853c402d96" category="doc">自訂Trident操作員安裝</block>
  <block id="0155e97c891593a2b846fc604a01426f" category="paragraph">Trident運算子可讓您使用屬性自訂Trident安裝。<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block>規格如果您想對安裝進行超出以下範圍的自訂：<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block>如果論點允許，請考慮使用<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>產生自訂 YAML 清單，並根據需要進行修改。</block>
  <block id="8d6d249f3e02155f1f4e28dec3f40a4f" category="paragraph">Trident以單一控制器 pod 的形式運行，叢集中的每個工作節點上也有一個節點 pod。節點 pod 必須運行在您希望掛載Trident磁碟區的任何主機上。</block>
  <block id="0897b2b75e3d0217c2f6994605a2cae7" category="paragraph">Kubernetes<block ref="219288b06ade6fd51c16efe605941441" category="inline-link-macro-rx"></block>和<block ref="9466cd429d8630101055a8fd14904bd9" category="inline-link-macro-rx"></block>用於限制 pod 在特定或首選節點上運行。使用`ControllerPlugin`和<block ref="96687552cc4dff10038a1b07a8bf3bd3" prefix=" " category="inline-code"></block>您可以指定約束和覆蓋規則。</block>
  <block id="50f33d14f129e4548c1c270fd6725a78" category="section-title">配置選項</block>
  <block id="d71d7e5009f5ee11ae970a342fff23ae" category="admonition"><block ref="b2c66bca748ffde67c7b6817cb8dd795" prefix="" category="inline-code"></block>已在…中指定<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block>用於指定Trident安裝所在的命名空間。 Trident安裝後，此參數*無法更新*。嘗試這樣做會導致<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block>狀態變更為<block ref="d7c8c85bf79bbe1b7188497c32c3b0ca" prefix=" " category="inline-code"></block>。  Trident不打算跨命名空間遷移。</block>
  <block id="a739aa7f082abebdf65f4b114dd3ad7d" category="paragraph">此表詳細列出了<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block>屬性。</block>
  <block id="83f499a540b1323009c200d6f8cc9396" category="cell">範圍</block>
  <block id="7a1920d61156abc05a60135aefe8bc67" category="cell">預設</block>
  <block id="f3f30d479f6e3b393d917a3b2f88c770" category="cell"><block ref="89801e9e98979062e84647433a8ed3e9" prefix="" category="inline-code"></block></block>
  <block id="0cf03ede150b823aae6ae068fa6ffb35" category="cell">用於安裝Trident 的命名空間</block>
  <block id="90a731f9a8a983f7cf3905960d8146ec" category="cell"><block ref="9aa82da0cffe247b84587c1cc8e32746" prefix="" category="inline-code"></block></block>
  <block id="a67cf6b087ff88dbfacec8375928995c" category="cell"><block ref="ad42f6697b035b7580e4fef93be20b4d" prefix="" category="inline-code"></block></block>
  <block id="6c6ebc33a5cbbe6942a0c9ec90d575a2" category="cell">啟用Trident的調試功能</block>
  <block id="b4f36de9fda080c1fd1d9edb1e60e36b" category="cell"><block ref="badc795d88a7db6cc65d56bc758b3ea4" prefix="" category="inline-code"></block></block>
  <block id="0915385df687d0c4a0afb57a61f02af3" category="cell"><block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix="" category="inline-code"></block>，<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block> ，<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block> ， 和<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block>僅有的。與 Kubernetes 非優雅節點關閉 (NGNS) 配合使用，使叢集管理員能夠在節點發生故障時安全地將掛載磁碟區的工作負載遷移到新節點。</block>
  <block id="05f901da7fdacb9ca59e3d7e2d40f98d" category="cell"><block ref="0f4137ed1502b5045d6083aa258b5c42" prefix="" category="inline-code"></block></block>
  <block id="fbbd7b4b14060c4fdb02f92c4c08e702" category="cell">設定為<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>支援在Windows工作節點上安裝。</block>
  <block id="3f5dc9ae5f538d3ce4d0cc20e7762671" category="cell"><block ref="d19f2c0377f3ed7cab9377cf066cb7ef" prefix="" category="inline-code"></block></block>
  <block id="2455735b04a718daf96631c95e2d2d2c" category="paragraph">設定為<block ref="71d36c46e340ad9137b2691e267f5ecd" prefix=" " category="inline-code"></block>在 AKS 叢集上使用託管身分或雲端身分時。設定為<block ref="907695ffaef2806fea589c7d8d044679" prefix=" " category="inline-code"></block>在 EKS 叢集上使用雲端身分時。設定為<block ref="9856712fdf7563a4074fc130ed9f0755" prefix=" " category="inline-code"></block>在 GKE 叢集上使用雲端身分時。</block>
  <block id="2f6b7b0c1002ad67f4e455a17d784c94" category="cell"><block ref="9d4568c009d203ab10e33ea9953a0264" prefix="" category="inline-code"></block></block>
  <block id="0b79806f5a5d5ddd87cd1bd2a28f965c" category="cell"><block ref="89abe9fddbe3cf0f9bcd7779fe4aed69" prefix="" category="inline-code"></block></block>
  <block id="d73f3637b8d6ba73db2eed6c626bb0f7" category="paragraph">在 AKS 叢集上使用雲端識別時，請設定為工作負載標識（「azure.workload.identity/client-id: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxx」）。在 EKS 叢集上使用雲端身分時，設定為 AWS IAM 角色（「'eks.amazonaws.com/role-arn: arn:aws:iam::123456:role/trident-role'」）。在 GKE 叢集上使用雲端身分時，請設定為雲端身分（「'iam.gke.io/gcp-service-account: xxxx@mygcpproject.iam.gserviceaccount.com'」）。</block>
  <block id="d293f031e5664526b25f3a65012401b7" category="cell"><block ref="fdb7cb8f657426e7c409bfd6d1a36ce4" prefix="" category="inline-code"></block></block>
  <block id="609512f035fafafacc14b4f6f29bb70d" category="cell">透過 IPv6 安裝Trident</block>
  <block id="68934a3e9455fa72420237eb05902327" category="cell">錯誤的</block>
  <block id="077e99fe42ced522b462656cffffe09c" category="cell"><block ref="d5276bb17ae062102e883a18454c2f1b" prefix="" category="inline-code"></block></block>
  <block id="ebc465247274e830568c785a604321aa" category="paragraph">Kubernetes 操作逾時。</block>
  <block id="487b75b94dd20a59c7005f9de6a6c4a0" category="admonition">這<block ref="d5276bb17ae062102e883a18454c2f1b" prefix=" " category="inline-code"></block>此參數僅適用於Trident安裝。</block>
  <block id="710d51eba716c95765550f52a1c4fd61" category="cell"><block ref="4aff31f193e6ea4df2a1c4f841bad5d6" prefix="" category="inline-code"></block></block>
  <block id="42cf123e93ecc5c0297652edbc547fc0" category="cell"><block ref="2fac1659431903a30e063d49b3effb9d" prefix="" category="inline-code"></block></block>
  <block id="4a213b7c3b997ffb0794b25909381d16" category="cell">不要自動向NetApp發送自動支援包</block>
  <block id="2bccac20e55391730a985f9819e1cc41" category="cell"><block ref="7ecc687ea7566f05fd13fde7be607bfc" prefix="" category="inline-code"></block></block>
  <block id="84448c234dfdfd2a7367341fd4b56a80" category="cell">自動支援遙測的容器鏡像</block>
  <block id="d59cb19805caf164811cd6ff7d71da51" category="cell"><block ref="2a096ce9ce9c58c91575ae3f40daa915" prefix="" category="inline-code"></block></block>
  <block id="f4a6821b04b9ce6b90148068341347b6" category="cell"><block ref="5f264298da92162575024336c485cc13" prefix="" category="inline-code"></block></block>
  <block id="7f54ca385f028308d19e228ce0534a47" category="cell">用於發送自動支援遙測資料的代理位址/端口</block>
  <block id="fca9ec6d50035c840a58bdecab9e25b1" category="cell"><block ref="256acfe307251e7444859851d87d5735" prefix="" category="inline-code"></block></block>
  <block id="e9f06180af644cfa6e5d20bd67c03bc5" category="cell"><block ref="fe98497efedbe156ecc4b953aea77e07" prefix="" category="inline-code"></block></block>
  <block id="9e6197850998001239ecde260b512013" category="cell">用於卸載Trident 的標誌</block>
  <block id="cad060d2f14dbf08315c20014ed31daa" category="cell"><block ref="0b19d236934f609fe765b504a36b637e" prefix="" category="inline-code"></block></block>
  <block id="26ed500280b8c0e427f21574b44203cc" category="cell">Trident日誌記錄格式：[text,json]</block>
  <block id="db8e1facb8efde48ce50388e2dc9cfcc" category="cell"><block ref="20cd815523e5806aec29a57282b0d49f" prefix="" category="inline-code"></block></block>
  <block id="7610c5cc7910022402c4fbd450d889ce" category="cell"><block ref="d771848c80f96e5954a8658655cf79d7" prefix="" category="inline-code"></block></block>
  <block id="f443d16ba56df1480ca415fae25eaaef" category="cell">安裝Trident鏡像</block>
  <block id="fcd7f4cc8a01becf1cfddb538266578c" category="cell"><block ref="f6ac10a5549303d8f00a11f375963f9b" prefix="" category="inline-code"></block></block>
  <block id="8088435dc0e1c8b85217d850d3e7a602" category="cell"><block ref="990dc1a09e10c7b5378e6bc8a1956cb8" prefix="" category="inline-code"></block></block>
  <block id="4f25f4cca5c1939f4a728d2678e719f7" category="cell">內部登錄路徑，格式如下<block ref="d2ce1f53a5f0e84f4f1b5e28836eb05b" prefix=" " category="inline-code"></block></block>
  <block id="4a5fadb6b0890cea5e8d53c37411aaf0" category="cell"><block ref="bc35d038baf172a19349f289d31fbf9d" prefix="" category="inline-code"></block></block>
  <block id="e6b96cbb467923e86672bb25db5ecebb" category="cell"><block ref="31e3a95d0afff0def109a244b7f82d83" prefix="" category="inline-code"></block></block>
  <block id="31aad37dce0c28e12908582a0d63736a" category="cell">主機上 kubelet 目錄的路徑</block>
  <block id="a55d315d1b8f8342158866cd0f4acf4f" category="cell"><block ref="df8f3af91e96fe841267201ed450cd6b" prefix="" category="inline-code"></block></block>
  <block id="b6e0e2c4168573f0ed61c842470342ba" category="cell"><block ref="c13a52521693f799a16fd56a35c77a04" prefix="" category="inline-code"></block></block>
  <block id="26cb458bf42b8de61d4c66da519e7560" category="cell">若要徹底移除Trident，需要刪除以下資源：</block>
  <block id="2d30d1348c4d2533a165827a22516caa" category="cell"><block ref="0d9b54b29da54379cca6b8782b9faae5" prefix="" category="inline-code"></block></block>
  <block id="f73bb4a0bc9913e7fc6db5f9e5f2afeb" category="cell">從內部鏡像倉庫拉取鏡像的秘訣</block>
  <block id="79445b5dba623a55ad4d974712853c2f" category="cell"><block ref="2b8b5018006a800ae06485c3aacfa08d" prefix="" category="inline-code"></block></block>
  <block id="cbea7dc9eb2c3c926a86130b0be6368f" category="cell">設定Trident運算子的鏡像拉取策略。有效值為：<block ref="68eec46437c384d8dad18d5464ebc35c" prefix=" " category="inline-code"></block>始終提取圖像。<block ref="7803982c6b845094275e8e83f0fad3a6" prefix=" " category="inline-code"></block>僅當節點上尚不存在該鏡像時才拉取該鏡像。<block ref="6e7b34fa59e1bd229b207892956dc41c" prefix=" " category="inline-code"></block>永遠不要刪除影像。</block>
  <block id="ac7c98af4f51cc4b20acafb785a53284" category="cell"><block ref="7803982c6b845094275e8e83f0fad3a6" prefix="" category="inline-code"></block></block>
  <block id="b89df534de66f446ec6482f9d7898bb2" category="cell"><block ref="3d97872197327b9967bcc3f4f76b25c5" prefix="" category="inline-code"></block></block>
  <block id="d64d0e5bb5a552ae4986a713f41c8fc3" category="cell">Pod 的附加節點選擇器。遵循與以下相同的格式<block ref="6ae8be3433bfc36ced79a1271e6ebf11" prefix=" " category="inline-code"></block>。</block>
  <block id="8d414af35aeb82413205fa45551a5545" category="cell">無預設值；可選</block>
  <block id="df1f367efe879ec0030f43610e29c5af" category="cell"><block ref="e648881dc52660bceb907a4b5b9f7042" prefix="" category="inline-code"></block></block>
  <block id="875ce721843c20d7f9aae240673ed68b" category="cell">涵蓋 Kubernetes 對 Pod 的容忍度。遵循與以下相同的格式：<block ref="f1fa64fcf5077601cb803e995a51fa4f" prefix=" " category="inline-code"></block> 。</block>
  <block id="47a441037628a3c0f0edb0daccb33f99" category="cell"><block ref="ae41eb1a542b17214c779966cd254a4d" prefix="" category="inline-code"></block></block>
  <block id="00e8e1706119ce5300bdc9141ececc37" category="cell">Pod 的附加節點選擇器。遵循與以下相同的格式<block ref="6ae8be3433bfc36ced79a1271e6ebf11" prefix=" " category="inline-code"></block>。</block>
  <block id="f297db5a937924105908a365d9d4c4ff" category="cell"><block ref="b729c9d7484a61fd754f6b7f533db71c" prefix="" category="inline-code"></block></block>
  <block id="2c82926c3266fa69b7a6b9b9bf2da929" category="cell"><block ref="e9a7558decb5e432d8b7c4d536cc9876" prefix="" category="inline-code"></block></block>
  <block id="17290457cf887fb0694111a08adc91e7" category="paragraph">使Trident能夠準備 Kubernetes 叢集的節點，以使用指定的資料儲存協定管理磁碟區。*現在，<block ref="39eea648dab96b0ee6022dabb38bc420" prefix=" " category="inline-code"></block>是唯一支援的值。 *</block>
  <block id="dcc6257f6685a427757ede81b2086cb2" category="admonition">從 OpenShift 4.19 開始，此功能支援的最低Trident版本為 25.06.1。</block>
  <block id="c58ac3825b86aa7d2974a07f7fa6034e" category="cell"><block ref="ddb26827be8b4407890c3c9d97a1cfaa" prefix="" category="inline-code"></block></block>
  <block id="5e7f36ac5097702b7b261f47121e2fca" category="paragraph">控制器與 Kubernetes API 伺服器通訊時所使用的每秒查詢數 (QPS) 限制。Burst 值會根據 QPS 值自動設定。</block>
  <block id="2ab2e58818cb444e3077fcc7704f7079" category="cell"><block ref="f899139df5e1059396431415e770c6dd" prefix="" category="inline-code"></block>; 選修的</block>
  <block id="d7a2654dbfab5a9156d117ed5f38d69d" category="cell"><block ref="b061e443e106870da185a3681948cf1b" prefix="" category="inline-code"></block></block>
  <block id="8f6c08227a11c89c47d71368ee8be24b" category="paragraph">支援並發Trident控制器操作以提高吞吐量。</block>
  <block id="a7b533ae6b857f339e48992cd45fb205" category="admonition">*技術預覽*：此功能在NetApp Trident 25.06 中處於實驗階段，目前支援使用ONTAP-SAN 驅動程式（iSCSI 和 FCP 協定）的有限平行工作流程。</block>
  <block id="4352a1b4e004cf57ac04661a18de43aa" category="inline-link-macro">將 Pod 指派給節點</block>
  <block id="746996e3c70ac1447e486f6c9fc0fac2" category="admonition">有關格式化 pod 參數的更多信息，請參閱<block ref="7b3a69fdac08c769183925679da4c365" category="inline-link-macro-rx"></block>。</block>
  <block id="38a0b9f59e6fe23e1617dc0e78498afe" category="section-title">強制分離的詳細訊息</block>
  <block id="20c0c9efee2da2645ec0eefaf3c75d8c" category="inline-link-macro">Kubernetes：節點非優雅關閉</block>
  <block id="ac359e2f52a664608f09a2e7a47ec527" category="paragraph">強制分離功能可用<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block>，<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block> ，<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block> ， 和<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block>僅有的。在啟用強制分離之前，必須在 Kubernetes 叢集上啟用非正常節點關閉 (NGNS)。Kubernetes 1.28 以上版本預設啟用 NGNS。更多信息，請參閱<block ref="a0c86c823d7e699cfc277c93de351a2d" category="inline-link-macro-rx"></block>。</block>
  <block id="97949d2167cfb02925ebeb5fbc18e41c" category="admonition">使用時<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block>或者<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block>驅動程序，您需要設置<block ref="323e871cfe2e70ead9c713e8f3164f8f" prefix=" " category="inline-code"></block>後端配置中的參數<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>以便Trident可以使用託管導出策略限制對應用了污點的 Kubernetes 節點的存取。</block>
  <block id="b90bdf58371477fc38f47c2f6d120df5" category="admonition">由於Trident依賴 Kubernetes NGNS，請勿移除<block ref="2ea3337d8d7fc43880e82df308aa0f16" prefix=" " category="inline-code"></block>將來自不健康節點的污點保留到所有無法容忍的工作負載重新調度為止。魯莽地應用或移除污點可能會危害後端資料保護。</block>
  <block id="36d4895fba0608ac61adf67bca2ca709" category="paragraph">當 Kubernetes 叢集管理員應用了<block ref="7b58fe53e2e4b586e9605f1371e1ebf3" prefix=" " category="inline-code"></block>節點受到污染<block ref="badc795d88a7db6cc65d56bc758b3ea4" prefix=" " category="inline-code"></block>設定為<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>Trident將確定節點狀態並：</block>
  <block id="5a46bcb638ad3abfd754aecfb450a781" category="list-text">停止對掛載到該節點的磁碟區的後端 I/O 存取。</block>
  <block id="a753dc0e9b9a4864e2954c838d295341" category="list-text">將Trident節點物件標記為<block ref="32478ef751ab0a81974a3aa8569607b9" prefix=" " category="inline-code"></block>（不適合新出版品）</block>
  <block id="d3f280add1ef01848e3068dbafeb2930" category="admonition">Trident控制器將拒絕新的發布捲請求，直到節點重新獲得資格（在被標記為已啟動之後）。<block ref="32478ef751ab0a81974a3aa8569607b9" prefix=" " category="inline-code"></block>由Trident節點 pod 執行。任何使用已掛載 PVC 調度的工作負載（即使叢集節點運作狀況良好且已準備就緒）在Trident驗證節點之前都不會被接受。<block ref="123402c04dcfb6625f688f771a5fc05d" prefix=" " category="inline-code"></block> （適用於新出版品）。</block>
  <block id="94b5491434477bb572567175dae8789b" category="paragraph">當節點健康狀況恢復且污點被移除後， Trident將：</block>
  <block id="8f57f52b7233aecf56728bcd48d3a51c" category="list-text">識別並清理節點上過期的已發布路徑。</block>
  <block id="9b87d3b70754b676221dcbe27972c21e" category="list-text">如果節點位於<block ref="4304fb35c4cdfa886970499304f2aaba" prefix=" " category="inline-code"></block>狀態（已移除服務中斷污點，節點處於）<block ref="e7d31fc0602fb2ede144d18cdffd816b" prefix=" " category="inline-code"></block>如果狀態）且所有過期的、已發佈的路徑都已清理， Trident將重新接納該節點。<block ref="123402c04dcfb6625f688f771a5fc05d" prefix=" " category="inline-code"></block>並允許將新發布的捲添加到節點。</block>
  <block id="a3ff66cf5848a34d56915c8e879a5d52" category="section-title">範例配置</block>
  <block id="cb970ba92f64074cb0c13138a539851d" category="paragraph">您可以使用下列屬性<block ref="289efe9665b12a9f791f1897f30c1a0b" category="inline-xref-macro-rx"></block>在定義時<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block>自訂您的安裝。</block>
  <block id="0f63a7a4873a5bae5060bde9fd1009af" category="example-title">基本自訂配置</block>
  <block id="8c1fabda63909c966d5b02c908178af2" category="paragraph">這個範例是在運行以下命令後創建的：<block ref="6108feb94d9d09a19e33648dcce80003" prefix=" " category="inline-code"></block>該命令代表一個基本的自訂安裝：</block>
  <block id="a144d1a554ec741f701e87c26360c28e" category="example-title">節點選擇器</block>
  <block id="0b566d8eeef773fb0a1874a0340c1bf1" category="paragraph">此範例使用節點選擇器安裝Trident 。</block>
  <block id="de5aefa11fe3836b4b8d0769b09b21eb" category="example-title">Windows 工作節點</block>
  <block id="a687cccb5ef434dd8df6734253a09535" category="paragraph">這個範例是在運行以下命令後創建的：<block ref="2241cac556b278d16d0bb5f94117277a" prefix=" " category="inline-code"></block>該指令在 Windows 工作節點上安裝Trident 。</block>
  <block id="f393555b01f0bafc5bd6a63db97bac1d" category="example-title">AKS 叢集上的託管身份</block>
  <block id="f9c98839799a3d0d53b9fe671548369b" category="paragraph">本範例安裝Trident以在 AKS 叢集上啟用託管身分。</block>
  <block id="87405c3bcad617fc620ddcd9d59cee14" category="example-title">AKS 叢集上的雲端身份</block>
  <block id="134db50713debda2944acc2079f0cd32" category="paragraph">本範例在 AKS 叢集上安裝Trident以用於雲端身分。</block>
  <block id="26f5586d25dc46e2526fe898341970ac" category="example-title">EKS 叢集上的雲端身份</block>
  <block id="338531cfbc43156671176c4844d84c2e" category="example-title">GKE 的雲端身份</block>
  <block id="b89f71465b55ef1dc894a4364041d9f0" category="paragraph">本範例在 GKE 叢集上安裝Trident以用於雲端身分。</block>
  <block id="dfee7b28d5bbb63372e0d49295ca91ff" category="summary">您可以使用 Helm 部署Trident Operator 並安裝Trident 。此程序適用於Trident所需的容器映像存放在私人鏡像倉庫中的安裝情況。</block>
  <block id="3e8935de45b1559e2ec2b01c1bbb06c2" category="doc">使用 Helm 部署Trident Operator（離線模式）</block>
  <block id="11ad6eeb0e6095efdbf4599d71303b0e" category="inline-link-macro">標準部署流程</block>
  <block id="eba73b570dfb3af8b46b60d34f2b27a9" category="paragraph">您可以使用 Helm 部署Trident Operator 並安裝Trident 。此程序適用於Trident所需的容器映像存放在私人鏡像倉庫中的安裝情況。如果您沒有私有鏡像倉庫，請使用<block ref="2230544d14bc4ba0c61a5a1b2030a1d4" category="inline-link-macro-rx"></block>。</block>
  <block id="b59305925bb6ffc962ea48351db964e8" category="section-title">關於Trident25.06的關鍵訊息</block>
  <block id="906e93a2060242b360786042d0f40c9f" category="section-title">使用 Helm 部署Trident Operator 並安裝Trident。</block>
  <block id="7d3f46589c43a64fd040e4f0e0691a86" category="inline-link-macro">掌舵圖</block>
  <block id="54cae3576f4c4ef43a60a75276a7afdb" category="paragraph">使用Trident<block ref="30e4ebd32bc870aef019efda0672389c" category="inline-link-macro-rx"></block>您可以一步完成Trident運算子的部署和Trident 的安裝。</block>
  <block id="3342f1a2f74c6062a39d3076c35c5a5b" category="inline-link-macro">安裝概述</block>
  <block id="6657de3ab3deaeef939684c50d5310e3" category="paragraph">審查<block ref="17128a3e349370ba21c9ca13ca0bc297" category="inline-link-macro-rx"></block>確保您已滿足安裝先決條件並為您的環境選擇了正確的安裝選項。</block>
  <block id="8f3958d59b8da100a4663b1cace112b7" category="inline-link-macro">部署前提條件</block>
  <block id="2e1b3f44683eee188be985693c4af5e1" category="inline-link-macro">Helm 版本 3</block>
  <block id="64d2af40480a5cebf7e64939f6253bf3" category="paragraph">除了<block ref="c7282b7e52e27c635b613335e59bf436" category="inline-link-macro-rx"></block>你需要<block ref="fc0cdbd8defe0c7175199dd05a0f8e76" category="inline-link-macro-rx"></block>。</block>
  <block id="4d204b33a367deb7dbcb20395c917da2" category="admonition">在私人倉庫中安裝Trident時，如果您使用的是<block ref="990dc1a09e10c7b5378e6bc8a1956cb8" prefix=" " category="inline-code"></block>切換以指定儲存庫位置，請勿使用<block ref="191065897cafafd6677dec7355a785d9" prefix=" " category="inline-code"></block>在儲存庫路徑中。</block>
  <block id="43eba64dcd06763432addbcf8db2d367" category="list-text">新增Trident Helm 倉庫：</block>
  <block id="b3735f022036728c24121c449da97183" category="inline-link-macro">Trident與CSI影像</block>
  <block id="d7ccfdca42aadc41314f5df3ed2e4cbf" category="list-text">使用<block ref="0562418e6d9a76d0dd22b2f186a2203d" prefix=" " category="inline-code"></block>並指定部署和鏡像倉庫位置的名稱。你的<block ref="57de9a35aeedde82408b1e047030d221" category="inline-link-macro-rx"></block>CSI 映像檔可以位於同一個登錄檔或不同的登錄檔中，但所有 CSI 映像必須位於同一個登錄檔中。在這些例子中，<block ref="5c9befb508998ce21883733ce6ab129f" prefix=" " category="inline-code"></block>這是您正在安裝的Trident版本。</block>
  <block id="c4ffea098f78924a9b9331b8f5e9c8b4" category="open-title">一個註冊表中的圖像</block>
  <block id="4847c552b2ff9251806e41c8fa907e19" category="open-title">不同註冊機構中的影像</block>
  <block id="134bf17c90c90b5aeed99dde262bf14d" category="admonition">如果您已經為Trident創建了命名空間，那麼<block ref="cc1f5c1d16e33b8463c9ee27295cd5df" prefix=" " category="inline-code"></block>此參數不會建立額外的命名空間。</block>
  <block id="d75fdc8e85ddcd7e9dc9f367168dec11" category="paragraph">您可以使用<block ref="cd4140d3de30b520500459331d08d2bf" prefix=" " category="inline-code"></block>查看安裝詳細信息，例如名稱、命名空間、圖表、狀態、應用程式版本和修訂號。</block>
  <block id="4c5ab57df808d08e9978671e7e81bb2a" category="section-title">安裝過程中傳遞配置數據</block>
  <block id="e366a20246a41520da551be510c1d658" category="paragraph">安裝過程中有兩種方法可以傳遞設定資料：</block>
  <block id="c2bae6a1b11b371647052979113c2b7c" category="cell"><block ref="2c1d18b300e96c797f390483b0c6acdb" prefix="" category="inline-code"></block>（或者<block ref="5338b151154663bac9980b0f044518f2" prefix=" " category="inline-code"></block>）</block>
  <block id="0bfab21a3b7a34a60173df3f165eda9c" category="paragraph">指定一個包含覆蓋規則的 YAML 檔案。可以多次指定，最右邊的檔案將優先使用。</block>
  <block id="ef136231fb37749162723573d36b19c9" category="cell"><block ref="8b5806248570dbb13e7d3bc5e6c0ee37" prefix="" category="inline-code"></block></block>
  <block id="7595b6387dfaf9307f563edc4d951a0d" category="paragraph">在命令列中指定覆蓋設定。</block>
  <block id="9632d6ad86670e70a32c6b93e85ad9f4" category="paragraph">例如，要更改預設值<block ref="ad42f6697b035b7580e4fef93be20b4d" prefix=" " category="inline-code"></block>運行以下命令，其中<block ref="5c9befb508998ce21883733ce6ab129f" prefix=" " category="inline-code"></block>是您正在安裝的Trident版本：</block>
  <block id="4dd793a25a8706b6330293fdd8ba3cca" category="paragraph">若要新增 nodePrep 值，請執行以下命令：</block>
  <block id="d924b4945b9cee37e07a2c601d1081be" category="paragraph">這張表格和<block ref="ba05023d0f1b5d4b64b6cad4cf9a7ecd" prefix=" " category="inline-code"></block>該檔案是 Helm chart 的一部分，提供了鍵及其預設值的清單。</block>
  <block id="a4b3e6e276b60f51832e92ee5e4c0d3c" category="admonition">請勿從 values.yaml 檔案中移除預設親和性設定。當您需要提供自訂親和性時，請擴展預設親和性。</block>
  <block id="e0e228e32d97e1461cf4492bd5366550" category="cell"><block ref="6370f866cf64618c026027da41bd248e" prefix="" category="inline-code"></block></block>
  <block id="f54139bbd014c510ee9fa277241d4666" category="cell">用於 pod 分配的節點標籤</block>
  <block id="b7f663c63859fec6f7d2f1ecd891de73" category="cell"><block ref="6e0bd2b3fba01f3f74634cfc6fcc31d6" prefix="" category="inline-code"></block></block>
  <block id="6b164b6efa957c912428e089b86ecd45" category="cell">Pod 註解</block>
  <block id="4e3c35024b2d124aa9ab33a254e2545c" category="cell"><block ref="7c73e8c8cba054b3164d0b641ef36a41" prefix="" category="inline-code"></block></block>
  <block id="1a6308fa062d92acbff3b1304615d1db" category="cell">部署註解</block>
  <block id="716c09bbd59aa99d3932f73b7f517b2c" category="cell"><block ref="d6c26478ca41a23cc9741a4e92576269" prefix="" category="inline-code"></block></block>
  <block id="1147c70db6b1e5ac87df9b1ef26ea59a" category="cell">對艙位分配的容忍度</block>
  <block id="ed550d998ef1de0c69744fb5f7f7173c" category="cell"><block ref="1474047fb00b2d8d95646f7436837ed0" prefix="" category="inline-code"></block></block>
  <block id="064fd06fa9edd7a1e29b4da6fd9a1688" category="cell">對小組分配的偏好</block>
  <block id="b81e781314c37667d0eae6eeba5f0468" category="cell"><block ref="d525dcbea000b0429493d47a891b5ad9" prefix="" category="inline-code"></block></block>
  <block id="2a2c6cbf201e7fa0935ec1e8b243cca1" category="cell">Pod 的附加節點選擇器。參考 <block ref="4b8785cedf610e3d8df57f69213f93a8" category="inline-link-macro-rx"></block> 了解詳情。</block>
  <block id="0ccd4d74122ec81d149bc2bb132524d6" category="cell"><block ref="e8c1183eadfdb38078a7bd66bfa038ac" prefix="" category="inline-code"></block></block>
  <block id="8a00a4799d11edabcb628da338d295ce" category="cell">涵蓋 Kubernetes 對 Pod 的容忍度。參考 <block ref="4b8785cedf610e3d8df57f69213f93a8" category="inline-link-macro-rx"></block> 了解詳情。</block>
  <block id="c5387f0fc94f27d79519bb1299916e0f" category="cell"><block ref="bc0951b6e57a04c942fe6054649bb323" prefix="" category="inline-code"></block></block>
  <block id="7923027736f9cc9bbc6f6914e020e8a2" category="cell"><block ref="85dec10eb608a93a9febb24b39f5dae5" prefix="" category="inline-code"></block></block>
  <block id="13449393414b4d9d6fb5c0c42481c6bb" category="cell">確定註冊表<block ref="c39d2745402b5d2987cfdd8df3bda0e1" prefix=" " category="inline-code"></block>，<block ref="47cb44be55a0dffa15dfc900a4c687be" prefix=" " category="inline-code"></block>以及其他圖片。留空則接受預設值。重要：在私人倉庫安裝Trident時，如果您使用的是<block ref="990dc1a09e10c7b5378e6bc8a1956cb8" prefix=" " category="inline-code"></block>切換以指定儲存庫位置，請勿使用<block ref="191065897cafafd6677dec7355a785d9" prefix=" " category="inline-code"></block>在儲存庫路徑中。</block>
  <block id="9d4568c009d203ab10e33ea9953a0264" category="cell">“”</block>
  <block id="7211a1f37ce0f92a2727e11de77a5256" category="cell">設定鏡像拉取策略<block ref="c39d2745402b5d2987cfdd8df3bda0e1" prefix=" " category="inline-code"></block>。</block>
  <block id="f19aec010e48d5133114e8de96e071cd" category="cell">設定鏡像拉取密鑰<block ref="c39d2745402b5d2987cfdd8df3bda0e1" prefix=" " category="inline-code"></block>，<block ref="47cb44be55a0dffa15dfc900a4c687be" prefix=" " category="inline-code"></block>以及其他圖片。</block>
  <block id="b8ef31ad215c14ea7ac3aa4744f3b42f" category="cell">允許覆蓋 kubelet 內部狀態的主機位置。</block>
  <block id="5e2907912eaee9094910d428b8f01073" category="cell"><block ref="2d9583aa0b2422324be870c86f92540f" prefix="" category="inline-code"></block></block>
  <block id="a580f5edb0407fe7fc07e03adb88d2be" category="cell">允許將Trident操作符的日誌等級設定為：<block ref="04a75036e9d520bb983c5ed03b8d0182" prefix=" " category="inline-code"></block> ，<block ref="ad42f6697b035b7580e4fef93be20b4d" prefix=" " category="inline-code"></block> ，<block ref="caf9b6b99962bf5c2264824231d7a40c" prefix=" " category="inline-code"></block> ，<block ref="1ea4c3ab05ee0c6d4de30740443769cb" prefix=" " category="inline-code"></block> ，<block ref="cb5e100e5a9a3e7f6d1fd97512215282" prefix=" " category="inline-code"></block> ， 或者<block ref="df6402fd9ecc60f5a2159fdf45711cd4" prefix=" " category="inline-code"></block>。</block>
  <block id="17b455f4f77262089207347508d91156" category="cell"><block ref="94b4515f09a2cc099780cd762366bc78" prefix="" category="inline-code"></block></block>
  <block id="0b401c459e3ff134b1e0ef7924967db5" category="cell"><block ref="844aa3cc935c46477e308955f84504e9" prefix="" category="inline-code"></block></block>
  <block id="0d1fd401e197635acbe814b44cbbe0f0" category="cell">允許將Trident操作符的日誌等級設定為 debug。</block>
  <block id="22cfef4d87bd251ba39dd92d08a6b0bb" category="cell"><block ref="b326b5062b2f0e69046810717534cb09" prefix="" category="inline-code"></block></block>
  <block id="e6e859881d25cceaf35be98ff2b495e5" category="cell"><block ref="225eb420f27fc1614025e3e94f1dbcd4" prefix="" category="inline-code"></block></block>
  <block id="3e23960e7162cfc391ab62ee009d09b5" category="cell">允許完全覆蓋影像<block ref="c39d2745402b5d2987cfdd8df3bda0e1" prefix=" " category="inline-code"></block>。</block>
  <block id="586d412183efcbc76c2b206c73911009" category="cell"><block ref="5a50bd404d515b199254e69f83732c55" prefix="" category="inline-code"></block></block>
  <block id="87a9d5d1548b0e39b7cfe5115c686d2d" category="cell">允許覆蓋標籤<block ref="c39d2745402b5d2987cfdd8df3bda0e1" prefix=" " category="inline-code"></block>圖像。</block>
  <block id="ba6229139ac12ca183160040964cdaae" category="cell"><block ref="c185b55e62d1fe703eb97b2a31b6c2a3" prefix="" category="inline-code"></block></block>
  <block id="2b5e815c8ff99f9eef6559d24c783ba7" category="cell">允許Trident在 IPv6 叢集中工作。</block>
  <block id="aacf685d031cae06a5c158144296d071" category="cell"><block ref="b958a6de9ca123713491252f2ab02f59" prefix="" category="inline-code"></block></block>
  <block id="68087b4c898b9466dc989d8086e173dc" category="paragraph">覆寫大多數 Kubernetes API 操作的預設 180 秒逾時（如果非零，則以秒為單位）。</block>
  <block id="0784343c721b59e3c2426a1b76297982" category="admonition">這<block ref="b958a6de9ca123713491252f2ab02f59" prefix=" " category="inline-code"></block>此參數僅適用於Trident安裝。</block>
  <block id="bd3dd99c8eae44e2ae2bfc8f00dc3db0" category="cell"><block ref="045117b0e0a11a242b9765e79cbf113f" prefix="" category="inline-code"></block></block>
  <block id="fbf0a4141bdac5821d271a6c1de1f483" category="cell"><block ref="70b0324e2a65a29bea1b014606caba39" prefix="" category="inline-code"></block></block>
  <block id="d74c6fe1792f46d6c929a448fd8b99cd" category="cell">覆蓋 HTTP 請求的預設 90 秒逾時時間。<block ref="bb61fa2850d04f4e5e34449de13febe4" prefix=" " category="inline-code"></block>超時時間無限長。不允許使用負值。</block>
  <block id="ab7c61393023df91a4271d09e26bda15" category="cell"><block ref="558c8a41e3e5c9a0f109be6e60efce8d" prefix="" category="inline-code"></block></block>
  <block id="b2ffdfaa5c81870c0fb113956a7244aa" category="cell"><block ref="141d9fad9dd7e4fec852d6e55f414373" prefix="" category="inline-code"></block></block>
  <block id="31f08e89ef234f9ec501c003d82bd2b4" category="cell">允許停用Trident定期AutoSupport報告。</block>
  <block id="22ca6470a16bcd1b3a0fd7b7dc456b4c" category="cell"><block ref="9626ee86c83efe1de7c3f5e2669b4a04" prefix="" category="inline-code"></block></block>
  <block id="1eb59d4f1034670c547353e700b9c45f" category="cell">允許覆蓋Trident AutoSupport容器的圖像標籤。</block>
  <block id="dfdc01cf8fa557986d9b3e8702b6ff1b" category="cell"><block ref="3d689bd3819ead35ed794427bd12f459" prefix="" category="inline-code"></block></block>
  <block id="8639f9efa7d4198eba06690d4a1f0d16" category="cell"><block ref="c370bb44f26914bb0c965f35a89a42f7" prefix="" category="inline-code"></block></block>
  <block id="1b8b03266c41458cf8c8b67fddf79f72" category="cell">使Trident AutoSupport容器能夠透過 HTTP 代理向伺服器傳送請求。</block>
  <block id="b081a6c6ed5931a2b55e31e706aae502" category="cell"><block ref="5836094432fed0c547c18869122bbf9a" prefix="" category="inline-code"></block></block>
  <block id="28b0bd49547c0889ddc764ec4af0404f" category="cell">設定Trident日誌格式<block ref="1cb251ec0d568de6a929b520c4aed8d1" prefix="(" category="inline-code"></block>或者<block ref="466deec76ecdf5fca6d38571f6324d54" prefix=" " category="inline-code"></block>）。</block>
  <block id="4d165b964c1ea4708882da42c3ef5194" category="cell"><block ref="0be533d5261bfa202a27dd6f4a2ff4da" prefix="" category="inline-code"></block></block>
  <block id="025e09276aadc123e8e855a29fafc984" category="cell">停用Trident稽核日誌記錄器。</block>
  <block id="c7bc9c0edf4b3f771388feb15b8ad592" category="cell"><block ref="cd4906de65bd0389fcc62105f05b77d6" prefix="" category="inline-code"></block></block>
  <block id="dca184d2a2b16c8fb797363408cbe703" category="cell">允許將Trident的日誌等級設定為：<block ref="04a75036e9d520bb983c5ed03b8d0182" prefix=" " category="inline-code"></block> ，<block ref="ad42f6697b035b7580e4fef93be20b4d" prefix=" " category="inline-code"></block> ，<block ref="caf9b6b99962bf5c2264824231d7a40c" prefix=" " category="inline-code"></block> ，<block ref="1ea4c3ab05ee0c6d4de30740443769cb" prefix=" " category="inline-code"></block> ，<block ref="cb5e100e5a9a3e7f6d1fd97512215282" prefix=" " category="inline-code"></block> ， 或者<block ref="df6402fd9ecc60f5a2159fdf45711cd4" prefix=" " category="inline-code"></block>。</block>
  <block id="c97f5436c3ba56768a7996ac0a152830" category="cell"><block ref="efc1e9e3a120c20b12e892ce2f230ff8" prefix="" category="inline-code"></block></block>
  <block id="14db3339a3d7e6dcb158ff8a75d75327" category="cell">允許將Trident的日誌等級設定為<block ref="ad42f6697b035b7580e4fef93be20b4d" prefix=" " category="inline-code"></block>。</block>
  <block id="3e52a0855ea502bd31c48eb02424ee67" category="cell"><block ref="aaeab2a659f3d6ac5063b6d8a4e7c24a" prefix="" category="inline-code"></block></block>
  <block id="a17b61342a14dd24f10e7959b8c897e8" category="cell">允許為追蹤日誌記錄或日誌抑制啟用特定的Trident工作流程。</block>
  <block id="66468bda18a84578afccd8255efa1845" category="cell"><block ref="d5c1386f335f8df3cd920142f8ee23b7" prefix="" category="inline-code"></block></block>
  <block id="8a755d63b74fdfced1868a0b3e2d5162" category="cell">允許為追蹤日誌記錄或日誌抑制啟用特定的Trident層。</block>
  <block id="d31727faddcc7355e9e3bf46abdf8088" category="cell">允許完全覆蓋Trident的圖像。</block>
  <block id="a74941f6c96a1995cbfb438419467c32" category="cell"><block ref="fdd0820bbfc488d6a2ccba8ba0f74e73" prefix="" category="inline-code"></block></block>
  <block id="275360255393ae93a5ae2ff80a7ee5b6" category="cell">允許覆蓋Trident影像的標籤。</block>
  <block id="50c1c44df91bb9f35aaa04b0157d6136" category="cell"><block ref="60c65b849dbb837618645b7860aa608e" prefix="" category="inline-code"></block></block>
  <block id="74b30241e61b88d42e066d77a638a568" category="cell">允許覆蓋 Kubernetes 存活/就緒探測使用的預設連接埠。</block>
  <block id="baee061ae15e488356d9c958fd837562" category="cell">允許在 Windows 工作節點上安裝Trident 。</block>
  <block id="0a08ed3de9d17e8644d3e57dc374c3ea" category="cell">允許啟用強制分離功能。</block>
  <block id="632a46acdaa26f30f25b11d5c83eaa58" category="cell"><block ref="94ef2a130a825358ab3002442d6e5145" prefix="" category="inline-code"></block></block>
  <block id="ad77b466842808c8dce5116073a3e52b" category="cell">不建立操作員 pod 安全性原則。</block>
  <block id="6d893452bf49a70aa18938a81935210f" category="summary">您可以使用 Helm 部署Trident Operator 並安裝Trident 。此程序適用於Trident所需的容器鏡像未儲存在私人鏡像倉庫中的安裝情況。</block>
  <block id="2f74d18d1c9959832fc00b898fa2417e" category="doc">使用 Helm 部署Trident Operator（標準模式）</block>
  <block id="6852076d7b753ee3ea825ae4af1375ac" category="inline-link-macro">離線部署流程</block>
  <block id="c4a180ac17652dd1cd170c28b376be9c" category="paragraph">您可以使用 Helm 部署Trident Operator 並安裝Trident 。此程序適用於Trident所需的容器鏡像未儲存在私人鏡像倉庫中的安裝情況。如果您確實擁有私有鏡像倉庫，請使用<block ref="95202a095b590d767c9926fd1850fb68" category="inline-link-macro-rx"></block>。</block>
  <block id="2f5480efe7a0a4b0cffbf110abec11c2" category="paragraph">使用Trident<block ref="cdacb2b0d49176a3c0d8cc9d693de833" category="inline-link-macro-rx"></block>您可以一步完成Trident運算子的部署和Trident 的安裝。</block>
  <block id="b34ad03c5088f36033c20b21d9aae4c2" category="list-text">使用<block ref="0562418e6d9a76d0dd22b2f186a2203d" prefix=" " category="inline-code"></block>並為您的部署指定一個名稱，如下例所示：<block ref="5c9befb508998ce21883733ce6ab129f" prefix=" " category="inline-code"></block>這是您正在安裝的Trident版本。</block>
  <block id="85e06bb6e03e71b7708d9d4b6f4967ea" category="cell">Pod 的附加節點選擇器。參考 <block ref="662636849823c896b8f86e3f7d6afa9b" category="inline-xref-macro-rx"></block> 了解詳情。</block>
  <block id="74f3be1a07b1f65cef69ac77defaff4b" category="cell">涵蓋 Kubernetes 對 Pod 的容忍度。參考 <block ref="662636849823c896b8f86e3f7d6afa9b" category="inline-xref-macro-rx"></block> 了解詳情。</block>
  <block id="f8d2c273db74b394820e68a59b18bfff" category="cell">覆寫大多數 Kubernetes API 操作的預設 30 秒逾時（如果非零，則以秒為單位）。</block>
  <block id="2911e600bbad981e24b3e2a2b3a03f82" category="cell"><block ref="cfcd208495d565ef66e7dff9f98764da" prefix="" category="inline-code"></block></block>
  <block id="99c0f28c38ebd0826265cfd120e75cce" category="cell">設定為<block ref="71d36c46e340ad9137b2691e267f5ecd" prefix=" " category="inline-code"></block>在 AKS 叢集上使用託管身分或雲端身分時。在 EKS 叢集上使用雲端身分時，請設定為「AWS」。</block>
  <block id="7552178c666688de472839ddf4b0f4d0" category="cell">在 AKS 叢集上使用雲端識別時，請設定為工作負載標識（「azure.workload.identity/client-id: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxx」）。在 EKS 叢集上使用雲端身分時，設定為 AWS IAM 角色（「'eks.amazonaws.com/role-arn: arn:aws:iam::123456:role/trident-role'」）。</block>
  <block id="50f9796c3e95f29464ed077bb59ca6a5" category="cell"><block ref="a1edaea62dbed344534369e9668223b1" prefix="" category="inline-code"></block></block>
  <block id="d3ee0f95ea35db45a8c5d2deb96b4eb9" category="cell">呼叫 iSCSI 自癒功能的時間間隔。</block>
  <block id="d2393ee8411e83742fc73a79660d81ba" category="cell"><block ref="48899b1fc217fef67f8c9c11d2af0800" prefix="" category="inline-code"></block></block>
  <block id="5368476cef8604c12ee3f8a741319473" category="cell"><block ref="85fc372a514da766ce84a222668f8e62" prefix="" category="inline-code"></block></block>
  <block id="a5c601ef1c412054e22a761067edb9da" category="cell">iSCSI 自癒功能會在一段時間後嘗試透過登出和重新登入來解決過期的會話。</block>
  <block id="e1bd8a641f8c3114c2698aa76942b621" category="cell"><block ref="4fe853d0c57c2a118a755c207068b052" prefix="" category="inline-code"></block></block>
  <block id="bf514a22294dc1e674b6fafac9463f62" category="cell">使Trident能夠準備 Kubernetes 叢集的節點，以使用指定的資料儲存協定管理磁碟區。*現在，<block ref="39eea648dab96b0ee6022dabb38bc420" prefix=" " category="inline-code"></block>是唯一支援的值。 *注意：從 OpenShift 4.19 開始，此功能支援的最低Trident版本為 25.06.1。</block>
  <block id="a4ae088aa8dbc2e97f85135b007cce76" category="summary">您可以手動部署Trident操作員來安裝Trident。此程序適用於Trident所需的容器映像存放在私人鏡像倉庫中的安裝情況。</block>
  <block id="44e21d73aa8bd7200fceac6671723524" category="doc">手動部署Trident操作員（離線模式）</block>
  <block id="c54f3e7a1c4cb645b1fc4f0f7a583ac6" category="paragraph">您可以手動部署Trident操作員來安裝Trident。此程序適用於Trident所需的容器映像存放在私人鏡像倉庫中的安裝情況。如果您沒有私有鏡像倉庫，請使用<block ref="0d70fdec6fbaf15c3c460970c31207c9" category="inline-link-macro-rx"></block>。</block>
  <block id="8ff1bc8a7ac69f081f871e9e2a8c0d0f" category="section-title">手動部署Trident操作員並安裝Trident</block>
  <block id="ea8cda06a0e70ad34c1b9ab1b7135105" category="inline-link-macro">支援的 Kubernetes 集群</block>
  <block id="bcc71769dd00af93bb067088094d9b0b" category="paragraph">登入 Linux 主機並驗證它是否正在管理一個正常工作的進程。<block ref="ac355729d1ddc95a290738ca862fed08" category="inline-link-macro-rx"></block>並且您擁有必要的權限。</block>
  <block id="e420b75ec3bc014e3f69c43b2383768b" category="admonition">使用 OpenShift 時，請<block ref="fb024832e51eb5f6da9113a745f1eb59" prefix=" " category="inline-code"></block>而不是<block ref="0f12ee5c9f1dd90158580f1c292b0d37" prefix=" " category="inline-code"></block>在以下所有範例中，請先以 *system:admin* 身分登錄，方法是執行下列命令。<block ref="924132b4cedac6927feecff33e0a8e17" prefix=" " category="inline-code"></block>或者<block ref="42c32f65d2d1c08a83fbc226da30a162" prefix=" " category="inline-code"></block>。</block>
  <block id="92e83bca2bb40324de35154f8c95083d" category="list-text">請驗證您的 Kubernetes 版本：</block>
  <block id="b17eef151a74252395aad7db4b148b57" category="list-text">驗證叢集管理員權限：</block>
  <block id="987c560d773c81bc59f0fa11370626f5" category="list-text">驗證您是否可以啟動使用 Docker Hub 映像的 pod，並透過 pod 網路存取您的儲存系統：</block>
  <block id="d868f4f0026c532dcfdb417dde3174c2" category="section-title">步驟 1：下載Trident安裝包</block>
  <block id="a1142049a82a11e90102d655bb7e234d" category="inline-link-macro">GitHub 上的 _Assets_ 部分</block>
  <block id="7a14ead6cd595f6aff8b701879a9f990" category="paragraph">Trident安裝套件包含部署Trident操作員和安裝Trident所需的一切。從下列位置下載並解壓縮最新版本的Trident安裝程序<block ref="6a7c34d1e7545bd3ab5abc336e61eb7f" category="inline-link-macro-rx"></block>。</block>
  <block id="e0755e6cf0a80c2d8535ac3b7eae0b4b" category="section-title">步驟 2：建立<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block>CRD</block>
  <block id="04bed90b9e7d65b6d7dd48211e0a9f6c" category="paragraph">創建<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block>自訂資源定義（CRD）。你將創建一個<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block>稍後會提供自訂資源。請使用適當的 CRD YAML 版本<block ref="91ff3926f7c7983bb4a56689f631e6c9" prefix=" " category="inline-code"></block>創建<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block>CRD：</block>
  <block id="ad9aaefb573cd08d43c2b039449b1f0e" category="section-title">步驟 3：更新操作員中的登錄位置</block>
  <block id="287d9354cd0e889ca3c170f1a20060ce" category="paragraph">在<block ref="02f3115b006f7541a477d52ea8c0f861" prefix=" " category="inline-code"></block>， 更新<block ref="ff1ea91c85a440ad216d6d8dafdb2b4a" prefix=" " category="inline-code"></block>反映您的影像註冊位置。你的<block ref="57de9a35aeedde82408b1e047030d221" category="inline-link-macro-rx"></block>CSI 映像檔可以位於同一個登錄檔或不同的登錄檔中，但所有 CSI 鏡像必須位於同一個登錄檔中。例如：</block>
  <block id="3ce13997cacbb7668e6636ffb21ba04a" category="list-text"><block ref="a5ad704b64900183c3e85fea9edad0f0" prefix="" category="inline-code"></block>如果您的所有圖片都位於同一個註冊表中。</block>
  <block id="b6e3b64ea99d65462c313d10936507a1" category="list-text"><block ref="f5f5dab4b39c35c32ac8846470b513ad" prefix="" category="inline-code"></block>如果您的Trident鏡像與 CSI 映像位於不同的登錄檔。</block>
  <block id="7a79f435dcaa0ca2322cde1d80c13868" category="section-title">步驟 4：部署Trident操作員</block>
  <block id="22471ed8a819a124f9ee9785680269ec" category="paragraph">Trident安裝程式提供了一個捆綁文件，可用於安裝操作符並建立關聯物件。該捆綁檔案提供了一種簡單的方法來部署操作員並使用預設配置安裝Trident 。</block>
  <block id="5e2619e85dc9af38c2b7180c37168571" category="list-text">對於運行 Kubernetes 1.24 的集群，請使用<block ref="bd2cc8575fe69c7f775292759380c838" prefix=" " category="inline-code"></block>。</block>
  <block id="e4941fda44f66f353885d1a37ca63e2b" category="list-text">對於運行 Kubernetes 1.25 或更高版本的集群，請使用<block ref="5a02ebff4889c2de0379a0fb10bed282" prefix=" " category="inline-code"></block>。</block>
  <block id="622bbef04f6f2121d92777cd7c59cc83" category="list-text">預設情況下， Trident安裝程式會將操作員部署在<block ref="47cb44be55a0dffa15dfc900a4c687be" prefix=" " category="inline-code"></block>命名空間。如果<block ref="47cb44be55a0dffa15dfc900a4c687be" prefix=" " category="inline-code"></block>命名空間不存在，請使用以下命令建立：</block>
  <block id="5bb66df6f3cd1e022e0cb84d5ef9e8e6" category="list-text">要將運算子部署到除命名空間之外的其他命名空間<block ref="47cb44be55a0dffa15dfc900a4c687be" prefix=" " category="inline-code"></block>命名空間，更新<block ref="8610cac3beb01fb0b43bc94c587a807d" prefix=" " category="inline-code"></block>，<block ref="a3df76a4fb69b2a5e9ec42d242e90ea3" prefix=" " category="inline-code"></block>和<block ref="9fa80de5781893b057ff1d535201893b" prefix=" " category="inline-code"></block>並使用以下命令生成您的捆綁文件<block ref="67b2cc1cd5b1570014463995fb2ada61" prefix=" " category="inline-code"></block>。</block>
  <block id="0b9fb37ad5573b24cf369ec73caffe42" category="list-text">創建<block ref="67b2cc1cd5b1570014463995fb2ada61" prefix=" " category="inline-code"></block>使用以下命令，其中 _&lt;bundle.yaml&gt;_ 為<block ref="bd2cc8575fe69c7f775292759380c838" prefix=" " category="inline-code"></block>或者<block ref="5a02ebff4889c2de0379a0fb10bed282" prefix=" " category="inline-code"></block>根據您的 Kubernetes 版本。</block>
  <block id="3d886aa354247002acbb6642625843d1" category="list-text">使用以下指令編譯捆綁包，其中 _&lt;bundle.yaml&gt;_ 為<block ref="bd2cc8575fe69c7f775292759380c838" prefix=" " category="inline-code"></block>或者<block ref="5a02ebff4889c2de0379a0fb10bed282" prefix=" " category="inline-code"></block>根據您的 Kubernetes 版本。</block>
  <block id="05cb480f9344b60f5eeaed25c5e230d1" category="list-text">建立資源並部署操作員：</block>
  <block id="806742cccf8380250ffb871d582a0a03" category="list-text">確認操作員、部署和副本集已建立。</block>
  <block id="a770ca95121cc795b602f9af6af024fb" category="admonition">Kubernetes 叢集中應該只有*一個*操作員實例。不要建立多個Trident操作員部署。</block>
  <block id="579b44412770c0d6b65bc3fd9bf7c61c" category="section-title">步驟 5：更新映像登錄位置<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block></block>
  <block id="d0ebde94f92d8c1bae0c6660a5847bba" category="paragraph">你的<block ref="57de9a35aeedde82408b1e047030d221" category="inline-link-macro-rx"></block>CSI 映像檔可以位於同一個登錄檔或不同的登錄檔中，但所有 CSI 映像必須位於同一個登錄檔中。更新<block ref="7b4b81fb05ca7f2a09fe73526ac95482" prefix=" " category="inline-code"></block>根據您的註冊表配置新增其他位置規範。</block>
  <block id="5295ac8fb520b71deb8a1b57857b2562" category="section-title">步驟 6：創建<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block>並安裝Trident</block>
  <block id="78f538d1739cfd8c70698ec72269da17" category="inline-link-macro">自訂您的Trident安裝</block>
  <block id="a0c08bc8d399eef3571153bb0ecb4a77" category="paragraph">現在您可以創建<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block>並安裝Trident。您也可以選擇進一步<block ref="af79c767b326b6188dbe7366c85a8007" category="inline-link-macro-rx"></block>使用屬性<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block>規格以下範例展示了Trident和 CSI 映像位於不同登錄檔的安裝。</block>
  <block id="9c0f95d6de9186b24cce94c1c19ad0bb" category="section-title">驗證安裝</block>
  <block id="f33407040f00668c9fe98aa95119654b" category="paragraph">有幾種方法可以驗證您的安裝情況。</block>
  <block id="1ee1b78e8a634a10be54657432d990c0" category="section-title">使用<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block>地位</block>
  <block id="59331c774767b9695025c001ca75a1f6" category="inline-link-macro">查看日誌</block>
  <block id="4b3e10870e70ff689f8c7d5c4470bb56" category="paragraph">現狀<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block>指示安裝是否成功，並顯示已安裝的Trident版本。安裝過程中，狀態<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block>變化來自<block ref="2763f33c904a183bd0ef06f9c4fb4403" prefix=" " category="inline-code"></block>到<block ref="98dd43dfae05b11befe1f140e0ec787a" prefix=" " category="inline-code"></block>。如果你觀察<block ref="d7c8c85bf79bbe1b7188497c32c3b0ca" prefix=" " category="inline-code"></block>狀態異常且操作員無法自行恢復，<block ref="b02c5b645df4a829ba2f9c98296d4b15" category="inline-link-macro-rx"></block> 。</block>
  <block id="ec53a8c4f07baed5d8825072c89799be" category="cell">地位</block>
  <block id="2763f33c904a183bd0ef06f9c4fb4403" category="cell">安裝</block>
  <block id="e4f485171dcf600d2f0b0e8332394897" category="cell">操作員正在使用此方法安裝Trident 。<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> CR。</block>
  <block id="98dd43dfae05b11befe1f140e0ec787a" category="cell">已安裝</block>
  <block id="55a64caca1122c8b2fd992a355c7750b" category="cell">Trident已成功安裝。</block>
  <block id="c2aaea4dacecce78b34302e41fcef75e" category="cell">解除安裝</block>
  <block id="cdef3688b4499bd3dbc552c9cf5defc3" category="cell">操作員正在卸載Trident，因為<block ref="f41a95848a012f4f1a6550ce79c588aa" prefix=" " category="inline-code"></block>。</block>
  <block id="b78846123fdd78d5ab62451b855194e3" category="cell">已解除安裝</block>
  <block id="e52593aaecb3b20362fa0081eea6a0f9" category="cell">Trident已卸載。</block>
  <block id="d7c8c85bf79bbe1b7188497c32c3b0ca" category="cell">失敗的</block>
  <block id="36be8fe129110882a2ec7138f4e363dd" category="cell">操作員無法安裝、修補、更新或解除安裝Trident；操作員將自動嘗試從此狀態復原。如果這種情況持續存在，則需要進行故障排除。</block>
  <block id="6909beea5b50605780e3411f879fe916" category="cell">正在更新</block>
  <block id="3201d58137fab497dea740d761a9733b" category="cell">操作員正在更新現有設備。</block>
  <block id="902b0d55fddef6f8d651fe1035b7d4bd" category="cell">錯誤</block>
  <block id="efaeca66375c8663b6d1d64f4886f267" category="cell">這<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block>未使用。已經存在了另一個。</block>
  <block id="474d9cf1b4e7f826154b0e1f35c59f5a" category="section-title">使用 pod 建立狀態</block>
  <block id="24947bdc3a3d6387b2550da2302d4470" category="paragraph">您可以透過查看已建立的 pod 的狀態來確認Trident安裝是否已完成：</block>
  <block id="8492a795a07bc459d58808ef0ab73c36" category="section-title">使用<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block></block>
  <block id="85390ca1f1fb456c5467114ab06d3089" category="paragraph">您可以使用<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>檢查已安裝的Trident版本。</block>
  <block id="9be65bfc0904c8b8e06776335df88c52" category="summary">您可以手動部署Trident操作員來安裝Trident。此程序適用於Trident所需的容器鏡像未儲存在私人鏡像倉庫中的安裝情況。</block>
  <block id="5d8f25140dde9344f1318b1319929306" category="doc">手動部署Trident操作員（標準模式）</block>
  <block id="e09b85e9dd23a53724a460d162828e91" category="paragraph">您可以手動部署Trident操作員來安裝Trident。此程序適用於Trident所需的容器鏡像未儲存在私人鏡像倉庫中的安裝情況。如果您確實擁有私有鏡像倉庫，請使用<block ref="3fd9bb28718715a2d036f0ab9d9239b8" category="inline-link-macro-rx"></block>。</block>
  <block id="953aeeea088f5f969f2eba121ae81f15" category="paragraph">在開始安裝之前，請登入 Linux 主機並驗證它是否正在管理一個正常運作的伺服器。<block ref="ac355729d1ddc95a290738ca862fed08" category="inline-link-macro-rx"></block>並且您擁有必要的權限。</block>
  <block id="ef2305a5dae85359e321280954448fc1" category="paragraph">創建<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block>自訂資源定義（CRD）。你將創建一個<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block>稍後會新增自訂資源。請使用適當的 CRD YAML 版本<block ref="91ff3926f7c7983bb4a56689f631e6c9" prefix=" " category="inline-code"></block>創建<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block>CRD。</block>
  <block id="7e1c8354fb2b2ecb65abfa6a63e08970" category="section-title">步驟 3：部署Trident操作員</block>
  <block id="c35c65e4cd4cef23559781ed63709eb0" category="section-title">步驟 4：創建<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block>並安裝Trident</block>
  <block id="c97e335d53c8d571c8e8f7464c884831" category="paragraph">現在您可以創建<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block>並安裝Trident。  （可選）<block ref="af79c767b326b6188dbe7366c85a8007" category="inline-link-macro-rx"></block>使用屬性<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block>規格</block>
  <block id="7904a6dadeabd7b725caf08c750b3d2e" category="summary">您可以使用以下方式安裝Trident<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block> 。此程序適用於Trident所需的容器映像存放在私有鏡像倉庫或非私人鏡像倉庫中的安裝。</block>
  <block id="3d289dfc040026f9fd5fd0d307821b6c" category="doc">使用 tridentctl 安裝</block>
  <block id="bbe2bfefd5797bb567e3da92f68ce8d1" category="inline-link-macro">自訂 tridentctl 部署</block>
  <block id="10ccc4c39e10c8cfa195e969ad74df78" category="paragraph">您可以使用以下方式安裝Trident<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block> 。此程序適用於Trident所需的容器映像存放在私有鏡像倉庫或非私人鏡像倉庫中的安裝。自訂您的<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>部署，請參閱<block ref="8e7a26c9800a78fa0b68fb2423ba3fb4" category="inline-link-macro-rx"></block>。</block>
  <block id="2122a8acb599837078e6b76436e892c4" category="list-text">Trident現已支援 Kubernetes 1.27。在升級 Kubernetes 之前先升級Trident 。</block>
  <block id="a44928a927e3a51b044bf23f54c5ecc1" category="section-title">使用以下方式安裝Trident<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block></block>
  <block id="380dea89244939b33f7066f0dfbafa8b" category="paragraph">Trident安裝程式套件會建立一個Trident pod，配置用於維護其狀態的 CRD 對象，並初始化 CSI sidecar 以執行諸如將磁碟區配置並附加到叢集主機之類的操作。從下列位置下載並解壓縮最新版本的Trident安裝程序<block ref="6a7c34d1e7545bd3ab5abc336e61eb7f" category="inline-link-macro-rx"></block>。請使用您選擇的Trident版本更新範例中的 _&lt;trident-installer-XX.XX.X.tar.gz&gt;_。</block>
  <block id="9937b0e906f4a701bfb0a7f52c8b7458" category="section-title">步驟 2：安裝Trident</block>
  <block id="aab75b58977502d2c2813069d908ad61" category="paragraph">執行下列指令在所需的命名空間中安裝Trident：<block ref="430bf77bee6c59d385d4194f84c21b16" prefix=" " category="inline-code"></block>命令。您可以新增其他參數來指定鏡像倉庫位置。</block>
  <block id="53c512e9599c71e1a585d636a5229820" category="open-title">標準模式</block>
  <block id="ca5380881d4e3b38f359d5d05acd6163" category="paragraph">您的安裝狀態應該類似這樣。</block>
  <block id="c5e8fc3926c956e64487a70aa036ec8c" category="paragraph">您可以使用 pod 建立狀態或 pod 建立狀態來驗證您的安裝。<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block> 。</block>
  <block id="5ba19178fb1b2111306714e923b35945" category="inline-link-macro">開啟調試模式</block>
  <block id="43e7d51a6323aabe7af3d192e157f5ed" category="admonition">如果安裝程式未能成功完成或<block ref="ce3abad3e11d6a43c5178e20a0c7d64b" prefix=" " category="inline-code"></block> <block ref="2903817a25b5de1e17a06122d71c5cf9" prefix="(" category="inline-code"></block>在 23.01 之前的版本）沒有 *Running* 狀態，表示平台未安裝。使用<block ref="9b017020b9d48d433ec90c548e6b5c70" prefix=" " category="inline-code"></block>到<block ref="82f062b46969132d4baf9d002395a676" category="inline-link-macro-rx"></block>並排查問題。</block>
  <block id="d01f9020330072ac03affe8ff09d74c1" category="paragraph">以下範例提供了使用Trident安裝的範例設定。<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block> 。</block>
  <block id="d5999fd61d148b96e54f154a54ffead5" category="example-title">Windows 節點</block>
  <block id="f19a63197b0bddc429409fc31e0f0028" category="paragraph">要讓Trident能夠在 Windows 節點上運作：</block>
  <block id="ecb7d1d46da3859c69f45b619ace746a" category="example-title">強制分離</block>
  <block id="c5b5b00ff1b3a892c8694ab932cbf9ca" category="paragraph">有關強制分離的更多信息，請參閱<block ref="63cac71755fb6ef1f1fea34cf4037121" category="inline-link-macro-rx"></block>。</block>
  <block id="efb39fa310a7096844b88691811796ed" category="example-title">啟用並發Trident控制器操作</block>
  <block id="e6bd8d0922b2f21a4aea7439cad54ba6" category="paragraph">為了實現並發的Trident控制器操作以提高吞吐量，請新增<block ref="663f61c1cf47f8a531c8d769e8bf59f4" prefix=" " category="inline-code"></block>安裝過程中可選擇此選項，如本範例所示。</block>
  <block id="16f386086a2ad7537b5e373f9c0c2d25" category="summary">您可以使用Trident運算子（手動或使用 Helm）安裝Trident ，或使用<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>。本主題提供重要訊息，幫助您選擇合適的安裝流程。</block>
  <block id="3673a00b7dc94dd4c41d2410acd2fd30" category="paragraph">為了確保Trident能夠安裝在各種不同的環境和組織中， NetApp提供了多種安裝選項。您可以使用Trident運算子（手動或使用 Helm）安裝Trident ，或使用<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>。本主題提供重要訊息，幫助您選擇合適的安裝流程。</block>
  <block id="ef911ad0da9f5477ca7ec7af0ba4181a" category="paragraph">無論採用何種安裝路徑，您都必須具備以下條件：</block>
  <block id="3f2851ece89063ca1615062ac2117a4e" category="list-text">對運行受支援版本的 Kubernetes 且已啟用功能要求的受支援 Kubernetes 叢集擁有完全權限。回顧<block ref="3675fd04b78685cacd6e23511ab11d10" category="inline-link-macro-rx"></block>了解詳情。</block>
  <block id="071d9becf308917b53d70c09e7da51b6" category="list-text">可存取受支援的NetApp儲存系統。</block>
  <block id="19eb712f406fc64109f96d9cf4055cb9" category="list-text">能夠從所有 Kubernetes 工作節點掛載磁碟區。</block>
  <block id="5f35b91e200cda68bf700d65b89c2c73" category="list-text">一台有 Linux 主機的<block ref="0f12ee5c9f1dd90158580f1c292b0d37" prefix=" " category="inline-code"></block>（或者<block ref="fb024832e51eb5f6da9113a745f1eb59" prefix=" " category="inline-code"></block>如果您使用的是 OpenShift，則需要安裝並設定 OpenShift 來管理您要使用的 Kubernetes 叢集。</block>
  <block id="f6f19569d16b2b36f137e3df3e315626" category="list-text">這<block ref="39e7fa5a13dbc25a4aa8c4b323cd657c" prefix=" " category="inline-code"></block>設定環境變數以指向您的 Kubernetes 叢集配置。</block>
  <block id="dd3de2609b612d76ef4c71b97b8d6100" category="inline-link">請依照以下步驟啟用 CLI 訪問</block>
  <block id="c585967fa32d82c5e3c24bd63926c6a0" category="list-text">如果您正在將 Kubernetes 與 Docker Enterprise 一起使用，<block ref="57562caf1c76e1a261b7e2f8c3d113f9" category="inline-link-rx"></block> 。</block>
  <block id="8ded34c5caad3971bb6d0a2b202d7b32" category="list-text">叢集必須支援特權工作負載。</block>
  <block id="4a052772dca278b7be31d54ca9f21831" category="inline-link-macro">基本概念</block>
  <block id="a0c3ccd8e55dd8a4f5f5ad3a5269e331" category="admonition">如果您還不熟悉…<block ref="13aad4b6f98e790ff55e578921fa5ede" category="inline-link-macro-rx"></block>現在正是做這件事的好時機。</block>
  <block id="a24b4ef46f44c1b54b99e62f49bef9af" category="section-title">選擇您的安裝方式</block>
  <block id="dcb987a2d08ee1a9198d1183b1a63a96" category="inline-link-macro">方法之間的轉換</block>
  <block id="e11c9248bc5d43c6663f67955adbc53b" category="paragraph">選擇適合您的安裝方式。您還應該考慮以下因素：<block ref="e6ce874bf5f421a383109cc222a74763" category="inline-link-macro-rx"></block>在做出決定之前。</block>
  <block id="bd1cc9ebdb33ed22a54815219f97af08" category="section-title">使用Trident運算符</block>
  <block id="b2ad529645b5bea51c4bcd516a5c5c8f" category="inline-link-macro">自訂您的Trident操作員部署</block>
  <block id="4561600b99ad801aedaa0ed3d3f3d7dd" category="paragraph">無論是手動部署還是使用 Helm， Trident operator 都是簡化安裝和動態管理Trident資源的絕佳方式。你甚至可以<block ref="5290e5312b651716bedf8a83ec5a6467" category="inline-link-macro-rx"></block>使用屬性<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block>自訂資源（CR）。</block>
  <block id="9d2c1d92b0ecb606394b40e3553d07d2" category="paragraph">使用Trident運算子的優點包括：</block>
  <block id="4c4c1456097b6c9eca1c708465c381be" category="example-title">&lt;strong&gt;建立Trident物件&lt;/strong&gt;</block>
  <block id="9bb09894435f05fa667865ab4c45ace7" category="paragraph">Trident運算子會自動為您的 Kubernetes 版本建立下列物件。</block>
  <block id="839be275cd4b0f32a2c3e0278ce6d568" category="list-text">操作員的服務帳戶</block>
  <block id="f330ead337ce41659c5526de118cdac3" category="list-text">叢集角色和叢集角色綁定到服務帳戶</block>
  <block id="02c7e9dd319d7284e2200c673387dfdc" category="list-text">專用 PodSecurityPolicy（適用於 Kubernetes 1.25 及更早版本）</block>
  <block id="dbbf8c6ec95775d28c3c6da1878bf8c3" category="list-text">操作員本身</block>
  <block id="7b0d9f7412b27b7678fe3c1e9ecd655d" category="example-title">資源問責制</block>
  <block id="fd326d5b24197ffa86d97a4a14cb4f74" category="paragraph">叢集範圍的Trident運算子管理與叢集層級的Trident安裝相關的資源。這樣可以減輕使用命名空間作用域的運算元維護群集作用域資源時可能出現的錯誤。這對於自我修復和修補至關重要。</block>
  <block id="504dabdcc3051fc4c1b7a92eb22fad82" category="example-title">&lt;strong&gt;自癒能力&lt;/strong&gt;</block>
  <block id="971121cd3f2006d8d765f6943be3667d" category="paragraph">操作員監控Trident安裝情況，並積極採取措施解決問題，例如部署被刪除或意外修改時。一個<block ref="6088362e783ede60a64ba91287dc58c1" prefix=" " category="inline-code"></block>建立一個與以下物件關聯的 pod：<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> CR 安裝了Trident系統。這樣可以確保叢集中只有一個Trident實例，並控制其設置，從而確保安裝是冪等的。當安裝進行變更時（例如，刪除部署或節點守護程式集），操作員會識別這些變更並逐一修復它們。</block>
  <block id="0bfe7abd2878a67d5ff26746df309f8c" category="example-title">&lt;strong&gt;輕鬆更新現有安裝&lt;/strong&gt;</block>
  <block id="cbbeebc91e4ea4f1960f7a74b5b14c23" category="paragraph">您可以使用操作符輕鬆更新現有部署。你只需要編輯<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block>CR 安裝進行更新。</block>
  <block id="2bd0a347fcdd1f32b2c47512a0f234b5" category="paragraph">例如，假設您需要啟用Trident來產生偵錯日誌。為此，請修補您的<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block>設定<block ref="8cddd364bfd0d68f21e3a9ba1123b849" prefix=" " category="inline-code"></block>到<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>：</block>
  <block id="33ab2c3f94452baf7f17dab03982edfb" category="paragraph">後<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block>更新完成後，操作員會處理更新並修補現有安裝。這可能會觸發建立新的 pod，以便相應地修改安裝。</block>
  <block id="ac0482b416d6b2d907db760f79e018a7" category="example-title">&lt;strong&gt;全新安裝&lt;/strong&gt;</block>
  <block id="fac5e433885256c138db519bfb7d9c8b" category="paragraph">叢集範圍的Trident運算子能夠乾淨俐落地移除叢集範圍的資源。使用者可以完全解除安裝Trident ，並輕鬆重新安裝。</block>
  <block id="f72ba1a3a498489a96fd8774bfa9ea9d" category="example-title">&lt;strong&gt;Kubernetes 自動升級處理&lt;/strong&gt;</block>
  <block id="2b926612abdd76af2a073b5894f76c21" category="paragraph">當叢集的 Kubernetes 版本升級到支援的版本時，操作員會自動更新現有的Trident安裝，並對其進行更改，以確保其符合 Kubernetes 版本的要求。</block>
  <block id="47a11daa7ba65ffd7ce5a63a596b662f" category="admonition">如果叢集升級到不支援的版本，操作員將阻止安裝Trident。如果Trident已隨 Operator 一起安裝，則會顯示警告，指示Trident安裝在不支援的 Kubernetes 版本上。</block>
  <block id="43e6c0a141c1737a96917c56c7e22a73" category="inline-link-macro">使用以下程式碼安裝：&lt;block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category='inline-code'/&gt;</block>
  <block id="c82b4b0fab3872638ac3c7cebf4e6354" category="paragraph">如果您有需要升級的現有部署，或者您希望高度客製化部署，則應考慮以下事項：<block ref="e214bf159dbaf6573cfe15f1373b92db" category="inline-link-macro-rx"></block> 。這是部署Trident的常規方法。</block>
  <block id="4c24a3b9facf2ea9fc7ed2ca52dab45d" category="inline-link-macro">自訂您的&lt;block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category='inline-code'/&gt; 安裝</block>
  <block id="2a756f07c39d09b80ec682e46071340c" category="paragraph">你可以<block ref="d16089dfa270d6679e80d43ec8b5c378" category="inline-link-macro-rx"></block>產生Trident資源的清單。這包括Trident在安裝過程中所建立的部署、守護程式集、服務帳戶和叢集角色。</block>
  <block id="726ba10e7d6fe535f2d9336e7321a0d0" category="admonition">從 22.04 版本開始，每次安裝Trident時將不再重新產生 AES 金鑰。透過此發布， Trident將安裝一個新的金鑰對象，該對象將在不同的安裝版本中持久存在。這意味著，<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block> 22.04 版本可以解除安裝先前版本的Trident，但更早的版本無法解除安裝 22.04 版本的安裝。選擇合適的安裝方法。</block>
  <block id="84721e18f913ae71c91ded91f5eb0ccc" category="section-title">選擇您的安裝模式</block>
  <block id="ecafb217c7f4e740b9f654a4f2d90d83" category="paragraph">根據貴組織所需的_安裝模式_（標準、離線或遠端）確定部署流程。</block>
  <block id="e0090e5eeb1da23a2924e8a8913a9bf8" category="open-title">標準安裝</block>
  <block id="551b274494ab1b09b1dc86a5a0c18783" category="paragraph">這是安裝Trident最簡單的方法，適用於大多數沒有網路限制的環境。標準安裝模式使用預設登錄來儲存所需的Trident。<block ref="0b505db73d92bac18356fa3feb3cf7e3" prefix="(" category="inline-code"></block> ）和 CSI<block ref="95d6355f896a633ab07c528c03b44c8e" prefix="(" category="inline-code"></block>圖片。</block>
  <block id="2c5f46571f2892ffdec449b4fe136e81" category="paragraph">使用標準模式時， Trident安裝程序：</block>
  <block id="ca02732ace7c24d10b82abb835861fa8" category="list-text">從網路取得容器影像</block>
  <block id="987eeee7473b18ea803953637bdfad2e" category="list-text">建立一個部署或節點守護程式集，該程式集會在 Kubernetes 叢集中所有符合條件的節點上啟動Trident Pod。</block>
  <block id="6c09f957f6dd5f1b3287dacfabe8711a" category="open-title">離線安裝</block>
  <block id="559e73031b36e6693dcd5724b5ec9488" category="paragraph">在與外界完全隔離或安全的位置，可能需要離線安裝模式。在這種情況下，您可以建立一個私有鏡像註冊表或兩個鏡像註冊表來儲存所需的Trident和 CSI 映像。</block>
  <block id="37f28a5a50507d5cf12665008632572f" category="admonition">無論你的登錄配置如何，CSI 鏡像都必須位於同一個登錄檔。</block>
  <block id="8e9a94c9655a1b4aac478f836ff8dde6" category="open-title">遠端安裝</block>
  <block id="3937570b6000a2f24b3066af230f4546" category="paragraph">以下是遠端安裝過程的概要：</block>
  <block id="c784203bd2d02288d50564d90224ed01" category="list-text">部署適當版本的<block ref="0f12ee5c9f1dd90158580f1c292b0d37" prefix=" " category="inline-code"></block>在您要部署Trident 的遠端電腦上。</block>
  <block id="02ed10abbc71334918b1acb54df6e3f3" category="list-text">從 Kubernetes 叢集複製設定檔並進行設置<block ref="39e7fa5a13dbc25a4aa8c4b323cd657c" prefix=" " category="inline-code"></block>遠端電腦上的環境變數。</block>
  <block id="da693b77cde91654c6296abe8f901988" category="list-text">發起<block ref="1513e62b9eb7bbfc46c1be1a91a2ab76" prefix=" " category="inline-code"></block>使用命令驗證您是否可以連線到所需的 Kubernetes 叢集。</block>
  <block id="df65ec31c6f96e95301e3c6ff8863335" category="list-text">使用標準安裝步驟，從遠端電腦完成部署。</block>
  <block id="8be61d7ba452354892142828445281d0" category="section-title">根據您的方法和模式選擇流程</block>
  <block id="667af34faf4c2e74b377bbe7608ca481" category="paragraph">做出決定後，選擇合適的流程。</block>
  <block id="4c3880bb027f159e801041b1021e88e8" category="cell">方法</block>
  <block id="f8a17e31b9d98082aa01aa0b41f63a01" category="cell">安裝方式</block>
  <block id="e633d636fff46ea0b0998da525b2fba2" category="cell">Trident操作員（手動）</block>
  <block id="8f923c676fa6a52b7729476fc0d5f245" category="paragraph"><block ref="8f923c676fa6a52b7729476fc0d5f245" category="inline-link-macro-rx"></block></block>
  <block id="d295bad40364c9511c0d7b6a18e9557b" category="paragraph"><block ref="d295bad40364c9511c0d7b6a18e9557b" category="inline-link-macro-rx"></block></block>
  <block id="b9267203f04d91a5fcda0041ad2b3b64" category="cell">Trident操作員（Helm）</block>
  <block id="c197c2a4864a9d7a8190b1988d1e5885" category="paragraph"><block ref="c197c2a4864a9d7a8190b1988d1e5885" category="inline-link-macro-rx"></block></block>
  <block id="8dc52e4e0ca84a69e954b9b7a21c2bfc" category="paragraph"><block ref="8dc52e4e0ca84a69e954b9b7a21c2bfc" category="inline-link-macro-rx"></block></block>
  <block id="0b9d702360fb60f9b8b477339ca03a7b" category="cell"><block ref="c67fd1b99934afa248dfeb285a9a4191" prefix="" category="inline-code"></block></block>
  <block id="be686de0390e44f3981b994e059dfcb7" category="inline-link-macro">標準安裝或離線安裝</block>
  <block id="9e244fc5020d1137289c0c34c2944ac4" category="paragraph"><block ref="9e244fc5020d1137289c0c34c2944ac4" category="inline-link-macro-rx"></block></block>
  <block id="dd341f866eaefb939dc86608773c909d" category="section-title">安裝方法之間的轉換</block>
  <block id="84dfae02381a00cf11d01c571e3e3e0f" category="paragraph">您可以自行決定更改安裝方法。在此之前，請考慮以下事項：</block>
  <block id="47bc0a3097919fdad65f139b6d69a9ff" category="list-text">安裝並解除安裝Trident時，請務必使用相同的方法。如果您已經部署了<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>你應該使用適當版本的<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>用於卸載Trident 的二進位檔案。同樣，如果您使用操作員進行部署，則應該編輯<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block>CR 和設定<block ref="f41a95848a012f4f1a6550ce79c588aa" prefix=" " category="inline-code"></block>卸載Trident。</block>
  <block id="e1c3faef9fedf771266b88670b01c96e" category="list-text">如果您有一個基於操作員的部署，想要將其移除並改用其他方式，請嘗試以下方法：<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>要部署Trident，您應該先進行編輯<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block>並設定<block ref="f41a95848a012f4f1a6550ce79c588aa" prefix=" " category="inline-code"></block>卸載Trident。然後刪除<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block>以及操作員部署。然後您可以使用以下方式進行安裝<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>。</block>
  <block id="44a97f581d6467983edc4e5900722f32" category="list-text">如果您有一個基於手動操作員的部署，並且想要使用基於 Helm 的Trident操作員部署，則應先手動卸載操作員，然後執行 Helm 安裝。這使得 Helm 能夠使用所需的標籤和註解來部署Trident運算子。如果不這樣做，基於 Helm 的Trident操作員部署將因標籤驗證錯誤和註解驗證錯誤而失敗。</block>
  <block id="96fa331785e435bbddfc7f404fa5ce84" category="list-text">如果你有一個<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>基於 Helm 的部署，您可以執行基於 Helm 或基於 Operator 的部署，而無需卸載Trident。</block>
  <block id="25c11af81bf0b01ce7b0f24ddc9f7136" category="section-title">其他已知配置選項</block>
  <block id="f2019abfb2d31501ffeb653190c776c7" category="paragraph">在 VMware Tanzu Portfolio 產品上安裝Trident ：</block>
  <block id="dbe38f4f0d856b41827e6e4531720a5e" category="list-text">這<block ref="4009da7ed740211f32d29441deab875e" prefix=" " category="inline-code"></block>應該將標誌設為 kubelet 目錄的位置。預設情況下，這是<block ref="a926643d94a7dbc3362b17c2ed8a3f12" prefix=" " category="inline-code"></block>。</block>
  <block id="4dc3529fbf05312075f0aa52f9c0908e" category="paragraph">使用下列方式指定 kubelet 位置<block ref="4009da7ed740211f32d29441deab875e" prefix=" " category="inline-code"></block>據悉，他曾為Trident Operator、Helm 等公司工作。<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>部署。</block>
  <block id="6935ea1d99a0c26f0e4cddb80f444849" category="summary">如果您使用 Red Hat OpenShift，則可以使用操作員安裝Trident 。</block>
  <block id="c282cc9924716a0ecdcc1864c8821950" category="doc">從Trident社群操作員切換到 O​​penShift 認證操作員</block>
  <block id="92da9bfce4b6635fcf5d3f3725accbbc" category="paragraph">若要從NetApp Community Trident Operator 切換到 Red Hat OpenShift Certified Trident Operator，您需要解除安裝社群版 Operator，然後使用 OperatorHub 安裝認證版 Operator。</block>
  <block id="cec1c482e499b4748371d5e19359dacd" category="inline-link-macro">為Trident安裝準備環境</block>
  <block id="9f965f02f635b760a84c43d43aba854f" category="paragraph">在開始安裝之前，<block ref="a24ee29cd883cbf52de58a68b0fed1a7" category="inline-link-macro-rx"></block> 。</block>
  <block id="82c3da1e712e572f424c3b7bf7dafcaf" category="section-title">卸載NetApp Trident社群操作員</block>
  <block id="ae76609b28371ddbc9f46be837040994" category="list-text">使用 OpenShift 控制台導航至 OperatorHub。</block>
  <block id="349838fb1d851d3e2014b9fe39203275" category="image-alt">安裝</block>
  <block id="2d8d10c295f87a1f17d2f37a4df9688d" category="list-text">找到NetApp Trident社群操作員。</block>
  <block id="e1b3a07c6ba67335c1564ff539f1f885" category="admonition">不要選擇“從該運算符中刪除所有操作數實例”。</block>
  <block id="615da270425b5ecb4fe6ddeed9358880" category="list-text">點選“卸載”。</block>
  <block id="c7afcce8432c7e249a80e803d2a81180" category="section-title">安裝 OpenShift 認證的 Operator</block>
  <block id="6eaf33f9c2387a07f89fc20e19acffaa" category="list-text">導覽至 Red Hat OperatorHub。</block>
  <block id="cccebca328e4674a8888d5dc22f61e0d" category="list-text">搜尋並選擇NetApp Trident Operator。</block>
  <block id="9872de8cf3e5ac67cae81e5c17eaa5cc" category="list-text">請依照螢幕上的指示安裝操作員。</block>
  <block id="52b8ffce119fe77b28034f2fdd35eb5f" category="section-title">確認</block>
  <block id="ba8b537f098a607b7119fc78961300eb" category="list-text">在控制台中檢查 OperatorHub，以確保新認證的操作員已成功安裝。</block>
  <block id="838483eae18a7bca44c25a90dc7f55c3" category="doc">使用 OpenShift OperatorHub 安裝Trident</block>
  <block id="d569da5fb14cad502f71e232cdfcb4e4" category="paragraph">如果您使用 Red Hat OpenShift，則可以使用 Red Hat 認證的操作員安裝NetApp Trident 。使用下列步驟從 Red Hat OpenShift 容器平台安裝Trident 。</block>
  <block id="516a493e6df274ac5512ffaab7234ebf" category="section-title">找到並安裝Trident操作符</block>
  <block id="7a200e69eab0d67b215ea6e3c6081797" category="list-text">導航至 OpenShift OperatorHub 並搜尋NetApp Trident。</block>
  <block id="70fec01f1a76dbea74bd12ad8fb20151" category="list-text">點選* NetApp Trident* 開啟安裝設定。</block>
  <block id="1ad8c45e73d79fb1d5606c962d0f3cda" category="list-text">選擇所需的選項，然後按一下「*安裝*」以開啟操作員配置。</block>
  <block id="3bcd8afe0d2e66ac8ee08b64d8ab5aa9" category="admonition">請確保選擇最新的 Operator 版本。</block>
  <block id="e1834934410991eaa116cd9cffd2e554" category="list-text">保留所有參數，然後按一下“*安裝*”。</block>
  <block id="a1e30a9991b9e8abb01ef39a2da53ae9" category="paragraph">安裝完成後，Operator 將顯示在已安裝的 Operator 清單中並可供使用。</block>
  <block id="8b29df4adf6fbbaec0828beed4564d1b" category="list-text">按一下「查看操作員」以查看操作員的詳細資料。</block>
  <block id="7c7ed74fe0c2134a4029358fd7840eaa" category="list-text">在 * Trident Orchestrator* 下，按一下 *建立實例*。</block>
  <block id="7b61a3bcc8bbd41470bf0de7fcfd839e" category="list-text">按一下「YAML 檢視」並將以下內容貼上到表單中：</block>
  <block id="9152cfa618e086866a5af7caaed0d2bd" category="list-text">Red Hat Enterprise Linux CoreOS (RHCOS) 未啟用和設定 iSCSI。</block>
  <block id="5df2f935f2bc3df2c6378f665b3d6659" category="list-text">您可以新增<block ref="e9a7558decb5e432d8b7c4d536cc9876" prefix=" " category="inline-code"></block>用於設定和啟用所有 OpenShift 工作節點上的 iSCSI 和 Multipath 服務的參數。</block>
  <block id="f61306bfa8c6de676059739358d4479f" category="list-text">按一下「建立」； Trident Orchestrator 將會完全安裝。</block>
  <block id="7f95b6a9d45bd5ee11107a5abb5dd69c" category="section-title">卸載Trident操作員</block>
  <block id="9838ab5306db947832d94d1cd49a486a" category="list-text">從已安裝的運算元清單中選擇Trident運算子。</block>
  <block id="b5a7424a278ddd01fa4e381b58d1e00d" category="list-text">請選擇是否要從運算子中刪除所有操作數實例。</block>
  <block id="28ed84868f638999e59e306d6b87b07c" category="admonition">如果您沒有選取「從該運算子中刪除所有運算元實例」複選框，則不會卸載Trident 。</block>
  <block id="afe272beb780ad53d441c342bf1c8c77" category="summary">了解更多關於 tridentctl 的信息，這是一個命令列實用程序，可提供對Trident 的簡單訪問。</block>
  <block id="f13f0f6bb53cad2be972536943806066" category="doc">使用 tridentctl 管理Trident</block>
  <block id="7358b1fd077fa65f88fff87888fd2547" category="inline-link">Trident安裝包</block>
  <block id="aace960e27eac9490c7c162553e42f7f" category="paragraph">這<block ref="5a856e83aada9750fe5389f8da94335b" category="inline-link-rx"></block>包括<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>用於提供對Trident 的簡單存取的命令列實用程式。擁有足夠權限的 Kubernetes 使用者可以使用它來安裝Trident或管理包含Trident pod 的命名空間。</block>
  <block id="497769c5c03818fffe81b6190ec47c82" category="section-title">命令和全域標誌</block>
  <block id="66fa8a46aff90f5c8507c33a1cdc3e3f" category="paragraph">你可以運行<block ref="d7948c15bebd1e81a58fa7c99888c9c6" prefix=" " category="inline-code"></block>取得可用命令列表<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>或附加<block ref="0c113ca6d57519b559ba5a426be3c6b6" prefix=" " category="inline-code"></block>為任何指令新增標誌，即可取得該特定指令的選項和標誌清單。</block>
  <block id="ee4805b45f3a791791c675c82c73c1b6" category="paragraph"><block ref="081bcd7924bd528b9799fd1b1389158c" prefix="" category="inline-code"></block></block>
  <block id="be99e89b73ca0fc3198af4f4649e5134" category="paragraph">Trident<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>該實用程式支援以下命令和全域標誌。</block>
  <block id="c441ee50c88f6e5e3a7c69fc69dad8b8" category="example-title">命令</block>
  <block id="e49cf31f5ed35f0eb694c7714e8c3234" category="list-text"><block ref="76ea0bebb3c22822b4f0dd9c9fd021c5" prefix="" category="inline-code"></block></block>
  <block id="a0ac16c3fbcfa888fa59e67b5463167b" category="list-text">為Trident新增資源。</block>
  <block id="3649b15e31d22a1e2210f014d843b9fa" category="list-text"><block ref="099af53f601532dbd31e0ea99ffdeb64" prefix="" category="inline-code"></block></block>
  <block id="2f9b5be603774ecb9636b484d457359e" category="list-text">從Trident移除一個或多個資源。</block>
  <block id="a4027ed0f56ae6ac2cbb7605a519932b" category="list-text"><block ref="b5eda0a74558a342cf659187f06f746f" prefix="" category="inline-code"></block></block>
  <block id="6635cd89ace7391965bccedd81e35cb6" category="list-text">從Trident獲取一項或多項資源。</block>
  <block id="c6a354ad100a80a11b5358549fa08956" category="list-text"><block ref="657f8b8da628ef83cf69101b6817150a" prefix="" category="inline-code"></block></block>
  <block id="b6886cb9d8320f0522485af2d7b5e732" category="list-text">關於任何命令的幫助。</block>
  <block id="7920cf9e1a990d156e390321c1d5efeb" category="list-text"><block ref="59b514174bffe4ae402b3d63aad79fe0" prefix="" category="inline-code"></block></block>
  <block id="926631c8cfb777fe0db4134e51613ead" category="list-text">列印一份Trident所需容器影像的表格。</block>
  <block id="99ff05be0d0e797b4814ab264d1555b7" category="list-text"><block ref="93473a7344419b15c4219cc2b6c64c6f" prefix="" category="inline-code"></block></block>
  <block id="bb596d4d22f7a33ee0d2a24060a763ec" category="list-text">將現有資源導入Trident。</block>
  <block id="cc27cfd3259c2299d8dece590d5f6985" category="list-text"><block ref="19ad89bc3e3c9d7ef68b89523eff1987" prefix="" category="inline-code"></block></block>
  <block id="27b4c36cae8d1c4fd515d289942c87cc" category="list-text">安裝Trident。</block>
  <block id="2acfb4ba14a6f33d7e82e8d1dda6542f" category="list-text"><block ref="2165e4fa5bddb65a31f6a0c495c2fa37" prefix="" category="inline-code"></block></block>
  <block id="257fa8c5a4a1749d97d717fe4e1215ea" category="list-text">列印Trident的日誌。</block>
  <block id="9ce837bc2492d4ed390bc5d1ea9d1437" category="list-text"><block ref="2541d938b0a58946090d7abdde0d3890" prefix="" category="inline-code"></block></block>
  <block id="2124524b5b56338967984edc522a8671" category="list-text">從Trident發送資源。</block>
  <block id="806cf5654c2458b177e5c7daa3c09f48" category="list-text">卸載Trident。</block>
  <block id="30cf71e674825d319eb0406032c1a80b" category="list-text"><block ref="3ac340832f29c11538fbe2d6f75e8bcc" prefix="" category="inline-code"></block></block>
  <block id="28c0034c10c257670255526657e62d93" category="list-text">在Trident中修改資源。</block>
  <block id="1f46b6519384cf9cc5d7893457ab6e9c" category="list-text"><block ref="2424c0d4857ddcc30f1aabda7294d84f" prefix="" category="inline-code"></block></block>
  <block id="92cde4054a93fe29af6357539b327494" category="list-text">暫時停止後端運轉。</block>
  <block id="238000b5c5df1cc446f5ba823c01807c" category="list-text"><block ref="ae26b3d8e556703291282149e3ae894f" prefix="" category="inline-code"></block></block>
  <block id="852e24eece7824454b8f5c79668a07bb" category="list-text">在Trident中升級資源。</block>
  <block id="70e5b412fc117fa7faec13d3e8be6421" category="list-text">列印Trident版本。</block>
  <block id="12d9bb0959755423ba2fc4a4d349ee90" category="example-title">全域標誌</block>
  <block id="a54f86a6d882e5b4c1560087bb3d23fe" category="list-text"><block ref="9b017020b9d48d433ec90c548e6b5c70" prefix="" category="inline-code"></block>，<block ref="b47e5fb843a641159b90a001a614119c" prefix=" " category="inline-code"></block></block>
  <block id="f984c283566ffcc330d2055e568c2bc4" category="list-text">調試輸出。</block>
  <block id="aa8575d70709b06761f70e7aa773dccd" category="list-text"><block ref="914071b8934b1d6035495f1ed02aa5fd" prefix="" category="inline-code"></block>，<block ref="0c113ca6d57519b559ba5a426be3c6b6" prefix=" " category="inline-code"></block></block>
  <block id="cbaa0d88e3069707dc20abca170c009e" category="list-text">幫助<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>。</block>
  <block id="301f920ee13f1cef29f1c14dacf94c4b" category="list-text"><block ref="ff2bddd61609f26dc3255408781890ad" prefix="" category="inline-code"></block>，<block ref="a4b374188b5bbba3f37deccc51421bd4" prefix=" " category="inline-code"></block></block>
  <block id="4927d7c110c03787d6a128bc5245a451" category="list-text">指定<block ref="39e7fa5a13dbc25a4aa8c4b323cd657c" prefix=" " category="inline-code"></block>本地運行命令或從一個 Kubernetes 叢集向另一個 Kubernetes 叢集運行命令的路徑。</block>
  <block id="9858b15df593f3960e8b74b5eb680bf0" category="admonition">或者，您可以匯出<block ref="39e7fa5a13dbc25a4aa8c4b323cd657c" prefix=" " category="inline-code"></block>變數指向特定的 Kubernetes 叢集並提出問題<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>向該集群發出命令。</block>
  <block id="6e25615e543a74d4a5ea9c21cda4b604" category="list-text"><block ref="9cefd96d40d0ee1256c8eff1def0312d" prefix="" category="inline-code"></block>，<block ref="3be3a69890f8609a06ed69c980bdf3ed" prefix=" " category="inline-code"></block></block>
  <block id="0680c12a98c31009064ca561bf02c7f8" category="list-text">Trident部署的命名空間。</block>
  <block id="e9fe902fae54aee02c0226a1cd4ef93e" category="list-text"><block ref="b2ed43620b7fff2689035f1e99c24ded" prefix="" category="inline-code"></block>，<block ref="fde021f6d95feede78ab3d390365d552" prefix=" " category="inline-code"></block></block>
  <block id="fc070ca332d823236f678c78abc58ee2" category="list-text">輸出格式。  json|yaml|name|wide|ps（預設）之一。</block>
  <block id="51b3c65bb68baeb2ef94eb128afdc270" category="list-text"><block ref="406381251d2d4637ebfac7f24cc49c6f" prefix="" category="inline-code"></block>，<block ref="b59778b847581570efb244355a6aa704" prefix=" " category="inline-code"></block></block>
  <block id="d56fa7a9770a5e6333220363051532ac" category="list-text">Trident REST介面的位址/連接埠。</block>
  <block id="433f174b6e54b889696b2efd4ef40dc6" category="admonition">Trident REST 介面可以設定為僅監聽和提供服務於 127.0.0.1（對於 IPv4）或 [::1]（對於 IPv6）。</block>
  <block id="1c36a7e67198ff73665408726652a4c3" category="section-title">命令選項和標誌</block>
  <block id="76ea0bebb3c22822b4f0dd9c9fd021c5" category="section-title">創造</block>
  <block id="592f5a846f45840ff17ae3fcbb5f2d26" category="paragraph">使用<block ref="76ea0bebb3c22822b4f0dd9c9fd021c5" prefix=" " category="inline-code"></block>向Trident新增資源的指令。</block>
  <block id="1183069eacde609c309c6652f2abbc57" category="paragraph"><block ref="4bf60056ad290949d881334e46fe9fc1" prefix="" category="inline-code"></block></block>
  <block id="dae8ace18bdcbcc6ae5aece263e14fe8" category="list-text">選項</block>
  <block id="71f8a14d1d2aabce6854ce9de9e4de40" category="list-text"><block ref="b43fdd98b1fd705ae4c3a10cf25aad8a" prefix="" category="inline-code"></block>為Trident添加後端。</block>
  <block id="099af53f601532dbd31e0ea99ffdeb64" category="section-title">刪除</block>
  <block id="03c6dd1ba84a83f2cd07f340b6806c09" category="paragraph">使用<block ref="099af53f601532dbd31e0ea99ffdeb64" prefix=" " category="inline-code"></block>從Trident移除一個或多個資源的指令。</block>
  <block id="28b6c04534d74299209efef5ba8ed0e0" category="paragraph"><block ref="f8e353bd7af0b2adee08bd2cfca86ee4" prefix="" category="inline-code"></block></block>
  <block id="21ee8d29d964bb9b13a0c41d9602ae94" category="list-text"><block ref="b43fdd98b1fd705ae4c3a10cf25aad8a" prefix="" category="inline-code"></block>從Trident刪除一個或多個儲存後端。<block ref="c322d3de29d2b0c5e2e011dad5e77df2" prefix=" " category="inline-code"></block>從Trident刪除一個或多個磁碟區快照。<block ref="0606cab8952ca875c43a0e15b35aab7c" prefix=" " category="inline-code"></block>從Trident刪除一個或多個儲存類別。<block ref="210ab9e731c9c36c2c38db15c28a8d1c" prefix=" " category="inline-code"></block>從Trident刪除一個或多個儲存磁碟區。</block>
  <block id="b5eda0a74558a342cf659187f06f746f" category="section-title">得到</block>
  <block id="e558124864c80bb4cb3afd12ca94d6a3" category="paragraph">使用<block ref="b5eda0a74558a342cf659187f06f746f" prefix=" " category="inline-code"></block>從Trident取得一個或多個資源的指令。</block>
  <block id="3880097e6e3ace364060bd1a3502034a" category="paragraph"><block ref="5af35d698576fbd6e910714628ae9a91" prefix="" category="inline-code"></block></block>
  <block id="d4f3a31079f902b3ab789d35c645a783" category="list-text"><block ref="b43fdd98b1fd705ae4c3a10cf25aad8a" prefix="" category="inline-code"></block>從Trident取得一個或多個儲存後端。<block ref="c322d3de29d2b0c5e2e011dad5e77df2" prefix=" " category="inline-code"></block>從Trident取得一個或多個快照。<block ref="0606cab8952ca875c43a0e15b35aab7c" prefix=" " category="inline-code"></block>從Trident取得一個或多個儲存類別。<block ref="210ab9e731c9c36c2c38db15c28a8d1c" prefix=" " category="inline-code"></block>從Trident取得一卷或多卷。</block>
  <block id="4ea7801f17a4e5485e8b050c052fb443" category="list-text">旗幟</block>
  <block id="fbb9ff314555260bd6ce75e7fefe007a" category="list-text"><block ref="914071b8934b1d6035495f1ed02aa5fd" prefix="" category="inline-code"></block>，<block ref="0c113ca6d57519b559ba5a426be3c6b6" prefix=" " category="inline-code"></block> ：有關卷的幫助。<block ref="e3bbbed29599d3e6e29ae22829ad7f13" prefix=" " category="inline-code"></block> ：將查詢限制在子來源磁碟區上。<block ref="aed2a4a749284f757648f1057abf44cd" prefix=" " category="inline-code"></block> ：將查詢限制在磁碟區的下級。</block>
  <block id="59b514174bffe4ae402b3d63aad79fe0" category="section-title">圖片</block>
  <block id="2d7cc984025c13a373fe75153203182f" category="paragraph">使用<block ref="59b514174bffe4ae402b3d63aad79fe0" prefix=" " category="inline-code"></block>用於列印Trident所需容器圖像表格的標誌。</block>
  <block id="15e57263073fbab8a5c17df2199514fa" category="paragraph"><block ref="1a4565f84c3ef7acc3e88c3af0bf4b12" prefix="" category="inline-code"></block></block>
  <block id="8373216d773ee6fe75393fa84e1e92c6" category="list-text"><block ref="914071b8934b1d6035495f1ed02aa5fd" prefix="" category="inline-code"></block>，<block ref="0c113ca6d57519b559ba5a426be3c6b6" prefix=" " category="inline-code"></block>圖片幫助。<block ref="47fa03ef5536c5573b137cec5adc2d39" prefix=" " category="inline-code"></block> ，<block ref="afb81ccdb6e6d78674d516ee32b89981" prefix=" " category="inline-code"></block> Kubernetes 叢集的語意版本。</block>
  <block id="f6c534966bc7687e0c87134d025f8837" category="section-title">進口量</block>
  <block id="713e63397727c946dac8452e705917bd" category="paragraph">使用<block ref="f6c534966bc7687e0c87134d025f8837" prefix=" " category="inline-code"></block>將現有磁碟區導入Trident 的指令。</block>
  <block id="7627836f99f91110fe4d92a0cf45f490" category="paragraph"><block ref="9fe05f98df27b42476862d09511bd0d7" prefix="" category="inline-code"></block></block>
  <block id="9ab81f57823f6aeb02362291f23883e6" category="list-text">別名</block>
  <block id="501eadc7c3c034b710e1a4d2a417bbce" category="list-text"><block ref="210ab9e731c9c36c2c38db15c28a8d1c" prefix="" category="inline-code"></block>，<block ref="9e3669d19b675bd57058fd4664205d2a" prefix=" " category="inline-code"></block></block>
  <block id="346218c412dda8bcf2f8fc06030abee5" category="list-text"><block ref="5338b151154663bac9980b0f044518f2" prefix="" category="inline-code"></block>，<block ref="33781a1644c3eb60bb229660536cb79b" prefix=" " category="inline-code"></block> ：YAML 或 JSON PVC 檔案的路徑。<block ref="914071b8934b1d6035495f1ed02aa5fd" prefix=" " category="inline-code"></block> ，<block ref="0c113ca6d57519b559ba5a426be3c6b6" prefix=" " category="inline-code"></block> ：音量幫助。<block ref="e2b9359adf7cdd62fc784b5090c3c452" prefix=" " category="inline-code"></block>僅建立 PV/PVC。不要想當然地認為有銷量生命週期管理。</block>
  <block id="19ad89bc3e3c9d7ef68b89523eff1987" category="section-title">安裝</block>
  <block id="cc674f0e0cd8c84b97f0fa6a907c1a9c" category="paragraph">使用<block ref="19ad89bc3e3c9d7ef68b89523eff1987" prefix=" " category="inline-code"></block>安裝Trident 的標誌。</block>
  <block id="1adc393db1e6b77c875ecd4c669772ec" category="paragraph"><block ref="190ae106b0b18c5bb8b5f3bdc39dacb9" prefix="" category="inline-code"></block></block>
  <block id="a8e3858ca6cf43d168887f0054576cb6" category="list-text"><block ref="88e6af50844241df09da1b4f0fed0dc1" prefix="" category="inline-code"></block>：自動支援遙測的容器映像（預設為「netapp/trident autosupport:&lt;目前版本&gt;」）。<block ref="21e377b6d1724ef73707d1b42de99ab3" prefix=" " category="inline-code"></block>用於發送 Autosupport 遙測資料的代理位址/連接埠。<block ref="8ef3d4e948c6061ad15793e3bfd2660f" prefix=" " category="inline-code"></block>嘗試在節點上安裝所需的軟體包。<block ref="5de93c87952cd098700fb8d46daed4d6" prefix=" " category="inline-code"></block>無需安裝任何軟體即可產生 YAML 檔案。<block ref="914071b8934b1d6035495f1ed02aa5fd" prefix=" " category="inline-code"></block> ，<block ref="0c113ca6d57519b559ba5a426be3c6b6" prefix=" " category="inline-code"></block>安裝幫助。<block ref="a6bd80a942dd6d1c4d4b8aa4bd064415" prefix=" " category="inline-code"></block> ：覆蓋Trident控制器 REST API 的 HTTP 請求逾時時間（預設為 1 分 30 秒）。<block ref="22f97752ec243e2f8fb13a584ff48f0d" prefix=" " category="inline-code"></block> ：內部鏡像倉庫的位址/連接埠。<block ref="af58b91b0e366d67d75550c28c8b73bd" prefix=" " category="inline-code"></block> ：所有 Kubernetes 操作的逾時時間（預設 3 分鐘）。<block ref="931fef57514fa5bc71c5c9784dcb35b2" prefix=" " category="inline-code"></block> ：kubelet 內部狀態的主機位置（預設為「/var/lib/kubelet」）。<block ref="ad595b91ed4748510a60df1c00ce5bd6" prefix=" " category="inline-code"></block> Trident日誌格式（文字、JSON）（預設為「文字」）。<block ref="1606f6268af560ddbfffdd3790afb4d2" prefix=" " category="inline-code"></block> ：使Trident能夠準備 Kubernetes 叢集的節點，以使用指定的資料儲存協定來管理磁碟區。 *現在，<block ref="39eea648dab96b0ee6022dabb38bc420" prefix=" " category="inline-code"></block>是唯一支援的值。從 OpenShift 4.19 開始，此功能支援的最低Trident版本為 25.06.1.*<block ref="120a4fcacf73dd87df1de81c4d7a2526" prefix=" " category="inline-code"></block> ： Trident使用的舊版 PV 的名稱，確保它不存在（預設值為「trident」）。<block ref="12ea064968b15f51e1c1a7444fe9f227" prefix=" " category="inline-code"></block> ： Trident使用的舊版 PVC 的名稱，確保它不存在（預設值為「trident」）。<block ref="284e51f7c35ac8708577507873ff928e" prefix=" " category="inline-code"></block> ：不要自動向NetApp傳送自動支援包（預設為 true）。<block ref="61bce13717a9d6da0266dbc3e2b1e642" prefix=" " category="inline-code"></block>安裝過程中會停用大部分輸出。<block ref="356c2fa7142c3aee4cd6204d96ea0890" prefix=" " category="inline-code"></block>要安裝的Trident鏡像。<block ref="8a3f78e98fdbc7da7e036e7ae4598a23" prefix=" " category="inline-code"></block> Kubernetes API 請求的每秒查詢數 (QPS) 限制（預設為 100；可選）。<block ref="8026926641b283123174e50f80da83de" prefix=" " category="inline-code"></block>使用安裝目錄中已存在的任何 YAML 檔案。<block ref="4a4ef9f92e69acc000120379678aadcf" prefix=" " category="inline-code"></block> ：Trident 通訊使用 IPv6。</block>
  <block id="2165e4fa5bddb65a31f6a0c495c2fa37" category="section-title">紀錄</block>
  <block id="d26beba5397e2900bd10ac2f4114439a" category="paragraph">使用<block ref="2165e4fa5bddb65a31f6a0c495c2fa37" prefix=" " category="inline-code"></block>用於列印Trident日誌的標誌。</block>
  <block id="0fc4d21e21006115d42b2d6aa4451ffa" category="paragraph"><block ref="8815a52aa2be7be3d51559b2366dc8e1" prefix="" category="inline-code"></block></block>
  <block id="03b876ad5d685e21517c5c91d80aa1b7" category="list-text"><block ref="37caf0ee262229a9ddc60877eec6883f" prefix="" category="inline-code"></block>，<block ref="33a12b543204974f74acd94de699324e" prefix=" " category="inline-code"></block>除非另有規定，否則請建立包含所有日誌的支援存檔。<block ref="914071b8934b1d6035495f1ed02aa5fd" prefix=" " category="inline-code"></block> ，<block ref="0c113ca6d57519b559ba5a426be3c6b6" prefix=" " category="inline-code"></block> ：日誌幫助。<block ref="269889131ee4793a82191b78a2eb60e3" prefix=" " category="inline-code"></block> ，<block ref="e1db966b8a9ad737de7da72be15dcfc3" prefix=" " category="inline-code"></block>要顯示的Trident日誌。  trident|auto|trident-operator|all（預設值「auto」）之一。<block ref="60cfbca684c147d47b652c83c9617370" prefix=" " category="inline-code"></block> ：要從中收集節點 pod 日誌的 Kubernetes 節點名稱。<block ref="b3868ba70a8f4cf55464dd9926381db1" prefix=" " category="inline-code"></block> ，<block ref="a29a0e1222e48537fee91cff87dcb786" prefix=" " category="inline-code"></block> ：取得先前容器實例的日誌（如果存在）。<block ref="2c82c1731bc7980f276a26037aa42ec1" prefix=" " category="inline-code"></block>取得邊車容器的日誌。</block>
  <block id="2541d938b0a58946090d7abdde0d3890" category="section-title">傳送</block>
  <block id="05ec773046cd39b8bc0f2d677bce0910" category="paragraph">使用<block ref="2541d938b0a58946090d7abdde0d3890" prefix=" " category="inline-code"></block>從Trident發送資源的指令。</block>
  <block id="6faa54b930cd3447550e2f6a2be621bb" category="paragraph"><block ref="c68774a474a551b5788d1c1e26d3dcd0" prefix="" category="inline-code"></block></block>
  <block id="48df24d35784c5df52ab82ba6f257549" category="list-text"><block ref="ee64de1ad50d8209e64ee58b23e27986" prefix="" category="inline-code"></block>將 Autosupport 歸檔檔案傳送給NetApp。</block>
  <block id="fe98497efedbe156ecc4b953aea77e07" category="section-title">解除安裝</block>
  <block id="18a643410fc45a102fb920f23c9c2836" category="paragraph">使用<block ref="fe98497efedbe156ecc4b953aea77e07" prefix=" " category="inline-code"></block>卸載Trident 的標誌。</block>
  <block id="bab5bdd673e8007bb1451ff83f2d7fbf" category="paragraph"><block ref="f74e9b644f442240b768be80cfac9840" prefix="" category="inline-code"></block></block>
  <block id="ba491d35780f4d2becc7847117f59c9d" category="list-text"><block ref="60072fc2fad0d30fc656850e04c7433f" prefix="" category="inline-code"></block>：卸載幫助。<block ref="61bce13717a9d6da0266dbc3e2b1e642" prefix=" " category="inline-code"></block>卸載過程中會停用大部分輸出。</block>
  <block id="3ac340832f29c11538fbe2d6f75e8bcc" category="section-title">更新</block>
  <block id="599e9ff51846ab1b00f04c11c114486b" category="paragraph">使用<block ref="3ac340832f29c11538fbe2d6f75e8bcc" prefix=" " category="inline-code"></block>在Trident中修改資源的指令。</block>
  <block id="8020758b80cef903a0b06e0083b2a43b" category="paragraph"><block ref="8894c4db9cf5d5ac9d439434e0994407" prefix="" category="inline-code"></block></block>
  <block id="0cf5883c2ee5ddae619d22db9c564f72" category="list-text"><block ref="b43fdd98b1fd705ae4c3a10cf25aad8a" prefix="" category="inline-code"></block>：在Trident中更新後端。</block>
  <block id="2424c0d4857ddcc30f1aabda7294d84f" category="section-title">更新後端狀態</block>
  <block id="26cdb30fb70d63515b796135d1481235" category="paragraph">使用<block ref="2424c0d4857ddcc30f1aabda7294d84f" prefix=" " category="inline-code"></block>暫停或恢復後端操作的命令。</block>
  <block id="a8692aa823f016402f6459f92e2c343c" category="paragraph"><block ref="1327c48297ec159839f95302f8885592" prefix="" category="inline-code"></block></block>
  <block id="60e3300406400d9ca307bbe9538cb66f" category="list-title">需要考慮的幾點</block>
  <block id="ce48e23c21c781fc1bd260f1c6bbd0e9" category="list-text">如果後端是使用 TridentBackendConfig (tbc) 建立的，則無法使用下列方式更新後端：<block ref="9c15d32711e9ef8c6f76deda35452e13" prefix=" " category="inline-code"></block>文件。</block>
  <block id="965425a47916235e6c935104c9e64bca" category="list-text">如果<block ref="aa531c83e844d5d66725984798da11b8" prefix=" " category="inline-code"></block>該值已在待辦事項清單中設置，無法使用以下方式修改：<block ref="ce232749b55d6999ffb5cc1feb6c69fe" prefix=" " category="inline-code"></block>命令。</block>
  <block id="5c7182b03561a92970bed5538e17d9c4" category="list-text">重新獲得設定能力<block ref="aa531c83e844d5d66725984798da11b8" prefix=" " category="inline-code"></block>通過 tridentctl，在通過 tbc 設定之後，<block ref="aa531c83e844d5d66725984798da11b8" prefix=" " category="inline-code"></block>必須從待辦事項清單中移除該欄位。這可以透過以下方式實現：<block ref="d8d9eaf9706e633cb1e715e88dfbe301" prefix=" " category="inline-code"></block>命令。之後<block ref="aa531c83e844d5d66725984798da11b8" prefix=" " category="inline-code"></block>欄位已移除，您可以使用<block ref="30ef4d8d0d0cb9218c8f70ca2b7ee7bc" prefix=" " category="inline-code"></block>更改命令<block ref="aa531c83e844d5d66725984798da11b8" prefix=" " category="inline-code"></block>後端。</block>
  <block id="6969443eb58685fd2ba47dd82c688dfb" category="list-text">使用<block ref="30ef4d8d0d0cb9218c8f70ca2b7ee7bc" prefix=" " category="inline-code"></block>改變<block ref="aa531c83e844d5d66725984798da11b8" prefix=" " category="inline-code"></block>。您也可以更新<block ref="aa531c83e844d5d66725984798da11b8" prefix=" " category="inline-code"></block>使用<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>或者<block ref="9c15d32711e9ef8c6f76deda35452e13" prefix=" " category="inline-code"></block>文件；這將觸發後端完全重新初始化，可能會很耗時。</block>
  <block id="0e43bd2bbbbfb114e0df26c0544f5608" category="list-text"><block ref="914071b8934b1d6035495f1ed02aa5fd" prefix="" category="inline-code"></block>，<block ref="0c113ca6d57519b559ba5a426be3c6b6" prefix=" " category="inline-code"></block> ：後端狀態幫助。<block ref="2be951e4c83b3373b0b76554fd93bb4a" prefix=" " category="inline-code"></block>設定為<block ref="735fda5d72b5c650f3f0435195a211bd" prefix=" " category="inline-code"></block>暫停後端操作。設定為<block ref="fea087517c26fadd409bd4b9dc642555" prefix=" " category="inline-code"></block>恢復後端操作。設定為<block ref="735fda5d72b5c650f3f0435195a211bd" prefix=" " category="inline-code"></block>：</block>
  <block id="b2b04010a7e4a8486d987f6e074cde45" category="list-text"><block ref="befb9ef08cd8fda4bc507ccd6a523a43" prefix="" category="inline-code"></block>和<block ref="301cd7c7419443b2c9c5d87f6865f0cb" prefix=" " category="inline-code"></block>暫停。</block>
  <block id="15ba7f861a25848aeb7a04303194c22a" category="list-text"><block ref="c76dd551d0df4615489f4840c234db4e" prefix="" category="inline-code"></block>，<block ref="4956c0b34c154301cbe111d75fb939f9" prefix=" " category="inline-code"></block> ，<block ref="37ca7faad054353aadc61e64e55b4dac" prefix=" " category="inline-code"></block> ，<block ref="9a288381ee12262ef127ccbaeb520730" prefix=" " category="inline-code"></block> ，<block ref="db66912e8bdff8f12b8b75883aeb66ef" prefix=" " category="inline-code"></block> ，<block ref="752d336f53e6d74a5e509dd00eb2a627" prefix=" " category="inline-code"></block> ，<block ref="871b40b0d12fe47d3ce4d2bbfa30ccc5" prefix=" " category="inline-code"></block> ，<block ref="4c7dd4b0f1074705d27d812563c98768" prefix=" " category="inline-code"></block> ，<block ref="70850d0d4fbd8b67815a4598d5655a4d" prefix=" " category="inline-code"></block> ，<block ref="c4e5752b58b7f7b1c92a5302a0940801" prefix=" " category="inline-code"></block> ，<block ref="7c976338db43771fa6048705880496ea" prefix=" " category="inline-code"></block>仍然可用。</block>
  <block id="4ba6a75e6aacbc3737630ba55916cd27" category="inline-link-macro">後端管理選項</block>
  <block id="bffb766af67c15f14cae35f03dd6f4a9" category="inline-link-macro">使用 kubectl 執行後端管理</block>
  <block id="6ca35db8eab6c30e03e715e99d3c1d11" category="paragraph">您也可以使用以下方式更新後端狀態<block ref="aa531c83e844d5d66725984798da11b8" prefix=" " category="inline-code"></block>後端設定檔中的字段<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>或者<block ref="9c15d32711e9ef8c6f76deda35452e13" prefix=" " category="inline-code"></block>。更多信息，請參閱<block ref="991ae6fba57a2359d4e338d48b85301c" category="inline-link-macro-rx"></block>和<block ref="d39ea29671737dc4c6f8b362e0ace309" category="inline-link-macro-rx"></block>。</block>
  <block id="c26fe677a830587ef1c141567a86c86a" category="paragraph">*例：*</block>
  <block id="0ecd11c1d7a287401d148a23bbd7a2f8" category="open-title">JSON</block>
  <block id="4c8c9b9d93d68dc932195b1aa0583910" category="paragraph">請依照以下步驟進行更新<block ref="aa531c83e844d5d66725984798da11b8" prefix=" " category="inline-code"></block>使用<block ref="9c15d32711e9ef8c6f76deda35452e13" prefix=" " category="inline-code"></block>文件：</block>
  <block id="13cf048f75b63ff6bd6513e6ceb81fe0" category="list-text">編輯<block ref="9c15d32711e9ef8c6f76deda35452e13" prefix=" " category="inline-code"></block>要包含的文件<block ref="aa531c83e844d5d66725984798da11b8" prefix=" " category="inline-code"></block>字段值設定為“已暫停”。</block>
  <block id="4011c398b0ff3b95197b4f4713f3216e" category="list-text">使用以下方式更新後端<block ref="defd1e55f93269ac9278afc086951ba8" prefix=" " category="inline-code"></block>命令和更新後的路徑<block ref="9c15d32711e9ef8c6f76deda35452e13" prefix=" " category="inline-code"></block>文件。</block>
  <block id="f05848de69e82db6963b7b9c5322a67f" category="paragraph">*例子*：<block ref="7aa76d5ff854a67029ba30d1a11e1e53" prefix=" " category="inline-code"></block></block>
  <block id="9463f87bbed1fcdacfb8d40e185ca2bc" category="open-title">YAML</block>
  <block id="a0c475f6592b0a660cc2db104d607b3f" category="paragraph">套用待辦事項後，您可以使用以下方法進行編輯：<block ref="cdf774783c0eec7f2639a3c0d70d29ff" prefix=" " category="inline-code"></block>命令。以下範例使用以下方式將後端狀態更新為掛起：<block ref="c7d1d8826ecea15bd2786371bbe65f70" prefix=" " category="inline-code"></block>選項：</block>
  <block id="2af72f100c356273d46284f6fd1dfc08" category="section-title">版本</block>
  <block id="ff5f39bc4c620c3b1ca6b0811177f14c" category="paragraph">使用<block ref="2af72f100c356273d46284f6fd1dfc08" prefix=" " category="inline-code"></block>標誌用於列印版本<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>以及正在運行的Trident服務。</block>
  <block id="4301e504ec5591a4c51fe93e446a7a35" category="paragraph"><block ref="dca46ba7b3ffeb9b51e10f54acbd826d" prefix="" category="inline-code"></block></block>
  <block id="e6e32acf4d56921ac92540101fe00fc9" category="list-text"><block ref="db0e9588c0d46e16e0aea5c50287a54f" prefix="" category="inline-code"></block>：僅限客戶端版本（無需伺服器）。<block ref="60072fc2fad0d30fc656850e04c7433f" prefix=" " category="inline-code"></block> ：版本幫助。</block>
  <block id="3bed2aa34d42c38e2a5593a67e2fe0c4" category="section-title">插件支援</block>
  <block id="424054df70ee64ca6c70f04f668acb1e" category="paragraph">Tridentctl 支援類似 kubectl 的插件。如果外掛程式二進位檔案名稱遵循「tridentctl-&lt;plugin&gt;」格式，且該二進位檔案位於 PATH 環境變數列出的資料夾中，則 Tridentctl 會偵測到該外掛程式。所有偵測到的外掛程式都列在 tridentctl 幫助的插件部分。您也可以透過在環境變數 TRIDENTCTL_PLUGIN_PATH 中指定插件資料夾來限制搜尋範圍（例如：<block ref="d8923b227a7eb64a54abbd6aa4ee0f6d" prefix=" " category="inline-code"></block> ）。如果使用該變量，tridenctl 將僅在指定的資料夾中搜尋。</block>
  <block id="deeb141b9b83e90418e171a1871e4c4c" category="summary">卸載Trident時，應使用與安裝Trident時相同的方法。如果升級後發現錯誤、依賴項問題或升級不成功或不完整，需要進行修復，則應卸載Trident並按照該版本的具體說明重新安裝早期版本。</block>
  <block id="c4b35352cbf7a52a9444a610687067f8" category="doc">解除安裝Trident</block>
  <block id="7fdff6d1496ee07f5530882ace839236" category="paragraph">卸載Trident時，應使用與安裝Trident時相同的方法。</block>
  <block id="bbe48fb854ea022537208eeeff822f91" category="list-title">關於此任務</block>
  <block id="e2f3eebc5fb0722c4ff76f470c4c3644" category="list-text">如果升級後出現錯誤、依賴項問題或升級失敗/不完整，需要修復，則應卸載Trident並按照相應的說明重新安裝早期版本。<block ref="e168bf6cc8da3b05fae6b22bcd12ba37" category="inline-link-macro-rx"></block> 。這是降級到早期版本的唯一推薦方法。</block>
  <block id="0a5e338ee1a9820e7a4a7d64f09e4a90" category="inline-link-macro">徹底移除Trident和CRDs</block>
  <block id="bfc34bbf9ae6407400b3d77e0e84543b" category="list-text">為了方便升級和重新安裝，解除安裝Trident不會刪除Trident建立的 CRD 或相關物件。如果您需要徹底刪除Trident及其所有數據，請參閱以下內容：<block ref="a2addcf593ef6071e49d2a678662f830" category="inline-link-macro-rx"></block> 。</block>
  <block id="39596b8f60148eb1bbb5294ed08b18e3" category="paragraph">如果您要停用 Kubernetes 集群，則必須先刪除所有使用Trident建立的磁碟區的應用程序，然後再卸載。這樣可以確保在 Kubernetes 節點上刪除 PVC 之前，PVC 會被取消發布。</block>
  <block id="298619534d23da6e9389fd113bb13495" category="section-title">確定原始安裝方法</block>
  <block id="17733a3e129c42343460715297e0ac17" category="paragraph">卸載Trident時，應使用與安裝 Trident 時相同的方法。解除安裝前，請確認您最初安裝Trident時所使用的版本。</block>
  <block id="7bd3bf704987c7c25848acd94f0e499d" category="list-text">使用<block ref="8dd3e3fab389d3d56b4dbea697d52e91" prefix=" " category="inline-code"></block>檢查豆莢。</block>
  <block id="289484202abcb58bc03e41c81caae5ac" category="list-text">如果沒有操作員艙，Trident是透過以下方式安裝的：<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block> 。</block>
  <block id="ec1716523baff70aa24080e64d8b4b12" category="list-text">如果存在 operator pod，則Trident是透過Trident operator 手動安裝的，或使用 Helm 安裝的。</block>
  <block id="5577c7ef32ae8572fa7be77d6824637e" category="list-text">如果有操作員艙，請使用<block ref="2bbaa285a4b0035313ee3178abf33313" prefix=" " category="inline-code"></block>確定Trident是否使用 Helm 安裝。</block>
  <block id="aa5d66e97bedb220b9ef74e7c17b9f61" category="list-text">如果有 Helm 標籤，表示Trident是使用 Helm 安裝的。</block>
  <block id="28de01ed4501d62f4c5b88fa6049543d" category="list-text">如果沒有 Helm 標籤，則表示Trident是使用Trident操作員手動安裝的。</block>
  <block id="426346b94737adca6c2d979d911464ef" category="section-title">卸載Trident操作員安裝程序</block>
  <block id="253ead25988bfe2dee06d2227693e39d" category="paragraph">您可以手動解除安裝 Trident Operator 安裝，也可以使用 Helm 解除安裝。</block>
  <block id="2985edaba812b8b31d08cc8513fee0a3" category="section-title">手動解除安裝</block>
  <block id="e2a7f7c4ad1f2b2220b05363feef82c8" category="paragraph">如果您使用操作員模式安裝了Trident ，則可以透過下列方法之一將其解除安裝：</block>
  <block id="6418f8ccde0bb975a1ad82cf1d5250c6" category="list-text">**編輯<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block>CR 並設定卸載標誌**：</block>
  <block id="30abd17d4913fab8af9d1efd63c15f9c" category="paragraph">當<block ref="fe98497efedbe156ecc4b953aea77e07" prefix=" " category="inline-code"></block>標誌位已設定為<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>Trident運算子會卸載Trident，但不會移除 TridentOrchestrator 本身。如果您想再次安裝Trident，則應該清理 TridentOrchestrator 並建立一個新的。</block>
  <block id="9f9bf29ad71be284c3ea7064648785b5" category="list-text">**刪除<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block>**：透過移除<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block>如果 CR 用於部署Trident，則指示操作員卸載Trident。操作員處理移除操作<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block>然後繼續移除Trident部署和守護程式集，並刪除安裝過程中建立的Trident pod。</block>
  <block id="55f6e2744208ccefe34f3e05ced2c988" category="section-title">解除安裝 Helm 安裝</block>
  <block id="ea75777d00ce93c49ed762f4f7dfada6" category="paragraph">如果您使用 Helm 安裝了Trident ，則可以使用以下命令卸載它：<block ref="547d17b0589ba1ba53549f8ddb830b62" prefix=" " category="inline-code"></block> 。</block>
  <block id="99dec4df69ba043a5eb3118e1e0b364e" category="section-title">解除安裝<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>安裝</block>
  <block id="b19a703b7895e9b3039fbad761b2c100" category="paragraph">使用<block ref="fe98497efedbe156ecc4b953aea77e07" prefix=" " category="inline-code"></block>命令<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>移除與Trident關聯的所有資源，但保留 CRD 及其相關物件：</block>
  <block id="6bfc286a12a4a343361f71fd9b7ccf62" category="summary">在使用Trident操作員升級Trident之前，您應該了解升級期間發生的背景處理程序。這包括對Trident控制器、控制器 Pod 和節點 Pod 以及節點 DaemonSet 的更改，以啟用滾動更新。</block>
  <block id="a81c3a8630da0b8548245caae368a3c2" category="doc">了解操作員升級工作流程</block>
  <block id="3d40f2a5a694e68fd88105fc4f5ee0d4" category="section-title">Trident操作員升級處理</block>
  <block id="74e51c48d68796e06830c062f5c955c1" category="inline-link-macro">使用Trident運算子的好處</block>
  <block id="99c73e527698ab76b32674b7e9dd4708" category="inline-link-macro">捲動更新</block>
  <block id="6bd585eb6409f22b8a1e247f4935c581" category="paragraph">眾多之一<block ref="1294f86abdf2591159d9dd04918b1092" category="inline-link-macro-rx"></block>安裝和升級Trident 的過程是自動處理Trident和 Kubernetes 對象，而不會中斷現有的已掛載磁碟區。這樣一來， Trident就能支援零停機時間的升級，或者說，<block ref="c0fb6b6f12bb8ae805a97690328ec023" category="inline-link-macro-rx"></block> 。具體來說， Trident運算子與 Kubernetes 叢集通訊以：</block>
  <block id="1a1508da73374db3dd227799f48fdf63" category="list-text">刪除並重新建立Trident Controller 部署和節點 DaemonSet。</block>
  <block id="88b9e59609789e4bf00d72c8be9dd376" category="list-text">將Trident Controller Pod 和Trident Node Pod 替換為新版本。</block>
  <block id="6d3156de6583a452ead75c70c186fcb8" category="list-text">如果某個節點沒有更新，並不妨礙其他節點的更新。</block>
  <block id="e232b75d1eb891caededece68ccba4bd" category="list-text">只有運行了Trident Node Pod 的節點才能掛載磁碟區。</block>
  <block id="f54758d5b91452d3103cc1017fa70d71" category="admonition">有關 Kubernetes 叢集上Trident架構的更多信息，請參閱：<block ref="2e4686c52a7aa47e7bc2aa3cfa953fbe" category="inline-link-macro-rx"></block> 。</block>
  <block id="672bc0defc3e808ff4066a5bb35984ff" category="section-title">操作員升級工作流程</block>
  <block id="09fca30aacc5af8d0afe600848776412" category="paragraph">當您使用Trident運算子啟動升級時：</block>
  <block id="de1c3bc7b6551ded8e26b3c59f25fd6a" category="list-text">Trident運算子：</block>
  <block id="a958e7fa65b27b4be8589d6d0de8d135" category="list-text">偵測目前安裝的Trident版本（版本 _n_）。</block>
  <block id="95c09f4a69ddcda8ea23efaa0892e31f" category="list-text">更新所有 Kubernetes 對象，包括 CRD、RBAC 和Trident SVC。</block>
  <block id="fa5496466c33ad47156dabe9b4b7a83d" category="list-text">刪除版本為 _n_ 的Trident Controller 部署。</block>
  <block id="de4c5e6acc990d98e3ed3412db367a33" category="list-text">建立版本 _n+1_ 的Trident Controller 部署。</block>
  <block id="55a86ba64e45e0262aa7012299b6e1a5" category="list-text">*Kubernetes* 為 _n+1_ 建立Trident Controller Pod。</block>
  <block id="9fcab903d35527e73aa8c9b8d55e4f02" category="list-text">刪除 _n_ 的Trident節點 DaemonSet。操作員不會等待節點 Pod 終止。</block>
  <block id="a532235f4c82e61844620f45083fb82c" category="list-text">為 _n+1_ 建立Trident節點守護程式集。</block>
  <block id="5075af00f3f40cf13822f5863cc71c39" category="list-text">*Kubernetes* 在未執行Trident Node Pod _n_ 的節點上建立Trident Node Pod。這樣可以確保一個節點上永遠不會有超過一個Trident Node Pod，無論版本如何。</block>
  <block id="0efdc02c2d9fa1fcf31ff85fec4ed8de" category="summary">您可以使用操作員輕鬆升級現有的Trident安裝。</block>
  <block id="9a98985a342ee2d7d213394e90d838a9" category="doc">使用Trident Operator 或 Helm 升級Trident安裝</block>
  <block id="d6b7a42c6c41b071d2c80b3e4c2a7edf" category="inline-link-macro">選擇升級方式</block>
  <block id="5430a6b8f98712c8210f8df2d906793a" category="paragraph">您可以使用Trident Operator 手動升級Trident ，也可以使用 Helm 進行升級。您可以從一個Trident Operator 安裝升級到另一個Trident Operator 安裝，或從一個 Trident Operator 安裝升級到另一個 Trident Operator 安裝。<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>安裝到Trident操作員版本。審查<block ref="5cffa5fbe758cc3901f0e33c78b29d1b" category="inline-link-macro-rx"></block>在升級Trident操作程序之前。</block>
  <block id="3ef75911ec16a9d0ba70cfd4e68dcb71" category="section-title">升級手動安裝</block>
  <block id="618fab30e005e12b783d70218c18af46" category="paragraph">您可以從叢集範圍的Trident操作員安裝升級到另一個叢集範圍的Trident操作員安裝。所有Trident版本都使用叢集範圍的運算元。</block>
  <block id="b0e74afe1fdeb605b5c47b501c43b71b" category="inline-link-macro">您已安裝的版本</block>
  <block id="18466b7fafaca62c9c0d2438889ca0c6" category="admonition">若要從使用命名空間作用域運算子安裝的Trident （版本 20.07 至 20.10）進行升級，請使用下列升級說明：<block ref="567dd1ff029f25a404a69ff1e3c8d83b" category="inline-link-macro-rx"></block>Trident。</block>
  <block id="eb7a4fa3d9aff7ec5b23abb8b82d516b" category="paragraph">Trident提供了一個捆綁文件，您可以使用該文件安裝 Operator 並為您的 Kubernetes 版本建立關聯物件。</block>
  <block id="bd2cc8575fe69c7f775292759380c838" category="inline-link-macro">bundle_pre_1_25.yaml</block>
  <block id="f27e6cf95381139bd9916c64f178d212" category="list-text">對於運行 Kubernetes 1.24 的集群，請使用<block ref="ccef28639b5a7d8b851d32c1ca719ce3" category="inline-link-macro-rx"></block>。</block>
  <block id="5a02ebff4889c2de0379a0fb10bed282" category="inline-link-macro">bundle_post_1_25.yaml</block>
  <block id="b9f6abf28d1518cdaae0ed7e29a5727e" category="list-text">對於運行 Kubernetes 1.25 或更高版本的集群，請使用<block ref="d1039b29d019902f70f499d65ede99cb" category="inline-link-macro-rx"></block>。</block>
  <block id="4e9ac50b8f51023570ef0b0a0a827912" category="inline-link-macro">支援的 Kubernetes 版本</block>
  <block id="053bfc722ec4b4805e32c307458f8ea5" category="paragraph">請確保您使用的是正在運行的 Kubernetes 叢集。<block ref="d502dc64864e79085bee32826e6fe213" category="inline-link-macro-rx"></block> 。</block>
  <block id="76e06d694db0c428e4d51e3354a7a4bd" category="list-text">請驗證您的Trident版本：</block>
  <block id="723dc7fd3bdd515b6046b390cb3bc388" category="list-text">更新<block ref="9fa80de5781893b057ff1d535201893b" prefix=" " category="inline-code"></block>，<block ref="244895464fd1d6c7ff5a2044c324c0fc" prefix=" " category="inline-code"></block> ， 和<block ref="36b3316c230e2ae6e23e806fff5277a2" prefix=" " category="inline-code"></block>使用要升級到的版本（例如 25.06）的登錄和映像路徑，以及正確的金鑰。</block>
  <block id="b162e08e74f97a30264a0b1a8c613b78" category="list-text">刪除用於安裝目前Trident實例的Trident操作員。例如，如果您從 25.02 升級，請執行以下命令：</block>
  <block id="bdae3121e140e5325fd05919c86dd97f" category="list-text">如果您使用自訂方式進行了初始安裝<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block>屬性，您可以編輯<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block>用於修改安裝參數的物件。這可能包括為離線模式指定鏡像Trident和 CSI 映像登錄、啟用偵錯日誌或指定映像拉取金鑰所做的變更。</block>
  <block id="31bb2a9401efa36d10c52fa5f70fb6bc" category="list-text">使用適用於您環境的正確 bundle.yaml 檔案安裝Trident ，其中 _&lt;bundle.yaml&gt;_ 是<block ref="bd2cc8575fe69c7f775292759380c838" prefix=" " category="inline-code"></block>或者<block ref="5a02ebff4889c2de0379a0fb10bed282" prefix=" " category="inline-code"></block>根據您的 Kubernetes 版本。例如，如果您正在安裝Trident 25.06.0，請執行下列命令：</block>
  <block id="6c352d855b7a2a90e6e0514063875d1a" category="list-text">編輯三叉戟項圈以包含圖像 25.06.0。</block>
  <block id="1863fa40be678d4efa33c952a5cba52e" category="paragraph">您可以升級Trident Helm 安裝。</block>
  <block id="b2095ed231848e69cbd92e44defb033b" category="admonition">當已安裝Trident 的Kubernetes 叢集從 1.24 版本升級到 1.25 或更高版本時，必須更新 values.yaml 檔案進行設定。<block ref="94ef2a130a825358ab3002442d6e5145" prefix=" " category="inline-code"></block>到<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>或添加<block ref="96d5d0b9a6e3e01b2ae2ed889f75d22e" prefix=" " category="inline-code"></block>到<block ref="cd01e1bae83933b9c59c914bc71332ac" prefix=" " category="inline-code"></block>升級叢集前需要執行此命令。</block>
  <block id="5198b91e39c3a2f369e2426e2732625e" category="paragraph">如果您已將 Kubernetes 叢集從 1.24 升級到 1.25，但未升級Trident helm，則 helm 升級將失敗。若要成功升級 Helm，請先執行以下步驟：</block>
  <block id="b85ec56f096c3a360d0efb02cd7a405c" category="list-text">從下列位置安裝 helm-mapkubeapis 插件<block ref="bd65bd6616cbc50afd763e93267c969a" category="inline-link-rx"></block>。</block>
  <block id="5f5d62e54c7f1681b8aca17a51dae491" category="list-text">在Trident安裝所在的命名空間中，對Trident版本執行一次試運行。這裡列出了需要清理的資源。</block>
  <block id="db65493922bad76f3135ea26ab9b5377" category="list-text">使用 Helm 執行完整運行以進行清理。</block>
  <block id="cdfb4a820b1c2fb971221fb06e0dcd22" category="inline-link-macro">使用 Helm 安裝了Trident 。</block>
  <block id="d180bc23594b2a81a598da69af7136af" category="list-text">如果你<block ref="538f4beb16c8502421a8389e199d34ce" category="inline-link-macro-rx"></block>你可以使用<block ref="9ba27131bd1269499334744b89769fac" prefix=" " category="inline-code"></block>一步即可升級。如果您沒有新增 Helm 倉庫或無法使用它進行升級：</block>
  <block id="51c9e4ca2440cc879a0ac3211d74b056" category="list-text">從此處下載最新版Trident<block ref="6a7c34d1e7545bd3ab5abc336e61eb7f" category="inline-link-macro-rx"></block> 。</block>
  <block id="19edaf19feadf74a38c5b3da24fd64bd" category="list-text">使用<block ref="cd01e1bae83933b9c59c914bc71332ac" prefix=" " category="inline-code"></block>其中命令<block ref="c49c0910ea156a14c49e617b509b605a" prefix=" " category="inline-code"></block>反映您想要升級到的版本。</block>
  <block id="34c5f2f84f16f23213713a6adc11c319" category="admonition">如果在初始安裝期間設定了自訂選項（例如，為Trident和 CSI 映像指定私人映像登錄），請附加以下內容：<block ref="cd01e1bae83933b9c59c914bc71332ac" prefix=" " category="inline-code"></block>命令使用<block ref="8b5806248570dbb13e7d3bc5e6c0ee37" prefix=" " category="inline-code"></block>確保將這些選項包含在升級命令中，否則這些值將重設為預設值。</block>
  <block id="3d0107bfa0874592e9dc04f9869b604b" category="list-text">跑步<block ref="cd4140d3de30b520500459331d08d2bf" prefix=" " category="inline-code"></block>確認圖表和應用程式版本均已升級。跑步<block ref="3e725291d4b17065fdcd321172fcfae3" prefix=" " category="inline-code"></block>查看所有調試資訊。</block>
  <block id="613909529798c8a2543da8e954e5d742" category="section-title">從<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>安裝到Trident操作員</block>
  <block id="9142b40107d9c5a0b86ef0ce8c25a88b" category="paragraph">您可以從下列位置升級到最新版本的Trident運算子：<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>安裝。現有的後端和PVC將自動可用。</block>
  <block id="733aa7fe5deef27d1cb0828cff0f17bd" category="admonition">在切換安裝方法之前，請先查看<block ref="d7d87809bc6e1001ccd94c7433d28fd5" category="inline-link-macro-rx"></block>。</block>
  <block id="6a40bcc839c7c4e3dc8f6767cbe14743" category="list-text">下載最新版的Trident 。</block>
  <block id="4ab464bddccdcbc36fab4cea802025f9" category="list-text">創建<block ref="de2dc323226e711fbec4c5c39eeac5b8" prefix=" " category="inline-code"></block>來自清單文件的 CRD。</block>
  <block id="71530aef1814290453dc7add3bdae349" category="list-text">在相同命名空間中部署叢集範圍的操作符。</block>
  <block id="3dddb901f6b5bd5d89988dafdfabdec3" category="list-text">創建一個<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block>安裝Trident的 CR。</block>
  <block id="8d23be098d49e797284393a4c1479c53" category="list-text">確認Trident已升級至預期版本。</block>
  <block id="64913c0fb81e4c0c481a4fc1fac61cdd" category="summary">Trident遵循四個月的發布節奏，每年發布三個主要版本。每個新版本都是在前一個版本的基礎上開發的，提供新功能和效能增強，以及錯誤修復和改進。我們鼓勵您至少每年升級一次，以充分利用Trident的新功能。</block>
  <block id="77e55df8a70448ed424b5f523364ffc2" category="paragraph">從 24.02 版本開始， Trident遵循四個月的發布節奏，每年發布三個主要版本。每個新版本都以先前的版本為基礎，並提供新功能、效能增強、錯誤修復和改進。我們建議您至少每年升級一次，以充分利用Trident的新功能。</block>
  <block id="ee656aff7dc78e280efdea39a682afbb" category="section-title">升級前的注意事項</block>
  <block id="2189850878cb079b3d2ec0126cc0c42a" category="paragraph">升級至最新版Trident時，請注意以下事項：</block>
  <block id="c0f69f3a3b098007f278b27ffb9915ac" category="list-text">在給定的 Kubernetes 叢集的所有命名空間中，應該只安裝一個Trident實例。</block>
  <block id="a34f035fd1be1d24760b20dd8fa547ea" category="list-text">Trident 23.07 及更高版本需要 v1 卷快照，不再支援 alpha 或 beta 快照。</block>
  <block id="34c1edfb4ac8581528c3791be680aeb3" category="inline-link-macro">CVS 服務類型</block>
  <block id="5797c3891863b81173e1bb10d6488a72" category="inline-link-macro">CVS 服務類型範例</block>
  <block id="df1a9174fcb3edd8d76379e2ce3131fc" category="list-text">如果您在 Google Cloud 中建立了Cloud Volumes Service，<block ref="14d2f65ad36632a8ebf2878592ce4877" category="inline-link-macro-rx"></block>您必須更新後端配置才能使用<block ref="317ec56a799e879712bbd2d0fcbd3b93" prefix=" " category="inline-code"></block>或者<block ref="75b65576cc4a19f0836b73610ad5957a" prefix=" " category="inline-code"></block>從Trident 23.01 升級時的服務等級。未能更新<block ref="f1d0ae63f2e948a9e43dcc60303d595d" prefix=" " category="inline-code"></block>後端故障可能導致磁碟區故障。參考 <block ref="83a0df2fb9a604879fdb2fab6c5f77c1" category="inline-link-macro-rx"></block> 了解詳情。</block>
  <block id="355ecbb7c8a4a9a1ef360cb6b2697d0c" category="list-text">升級時，請務必提供以下信息<block ref="f6e7f85d8aee15940665bf722f7afac2" prefix=" " category="inline-code"></block>在<block ref="f652904c3bfb48fb25a0a75f485f0ff6" prefix=" " category="inline-code"></block>由Trident使用。您可以刪除並重新創建<block ref="f652904c3bfb48fb25a0a75f485f0ff6" prefix=" " category="inline-code"></block>在不影響原有流量的情況下。</block>
  <block id="33966eba1ed0cde6afda5a97ffaffb09" category="inline-link">安全情境</block>
  <block id="326aae224b3bbcf4b9eb8fc0a262fc24" category="list-text">這是強制執行的**要求**<block ref="cafe4c6014d8c45aaac70e49318f1a2a" category="inline-link-rx"></block>適用於 SAN 卷。</block>
  <block id="6429305365094c29848a93a6d17a7f53" category="list-text">https://github.com/NetApp/trident/tree/master/trident-installer/sample-input [範例輸入^] 目錄包含範例，例如https://github.com/NetApp/trident/blob/master/trident-installer/sample-input/storage-class-samples/storage-class-basic.yaml.templ<block ref="9abb8c7777ddb413820ee07d5d93aa4a" prefix="[" category="inline-code"></block> ^] 與連結： https://github.com/NetApp/trident/blob/master/trident-installer/sample-input/storage-class-samples/storage-class-bronze-default.yaml<block ref="69ae2d9a6d831af7488e53fec053b77e" prefix="[" category="inline-code"></block> ^]。</block>
  <block id="948c2cbef9ba6f931735e6eef2d86eba" category="list-text">更多信息，請參閱<block ref="04cf7258a315ca08f4b436c194fef69d" category="inline-link-macro-rx"></block>。</block>
  <block id="87459c33b1692755deb4b22c7eaa864c" category="section-title">步驟 1：選擇版本</block>
  <block id="a307a5edde0e4eeeb35bb77f0a1f1cc7" category="paragraph">Trident 的版本遵循基於日期的命名規則。<block ref="fb6921a005d395f9482cdac0306d4935" prefix=" " category="inline-code"></block>命名規則中，「YY」是年份的最後兩位數字，「MM」是月份。 Dot 版本遵循<block ref="d93ec759c4a0e8c1cf9c7653b2939656" prefix=" " category="inline-code"></block>按照慣例，其中“X”是補丁等級。您需要根據目前版本選擇要升級到的版本。</block>
  <block id="843e8c92f2887fa83e4564f86e6a7ca0" category="list-text">您可以直接升級到與已安裝版本相差不超過四個版本視窗內的任何目標版本。例如，您可以直接從 24.06（或任何 24.06 的小版本）升級到 25.06。</block>
  <block id="2251733916a92fc0c61d943165128928" category="inline-link-macro">早期版本</block>
  <block id="d4ea8129c0158e8c6ac0b3bb00a333e5" category="list-text">如果您要從四個版本視窗以外的版本升級，請執行多步驟升級。請依照升級說明進行操作。<block ref="a799aa6eaf3a5192b34ea19f24bb716f" category="inline-link-macro-rx"></block>您正在從目前版本升級到符合四版本發布視窗的最新版本。例如，如果您目前運行的是 23.07 版本，並且想要升級到 25.06 版本：</block>
  <block id="96643a0b653f3484db440bd905d8e591" category="list-text">首次升級從 23.07 升級到 24.06。</block>
  <block id="0d5f6bd4062e1e564fa83bfc5eb6a64c" category="list-text">然後從 24.06 升級到 25.06。</block>
  <block id="199ed8c975e8bb544d18428ba17adbc3" category="inline-link">GitHub 上的問題詳情</block>
  <block id="1eb921add61b9e1c5fcaf8272bb52ec6" category="admonition">在 OpenShift 容器平台上使用Trident運算子進行升級時，應升級至Trident 21.01.1 或更高版本。隨 21.01.0 版本發布的Trident操作符存在一個已知問題，該問題已在 21.01.1 版本中修復。更多詳情請參閱…<block ref="bcebcdd21adcbb3d7c640d63a711c6fb" category="inline-link-rx"></block> 。</block>
  <block id="6d2d3a9fb621ba23b0f8ec56dc8b0a24" category="section-title">步驟二：確定原始安裝方法</block>
  <block id="25005cf84eec08f8f6a673dd193efa30" category="paragraph">若要確定您最初安裝Trident時所使用的版本：</block>
  <block id="f83034df0569133b2bce8e38446dfa7d" category="list-text">如果有操作員艙，請使用<block ref="9ce56b0c50ae80fe754522969b1c96b9" prefix=" " category="inline-code"></block>確定Trident是否使用 Helm 安裝。</block>
  <block id="dccfb2ce978b2c73d6a7308a124d0043" category="section-title">步驟 3：選擇升級方式</block>
  <block id="74652b96889938fdef1037f82abf39b0" category="inline-link-macro">安裝方法之間的轉換</block>
  <block id="831878da1887476c96f4d3663eb93345" category="paragraph">通常情況下，您應該使用與初始安裝相同的方法進行升級，但是您也可以…<block ref="e34c010032791417159012a5e31d7540" category="inline-link-macro-rx"></block> 。升級Trident有兩種選擇。</block>
  <block id="441b9a0ce7113f17c0021f9922b1c865" category="inline-link-macro">使用Trident操作員進行升級</block>
  <block id="672218727121432fb7209f42c6a00514" category="list-text"><block ref="672218727121432fb7209f42c6a00514" category="inline-link-macro-rx"></block></block>
  <block id="14d76a1fc05dcace5308e48b3d9bad49" category="admonition">我們建議您查看<block ref="4185c20447fb5f0bb4f33698bfd20d27" category="inline-link-macro-rx"></block>在與運營商升級之前。</block>
  <block id="a18aa1b83c1605570c9c2911c5180a7b" category="inline-link-macro">使用以下程式碼進行升級：&lt;block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category='inline-code'/&gt;</block>
  <block id="3b2fa532fe7cebc94d245316f8af8ab4" category="list-text"><block ref="fd3f4a100d968c915adb11c8797ef5d2" category="inline-link-macro-rx"></block></block>
  <block id="0b788cf4288607cc017571ff06e7943e" category="summary">您可以使用以下方法輕鬆升級現有的Trident安裝：<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block> 。</block>
  <block id="2a21586f7990f8cb0f8951cd2ef7bc3b" category="doc">使用 tridentctl 進行升級</block>
  <block id="ffdcc81ea1b556d1898b6edeef92af9c" category="paragraph">您可以使用以下方法輕鬆升級現有的Trident安裝<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>。</block>
  <block id="f01c58ea1eebde50a8ce26c58daf4cce" category="paragraph">解除安裝並重新安裝Trident相當於升級。卸載Trident時， Trident部署使用的持久卷聲明 (PVC) 和持久卷 (PV) 不會被刪除。在Trident離線期間，已設定的 PV 仍將可用； Trident恢復線上後，將為在此期間建立的任何 PVC 設定磁碟區。</block>
  <block id="ab639a35db468f671d4a76735e801015" category="paragraph">審查<block ref="5cffa5fbe758cc3901f0e33c78b29d1b" category="inline-link-macro-rx"></block>升級前使用<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>。</block>
  <block id="7ad65028965606bad1c173b4f16cefeb" category="list-text">運行卸載命令<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>移除與Trident關聯的所有資源，但保留 CRD 和相關物件。</block>
  <block id="3777d5420fb2ef4c5e434cd5af97d73d" category="inline-link-macro">使用 tridentctl 安裝Trident</block>
  <block id="23d4814be45e57b94df46ce2ee2a19f6" category="list-text">重新安裝Trident。參考<block ref="6fa1b6e43e706a69762bd9a319950a21" category="inline-link-macro-rx"></block>。</block>
  <block id="1d2d1200e759d67b259f843be2270f71" category="admonition">請勿中斷升級過程。確保安裝程式運行完成。</block>
  <block id="579198c91fea423d4b79c97828ac3da4" category="summary">Trident Protect 讓您能夠使用Trident保護您的應用程式和應用程式資料。</block>
  <block id="a53f4cc048a3d0227206b8b6182e67dc" category="doc">了解Trident保護</block>
  <block id="6d8d3279a9b2226029d9af309058363b" category="paragraph">NetApp Trident Protect 提供進階應用程式資料管理功能，可增強由NetApp ONTAP儲存系統和NetApp Trident CSI 儲存設定器支援的有狀態 Kubernetes 應用程式的功能和可用性。Trident Protect 簡化了跨公有雲和本地環境的容器化工作負載的管理、保護和移動。它還透過其 API 和 CLI 提供自動化功能。</block>
  <block id="6a945469c2d9fdc27b0cb844d066c984" category="paragraph">您可以透過建立自訂資源 (CR) 或使用Trident Protect CLI 來使用Trident Protect 保護應用程式。</block>
  <block id="7e6f9558ca98ca29afd74d0bbb0b2bce" category="paragraph">在安裝Trident Protect 之前，您可以先了解其相關需求：</block>
  <block id="a0a1eb9fbd2b7284352e6b610999f841" category="inline-link-macro">Trident保護要求</block>
  <block id="8d806bd87636d4fd0eecab0333057f10" category="list-text"><block ref="8d806bd87636d4fd0eecab0333057f10" category="inline-link-macro-rx"></block></block>
  <block id="af68364761ed4114c192b6bb2962467b" category="summary">Trident Protect 使用基於角色的存取控制 (RBAC) 的 Kubernetes 模型。您可以使用Trident Protect 的 RBAC 功能來更精細地控制對資源的存取。</block>
  <block id="0cc310db20eaee9161e8ef937010b536" category="doc">管理Trident Protect 的授權和存取控制</block>
  <block id="9991f5d4b3aa4ae5a36fb2ad6a637d73" category="paragraph">Trident Protect 使用基於角色的存取控制 (RBAC) 的 Kubernetes 模型。預設情況下， Trident Protect 提供一個系統命名空間及其關聯的預設服務帳戶。如果您的組織擁有許多使用者或特定的安全需求，您可以使用Trident Protect 的 RBAC 功能來更精細地控制對資源和命名空間的存取。</block>
  <block id="a22c0a4dfca95968d88392eb0bbb2dcf" category="paragraph">叢集管理員始終擁有對預設資源的存取權限。<block ref="9a82c7a4099124e5bfaa83e7c5997bd4" prefix=" " category="inline-code"></block>命名空間，並且可以存取所有其他命名空間中的資源。要控制對資源和應用程式的訪問，您需要建立額外的命名空間，並將資源和應用程式新增至這些命名空間。</block>
  <block id="661e3b2b32de1ab85fb426b5abec28f3" category="paragraph">請注意，預設情況下，任何使用者都無法建立應用程式資料管理變更請求 (CR)。<block ref="9a82c7a4099124e5bfaa83e7c5997bd4" prefix=" " category="inline-code"></block>命名空間。您需要在應用程式命名空間中建立應用程式資料管理 CR（最佳實踐是在與其關聯的應用程式相同的命名空間中建立應用程式資料管理 CR）。</block>
  <block id="b1f69b20762545a6c94e024888638df8" category="paragraph">只有管​​理員才能存取受Trident Protect 保護的特權自訂資源對象，其中包括：</block>
  <block id="4516bb1529fba64216073cc95812839c" category="list-text">*AppVault*：需要儲存桶憑證數據</block>
  <block id="984eb0d94901a4b5f9105f96d4d2b4a9" category="list-text">*AutoSupportBundle*：收集指標、日誌和其他敏感的Trident保護數據</block>
  <block id="10e6811ca4c78900349b612176a3233b" category="list-text">*AutoSupportBundleSchedule*：管理日誌收集計劃</block>
  <block id="7cfd5c25f0cd486a1157966cad4acba7" category="paragraph">最佳實踐是使用基於角色的存取控制 (RBAC) 將對特權物件的存取限制在管理員範圍內。</block>
  <block id="407b2fe2d3bbcc55c8ae895a2fd8263c" category="inline-link">Kubernetes RBAC 文檔</block>
  <block id="280879df8b54b2167169ec47c5cabf6d" category="paragraph">有關基於角色的存取控制 (RBAC) 如何管理對資源和命名空間的存取的更多信息，請參閱…<block ref="4825a411217f39ad9486c7b5e7edfd2b" category="inline-link-rx"></block> 。</block>
  <block id="1f8885e14663f7eb65b23f1fb65cf1ad" category="inline-link">Kubernetes 服務帳戶文檔</block>
  <block id="6d2eefddf1d006b070ac00f2cf8d9f2e" category="paragraph">有關服務帳戶的信息，請參閱<block ref="37bf82f0fc7d7e935aabd2fb73032b3c" category="inline-link-rx"></block>。</block>
  <block id="c8daba6f7a2139f5744d1f673acae2b4" category="section-title">範例：管理兩組使用者的存取權限</block>
  <block id="9a9f2142e8d53ddda9013b6fc97827cd" category="paragraph">例如，一個組織有集群管理員、一組工程用戶和一組行銷用戶。叢集管理員將完成以下任務，以建立一個環境，​​其中工程組和行銷組各自只能存取分配給其各自命名空間的資源。</block>
  <block id="62e8eb1beb4089e76f084fa767746c24" category="section-title">步驟 1：建立命名空間以包含每個群組的資源</block>
  <block id="bff98f2ace11d8e7b9fe541ae444c93a" category="paragraph">創建命名空間可以讓你從邏輯上分離資源，並更好地控制誰可以存取這些資源。</block>
  <block id="34bc7fd01806723536ffab05992d77d0" category="list-text">為工程組建立一個命名空間：</block>
  <block id="ba644a4cbff232b5b4157a0f8bfc30f8" category="list-text">為行銷組創造命名空間：</block>
  <block id="aac00f41716d928be61ef3ff1cd6fc2d" category="section-title">步驟 2：建立新的服務帳戶，以便與每個命名空間中的資源互動</block>
  <block id="3e8da71376257c3915a88fb2bfe69a27" category="paragraph">您建立的每個新命名空間都附帶一個預設服務帳戶，但您應該為每個使用者群組建立一個服務帳戶，以便將來必要時可以進一步在群組之間劃分權限。</block>
  <block id="7bd34dd5c1a41f3a7aeea2aaad2469b5" category="list-text">為工程團隊建立一個服務帳戶：</block>
  <block id="37281883196948d16907e71598070c79" category="list-text">為行銷團隊建立一個服務帳戶：</block>
  <block id="2cdbda2406e807bdae6ccf33ad2445f3" category="section-title">步驟 3：為每個新服務帳戶建立一個金鑰</block>
  <block id="a15042adaad3bebc86d46ef450a4f98c" category="paragraph">服務帳戶金鑰用於對服務帳戶進行身份驗證，如果遭到洩露，可以輕鬆刪除並重新建立。</block>
  <block id="78a7dfb4e5b60d84d3c54ec150be8a80" category="list-text">為工程服務帳戶建立一個金鑰：</block>
  <block id="b098f513abca683a5e1c36cbc8b244db" category="list-text">為行銷服務帳戶建立一個金鑰：</block>
  <block id="d1732b3423240a19064951afa9a3266a" category="section-title">步驟 4：建立 RoleBinding 對象，將 ClusterRole 物件綁定到每個新的服務帳戶。</block>
  <block id="720de81bb5619bda23df5ae99eb9ebcb" category="paragraph">安裝Trident Protect 時會建立一個預設的 ClusterRole 物件。您可以透過建立和套用 RoleBinding 物件將此 ClusterRole 綁定到服務帳戶。</block>
  <block id="067d8d99affb5418a3d899eba8658cc4" category="list-text">將叢集角色綁定到工程服務帳戶：</block>
  <block id="b25ecd55b23c424058fdad947fe23b13" category="list-text">將群集角色綁定到行銷服務帳戶：</block>
  <block id="574c7934280b498080dfc2272c570f69" category="section-title">步驟 5：測試權限</block>
  <block id="8d65423ec256f18737823ea6cedeae87" category="paragraph">測試權限是否正確。</block>
  <block id="7b0c0cd292b286167249cc067be6d47d" category="list-text">確認工程使用者可以存取工程資源：</block>
  <block id="37aa0c3d444b765e5080a77f572f9040" category="list-text">確認工程用戶無法存取行銷資源：</block>
  <block id="afb432a9cb893dca3218bf5ed8f124b6" category="section-title">步驟 6：授予對 AppVault 物件的存取權限</block>
  <block id="518792e00e0ca0d711657c9051ae8b45" category="paragraph">若要執行備份和快照等資料管理任務，叢集管理員需要授予個別使用者對 AppVault 物件的存取權限。</block>
  <block id="3ce2b0dd65dc314e4d0ccf4ed02db5a7" category="list-text">建立並套用 AppVault 和金鑰組合的 YAML 文件，以授予使用者對 AppVault 的存取權限。例如，以下 CR 授予使用者對 AppVault 的存取權限<block ref="6ca05da537cc3daa1ec22134c0b69946" prefix=" " category="inline-code"></block>：</block>
  <block id="f1c648202447b3667edef5439e1a8c5e" category="list-text">建立並套用角色 CR，使叢集管理員能夠授予對命名空間中特定資源的存取權限。例如：</block>
  <block id="2ebacf7e8f38b367350c5c91618a6e79" category="list-text">建立並套用角色綁定 CR，將權限綁定到使用者 eng-user。例如：</block>
  <block id="dc3d0a515ce0266cb00eb5cc06c4fe94" category="list-text">請確認權限是否正確。</block>
  <block id="b5c9b7c142e23b0f885d64628ec267ff" category="list-text">嘗試檢索所有命名空間的 AppVault 物件資訊：</block>
  <block id="d0848afd8553c34945705222a97a4553" category="paragraph">您應該會看到類似以下內容的輸出：</block>
  <block id="07337191562a62a775a853d9901903a6" category="list-text">測試用戶是否可以獲得他們現在有權訪問的 AppVault 資訊：</block>
  <block id="8eea62084ca7e541d918e823422bd82e" category="paragraph-title">結果</block>
  <block id="e7165fc51f62031fcae1d793899febaa" category="paragraph">您授予 AppVault 權限的使用者應該能夠使用授權的 AppVault 物件進行應用程式資料管理操作，並且不應該能夠存取指派的命名空間之外的任何資源，或建立他們無權存取的新資源。</block>
  <block id="b00fc94596cde685c68e0bedddb72ec6" category="summary">您可以使用 kube-state-metrics 和 Prometheus 監控Trident Protect 資源的狀態。這可以為您提供有關部署、節點和 Pod 的運作狀況資訊。</block>
  <block id="9f496d568415fb10daa1a69c18a27d52" category="doc">監控Trident保護資源</block>
  <block id="c3815bcedc348a572c0e7310d70e426d" category="paragraph">您可以使用 kube-state-metrics、Prometheus 和 Alertmanager 開源工具來監控Trident Protect 保護的資源的健康狀況。</block>
  <block id="57d16d79ebb62eb467b490200f5f3191" category="paragraph">kube-state-metrics 服務從 Kubernetes API 通訊產生指標。將其與Trident Protect 結合使用，可以顯示有關環境中資源狀態的有用資訊。</block>
  <block id="0e68741139605975f01bc532098ea92c" category="paragraph">Prometheus 是一個工具包，它可以接收 kube-state-metrics 產生的數據，並將其呈現為關於這些物件的易於閱讀的資訊。  kube-state-metrics 和 Prometheus 共同提供了一種方法，讓您可以監控使用Trident Protect 管理的資源的健康狀況和狀態。</block>
  <block id="6d0450323deb4880d88d2da4155d7c76" category="paragraph">Alertmanager 是一項服務，它可以接收 Prometheus 等工具發送的警報，並將它們路由到您配置的目標位置。</block>
  <block id="45501c075fe75338b712d61db6d82f54" category="paragraph">這些步驟中包含的配置和指導僅供參考；您需要根據自己的環境進行自訂。請參閱以下官方文件以取得具體說明和支援：</block>
  <block id="d9bdb1d7869cec3eaa75aaa48b414845" category="inline-link">kube-state-metrics 文檔</block>
  <block id="28b29a811fcff582b069060bb6104048" category="list-text"><block ref="28b29a811fcff582b069060bb6104048" category="inline-link-rx"></block></block>
  <block id="695c33d174e4ad444d82403015632550" category="inline-link">普羅米修斯文檔</block>
  <block id="94fa5821707b81f95ad49b7f10d2d4d6" category="list-text"><block ref="94fa5821707b81f95ad49b7f10d2d4d6" category="inline-link-rx"></block></block>
  <block id="853d2b8407eda505e00a8014afdb0ddf" category="inline-link">Alertmanager 文檔</block>
  <block id="e23d8cb1d9d009a1aa298e95526efcd3" category="list-text"><block ref="e23d8cb1d9d009a1aa298e95526efcd3" category="inline-link-rx"></block></block>
  <block id="b246a1443f359b6da345c33e0b25f47a" category="section-title">步驟 1：安裝監控工具</block>
  <block id="08d75478cbb19385a09620acc4f7a148" category="paragraph">要在Trident Protect 中啟用資源監控，您需要安裝和設定 kube-state-metrics、Promethus 和 Alertmanager。</block>
  <block id="2a2c51a8db12ee75c90da4a3fb0e1a0b" category="section-title">安裝 kube-state-metrics</block>
  <block id="016aa0f0550f5a0506cb61b61568e043" category="paragraph">您可以使用 Helm 安裝 kube-state-metrics。</block>
  <block id="ea6a84ebff4515f07a0f260b7cce7b83" category="list-text">新增 kube-state-metrics Helm chart。例如：</block>
  <block id="dcae39a3bdbd6a2685507ccc14623d62" category="list-text">將 Prometheus ServiceMonitor CRD 應用到叢集：</block>
  <block id="d6cff887be77b3dc5c6f689b93bb9b32" category="list-text">為 Helm chart 建立一個設定檔（例如，<block ref="1da0bbdfeb5bb05830055a1515d9e2a9" prefix=" " category="inline-code"></block> ）。您可以根據自身環境自訂以下範例配置：</block>
  <block id="cf5cf09f9422112814f7fa967e303283" category="listing-title">metrics-config.yaml：kube-state-metrics Helm chart 配置</block>
  <block id="eca99dda7e2a747b75c232f5c3e314a0" category="list-text">透過部署 Helm chart 來安裝 kube-state-metrics。例如：</block>
  <block id="1b61aa1e4c2991758aa9c5bea0047156" category="inline-link">kube-state-metrics 自訂資源文檔</block>
  <block id="6c21207c2c29ab5841100bb2ca67480f" category="list-text">請依照下列說明配置 kube-state-metrics，以產生Trident Protect 使用的自訂資源的指標：<block ref="0c2d96c77ebc80eb4f9df846c2904f4c" category="inline-link-rx"></block> 。</block>
  <block id="88b8613d339947a37e41b1f514dcc42c" category="section-title">安裝 Prometheus</block>
  <block id="6cfabcb4c640f9570382e21ec242a3c0" category="paragraph">您可以按照以下說明安裝 Prometheus：<block ref="9c3dd7b31d363d10addc1dc55a338e01" category="inline-link-rx"></block> 。</block>
  <block id="7d512717b3f318d83bbce6f09e891a6f" category="section-title">安裝 Alertmanager</block>
  <block id="ee3b7d497a79c10fe3b10cda25267876" category="paragraph">您可以按照以下說明安裝 Alertmanager：<block ref="34c399dcb7431f049905523dd168baa8" category="inline-link-rx"></block> 。</block>
  <block id="9147f13af253be263e759a06097eea20" category="section-title">步驟 2：配置監控工具以協同工作</block>
  <block id="73be38664a808318efe65c02c4ce747c" category="paragraph">安裝監控工具後，需要設定它們以使其協同工作。</block>
  <block id="e441c0f153e5f2e8328aa8c2e9badf45" category="list-text">將 kube-state-metrics 與 Prometheus 整合。編輯 Prometheus 配置文件<block ref="aacdd9a7e2029a243488dbd0c49c5bbb" prefix="(" category="inline-code"></block>）並新增 kube-state-metrics 服務資訊。例如：</block>
  <block id="ce813b4c1248ec7e0f14b08f1a037497" category="listing-title">prometheus.yaml：kube-state-metrics 服務與 Prometheus 的集成</block>
  <block id="934a401d15e7226d8cb60e2a12f28611" category="list-text">配置 Prometheus 將警報路由到 Alertmanager。編輯 Prometheus 配置文件<block ref="aacdd9a7e2029a243488dbd0c49c5bbb" prefix="(" category="inline-code"></block>）並添加以下部分：</block>
  <block id="2a88bf2582239d12cc0700d3c6857519" category="listing-title">prometheus.yaml：向 Alertmanager 發送警報</block>
  <block id="68f04b43068f22f98aaa6513240dd2b5" category="paragraph">Prometheus 現在可以從 kube-state-metrics 收集指標，並且可以向​​ Alertmanager 發送警報。現在您可以設定觸發警報的條件以及警報的發送位置。</block>
  <block id="a42cb9abdbaf69f90fba5592304008cd" category="section-title">步驟 3：設定警報和警報目標</block>
  <block id="1138a7ff5cea0f83ce07834c8e02315c" category="paragraph">配置好工具協同工作後，還需要配置哪些類型的信息會觸發警報，以及警報應該發送到哪裡。</block>
  <block id="917045fa08d9c44ee88951e8cdb4023b" category="section-title">警報範例：備份失敗</block>
  <block id="ae9aa1ddb34419c7b7b7f49feba7fb45" category="paragraph">以下範例定義了一個關鍵警報，當備份自訂資源的狀態設定為「是」時，警報將會被觸發。<block ref="902b0d55fddef6f8d651fe1035b7d4bd" prefix=" " category="inline-code"></block>持續5秒或更長時間。您可以自訂此範例以符合您的環境，並將此 YAML 程式碼片段包含在您的專案中。<block ref="aacdd9a7e2029a243488dbd0c49c5bbb" prefix=" " category="inline-code"></block>設定檔：</block>
  <block id="62c242d2e7dfd83a58d8ccf60227d68f" category="listing-title">rules.yaml：定義備份失敗的 Prometheus 警報</block>
  <block id="e8665bc518bf7a6d63332be811e8f6cb" category="section-title">配置 Alertmanager 向其他管道發送警報</block>
  <block id="70694773feb2b23c45e7ff7a6a3c3c8b" category="paragraph">您可以設定 Alertmanager，使其將通知傳送到其他管道，例如電子郵件、PagerDuty、Microsoft Teams 或其他通知服務，只需在設定檔中指定相應的配置即可。<block ref="9001eaececb0884cbeb80659e81340ad" prefix=" " category="inline-code"></block>文件。</block>
  <block id="c9272f0d68fac2055ba2d71be6c87b1b" category="paragraph">以下範例配置 Alertmanager 向 Slack 頻道發送通知。若要根據您的環境自訂此範例，請取代以下值：<block ref="aa8106611bcfe43fec48e6d1d371de52" prefix=" " category="inline-code"></block>金鑰包含您環境中使用的 Slack webhook URL：</block>
  <block id="965357e3c90ccf3fba01174c6508d562" category="listing-title">alertmanager.yaml：向 Slack 頻道發送警報</block>
  <block id="1317a4b523ecc5ea298adec08e7ba407" category="summary">Trident Protect 的儲存桶自訂資源 (CR) 稱為 AppVault。  AppVault 是儲存桶的聲明式 Kubernetes 工作流程表示。</block>
  <block id="97f3fa7a4bb86197f0db69aa160c73e9" category="doc">使用Trident Protect AppVault 物件來管理儲存桶。</block>
  <block id="f39726752bf5b117fe78f8c383e31cdd" category="paragraph">Trident Protect 的儲存桶自訂資源 (CR) 稱為 AppVault。AppVault 物件是儲存桶的聲明性 Kubernetes 工作流程表示。AppVault CR 包含儲存桶在保護作業（例如備份、快照、復原作業和SnapMirror複製）中所使用的必要配置。只有管​​理員才能建立應用保險庫。</block>
  <block id="9c292a7d893942317e3d566cb6f6776c" category="paragraph">在應用程式上執行資料保護操作時，您需要手動或從命令列建立 AppVault CR。 AppVaultCR 特定於您的環境，您可以使用本頁上的範例作為建立 AppVault CR 的指南。</block>
  <block id="e83cbbd4be53e68f06264e1522860ce6" category="admonition">確保 AppVault CR 位於安裝了Trident Protect 的叢集上。如果 AppVault CR 不存在或您無法訪問，命令列將顯示錯誤。</block>
  <block id="7fc5875d06887df5109a87a0ada90eca" category="section-title">配置 AppVault 身份驗證和密碼</block>
  <block id="05e673132e6ddc1f638835fcde244ff1" category="paragraph">在建立 AppVault CR 之前，請確保您選擇的 AppVault 和資料移動器可以向提供者和任何相關資源進行驗證。</block>
  <block id="8e2c4d33f50c044b257a84cd65ff1c79" category="section-title">資料遷移儲存庫密碼</block>
  <block id="2c2d23c6647059f96e585a1174a5c975" category="paragraph">使用 CR 或Trident Protect CLI 外掛程式建立 AppVault 物件時，您可以指定 Kubernetes 金鑰，並使用自訂密碼進行 Restic 和 Kopia 加密。如果您未指定金鑰， Trident Protect 將使用預設密碼。</block>
  <block id="02c19b7bc038d2af238bbd729bc3d9c4" category="list-text">手動建立 AppVault CR 時，請使用 *spec.dataMoverPasswordSecretRef* 欄位指定金鑰。</block>
  <block id="0a636ed0406fe1d7ddf9db59b32011b3" category="list-text">使用Trident Protect CLI 建立 AppVault 物件時，請使用<block ref="66f22eb4f5e5b0147ea7521212b07044" prefix=" " category="inline-code"></block>用於指定密鑰的參數。</block>
  <block id="e64d157c7a9e337d525d51f62d9d0809" category="section-title">建立資料遷移儲存庫密碼金鑰</block>
  <block id="fc114cb2ee6c7bff559d58e2a7454cab" category="paragraph">請參考以下範例建立密碼密鑰。建立 AppVault 物件時，您可以指示Trident Protect 使用此金鑰向資料移動器儲存庫進行驗證。</block>
  <block id="4fc9faf161c64ed80d0fb8ca9aa0882e" category="list-text">根據您使用的資料傳輸工具，您只需輸入該資料傳輸工具對應的密碼即可。例如，如果您正在使用 Restic 並且將來不打算使用 Kopia，則在建立金鑰時，您可以只包含 Restic 密碼。</block>
  <block id="1850a20880f300b00b10477bfcbd6087" category="list-text">請將密碼保存在安全的地方。您將需要它來還原同一叢集或其他叢集上的資料。如果集群或<block ref="9a82c7a4099124e5bfaa83e7c5997bd4" prefix=" " category="inline-code"></block>命名空間已被刪除，沒有密碼您將無法還原備份或快照。</block>
  <block id="5a3a68cc2fb27d13057472b4869353f1" category="open-title">使用 CR</block>
  <block id="8a9e0f8224695e94f0988f444488877b" category="open-title">使用 CLI</block>
  <block id="d2a7dc5804ec844f3f7bfb903e97693f" category="section-title">S3 相容於儲存 IAM 權限</block>
  <block id="79832d443dadeb6d3b0637941d6ac067" category="inline-link">StorageGrid S3</block>
  <block id="1716834171e243de0f898a67621b6624" category="inline-link">ONTAP S3</block>
  <block id="48f73146a4944adc8ee8fb44ba954d59" category="paragraph">當您存取與 S3 相容的儲存空間（例如 Amazon S3、通用 S3）時，<block ref="3d0b4c23d9ed62ec7d7cd16273ca2521" category="inline-link-rx"></block> ， 或者<block ref="3a31dfad8c316380b9a5542d694c5833" category="inline-link-rx"></block>使用Trident Protect 時，您需要確保提供的使用者憑證具有存取儲存桶的必要權限。以下是授予使用Trident Protect 進行存取所需的最低權限的政策範例。您可以將此策略套用至管理 S3 相容儲存桶策略的使用者。</block>
  <block id="d9b7f314625fb7dcf35c741afe65b676" category="inline-link">Amazon S3 文檔</block>
  <block id="bc08c4a5eed12311fe8187fb000dd58a" category="paragraph">有關 Amazon S3 策略的更多信息，請參閱以下範例：<block ref="61017e44ea21b481e69f04f8ac510768" category="inline-link-rx"></block> 。</block>
  <block id="955d6e7ec20d5d3fcf83f82552f7d6e0" category="section-title">用於 Amazon S3（AWS）驗證的 EKS Pod Identity</block>
  <block id="67165804f666601e4155d69a62d46a7d" category="paragraph">Trident Protect 支援 EKS Pod Identity 進行 Kopia 資料移動器操作。此功能可實現對 S3 儲存桶的安全訪問，而無需將 AWS 憑證儲存在 Kubernetes 機密中。</block>
  <block id="3c0f2c9a4c9b9d63ff7db27d3c3732d2" category="paragraph">*帶有Trident保護的 EKS Pod Identity 的要求*</block>
  <block id="e674398aa14fe057d6f89aae4be1955a" category="paragraph">在使用具有Trident保護的 EKS Pod Identity 之前，請確保以下事項：</block>
  <block id="6aa9f6ea95e8a0a226da6a3727f18bb1" category="list-text">您的 EKS 叢集已啟用 Pod Identity。</block>
  <block id="ecadca4297640c38809298ae5d418fff" category="list-text">您已建立具有必要的 S3 儲存桶權限的 IAM 角色。欲了解更多信息，請參閱 <block ref="d40f70e9b63b2ee09271e4f02ea6bf6d" category="inline-link-macro-rx"></block>。</block>
  <block id="af030ad9c72e341fd6b3331215a88c19" category="list-text">IAM 角色與下列Trident保護服務帳戶相關聯：</block>
  <block id="5b71e41c96f404db1afa2e12eecd6500" category="list-text"><block ref="91bb592c84ad55997a90ac08be4392a4" prefix="" category="inline-code"></block></block>
  <block id="1aa00347a52b15ca93b318123bc06e86" category="list-text"><block ref="f7466ebc5710cc1f7aebdb3c2347f9e6" prefix="" category="inline-code"></block></block>
  <block id="7a9c1f2789b528ff73c69693fde3ecba" category="list-text"><block ref="12cb7c67caac3126c1f43145ffe66ca6" prefix="" category="inline-code"></block></block>
  <block id="71f3c1257dc9ab0b34ac201e2acb022c" category="list-text"><block ref="4853ba7c1c1c3978e9d7142231fc12a6" prefix="" category="inline-code"></block></block>
  <block id="aeb8fd34d676c01d8d9e00ea6a66b661" category="inline-link">AWS EKS Pod Identity 文檔</block>
  <block id="a1c4fb1e42d1fc14a6fe64030e00a952" category="paragraph">有關啟用 Pod 身分並將 IAM 角色與服務帳戶關聯的詳細說明，請參閱<block ref="66ae84e756b5258fa5896e42189a8ba2" category="inline-link-rx"></block>。</block>
  <block id="cedc87a271db7f699ec07464bfd0a9ee" category="paragraph">*AppVault 設定* 使用 EKS Pod Identity 時，請設定您的 AppVault CR。<block ref="df9bc6a254da3cea83fc8b7c71c71ea9" prefix=" " category="inline-code"></block>使用標誌而不是顯式憑證：</block>
  <block id="571768fad7edd9c4f57173c592c1f86c" category="section-title">適用於雲端提供者的 AppVault 金鑰產生範例</block>
  <block id="ed69194cde8739a857f51b02498a0c27" category="paragraph">定義 AppVault CR 時，您需要包含憑證以存取提供者託管的資源，除非您使用 IAM 驗證。如何產生憑證金鑰將根據提供者的不同而有所不同。以下是幾個提供者的命令列金鑰產生範例。您可以使用下列範例為每個雲端提供者的憑證建立金鑰。</block>
  <block id="56ef2682280ac110060b881925a87b80" category="open-title">Google雲</block>
  <block id="a13eeeef5ff2b7fe85692890fb5d28b3" category="open-title">亞馬遜 S3 (AWS)</block>
  <block id="1668ca1bd914c1d847f23b491319ac91" category="open-title">微軟 Azure</block>
  <block id="b2aa71ee04e531f0b6d1f084ba45f52f" category="open-title">通用S3</block>
  <block id="3e2db83ddd4087c64413cfd7c14100b6" category="section-title">AppVault 建立範例</block>
  <block id="80b938565b2e1ff14bd06e780149b085" category="paragraph">以下是每個提供者的 AppVault 定義範例。</block>
  <block id="6b4d16571162a69eb03c99cb132a69ec" category="section-title">AppVault CR 範例</block>
  <block id="d05c8b60cfd355fccac41017c33ca892" category="paragraph">您可以使用下列 CR 範例為每個雲端提供者建立 AppVault 物件。</block>
  <block id="dd180e899bea0f9a0eb538e256c19673" category="list-text">您可以選擇指定一個 Kubernetes secret，其中包含 Restic 和 Kopia 儲存庫加密的自訂密碼。請參閱<block ref="7bf3b37360a9f432b37d8ac6c9f10cd4" category="inline-xref-macro-rx"></block>了解更多。</block>
  <block id="7491b3d3a4aa89a2dd6445477c6b6e0a" category="list-text">對於 Amazon S3 (AWS) AppVault 對象，您可以選擇性地指定 sessionToken，如果您使用單一登入 (SSO) 進行驗證，這將非常有用。當您為提供者產生金鑰時，將建立此令牌。<block ref="cd932e77bb3df9634d58b2fd34398b6f" category="inline-xref-macro-rx"></block> 。</block>
  <block id="2b7c7776f596f179d63bae82e841e9fe" category="list-text">對於 S3 AppVault 對象，您可以選擇性地使用下列方式指定出站 S3 流量的出口代理 URL：<block ref="ea739eb21b9424ad95fb5cd1b3ee7d1c" prefix=" " category="inline-code"></block>鑰匙。</block>
  <block id="0d96febdd171c11830ca8b96c7a4f8e4" category="admonition">對於使用 Pod Identity 和 Kopia 資料移動器的 EKS 環境，您可以移除<block ref="84695890ad88faf0bb2d6cdae8c01d51" prefix=" " category="inline-code"></block>部分並添加<block ref="df9bc6a254da3cea83fc8b7c71c71ea9" prefix=" " category="inline-code"></block>在<block ref="c0828e0381730befd1f7a025057c74fb" prefix=" " category="inline-code"></block>改為配置。</block>
  <block id="59264d37bdf7f6cbf4f94ad00dacdce1" category="section-title">使用Trident Protect CLI 建立 AppVault 的範例</block>
  <block id="4db09810b323e73b4041a65c99bb14f8" category="paragraph">您可以使用以下 CLI 命令範例為每個提供者建立 AppVault CR。</block>
  <block id="99313bdb05c30c161eb80ae8dc89265f" category="list-text">對於 S3 AppVault 對象，您可以選擇性地使用下列方式指定出站 S3 流量的出口代理 URL：<block ref="c0b36cdbc2185c1fe6ee0b0c177312da" prefix=" " category="inline-code"></block>爭論。</block>
  <block id="aafdbe511f8dcfce152fe32eec4b84a8" category="section-title">查看 AppVault 訊息</block>
  <block id="fe7f61a858dc37b884e97617cd26e1da" category="paragraph">您可以使用Trident Protect CLI 外掛程式查看有關您在叢集上建立的 AppVault 物件的資訊。</block>
  <block id="485573baf8bfa9487485deb07780d89f" category="list-text">查看 AppVault 物件的內容：</block>
  <block id="10dce9030ad8783afd2b4e831da49b7f" category="paragraph">*範例輸出*：</block>
  <block id="72444a17ff17655124f96b02602fe90f" category="list-text">（可選）若要查看每個資源的 AppVaultPath，請使用該標誌<block ref="a9b1c03a99224cbb5c6773ccbe51d4fb" prefix=" " category="inline-code"></block>。</block>
  <block id="caef5be37857b92378c0054db6bc8696" category="paragraph">只有在Trident Protect Helm 安裝中指定了叢集名稱時，表格第一列中的叢集名稱才可用。例如：<block ref="b84d46473a6782105f40ea4fa2bc2964" prefix=" " category="inline-code"></block> 。</block>
  <block id="eb5dcb495342ee5285be31fb17267ccc" category="section-title">移除 AppVault</block>
  <block id="086d4622dbc50dc37c51fc80568681a2" category="paragraph">您可以隨時刪除 AppVault 物件。</block>
  <block id="79f2a1cdb1287644a5d3176157cc43c4" category="admonition">不要移除<block ref="276c63528ef3085f91fb1bc80a3febc0" prefix=" " category="inline-code"></block>在刪除 AppVault 物件之前，請在 AppVault CR 中輸入金鑰。這樣做可能會導致 AppVault 儲存桶中殘留數據，以及叢集中出現孤立資源。</block>
  <block id="6a346946ba0777d650b6e41a4c30c7b6" category="paragraph">請確保您已刪除要刪除的 AppVault 所使用的所有快照和備份 CR。</block>
  <block id="33850d305da8c5eb949c81e70e40a54d" category="open-title">使用 Kubernetes CLI 刪除 AppVault</block>
  <block id="620026f954fdad541c9d19554476345c" category="list-text">移除 AppVault 對象，並替換<block ref="bf09cf3bd2a9288a0bdf3d1b89b770a1" prefix=" " category="inline-code"></block>要刪除的 AppVault 物件的名稱：</block>
  <block id="a4af4e386bb379977acdb5a465780149" category="open-title">使用Trident Protect CLI 刪除 AppVault</block>
  <block id="6c4ae71603666b23d3e05193118a3147" category="summary">您可以使用 protectctl 指令建立和操作Trident Protect 自訂資源。</block>
  <block id="40e0842217cf3fc8b760cbd68cc14a76" category="doc">安裝Trident Protect CLI 插件</block>
  <block id="bd0df34f0c12fe6faae3a05dde47f3a9" category="paragraph">您可以使用Trident Protect 命令列插件，它是Trident的一個擴充。<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>實用程序，用於建立和與Trident Protect 自訂資源 (CR) 進行互動。</block>
  <block id="2b1100a071932a4cb5f33e22121f48fa" category="paragraph">在使用命令列實用程式之前，需要將其安裝在用於存取叢集的電腦上。根據您的機器使用的是 x64 還是ARM CPU，請依照以下步驟操作。</block>
  <block id="852f04e90409df288c69ca8f37453383" category="open-title">下載適用於 Linux AMD64 CPU 的插件</block>
  <block id="567471047b313eb49e48a17b4213a1d1" category="list-text">下載Trident Protect CLI 外掛：</block>
  <block id="b64b2077b896969e7810dbb0a2de2f1a" category="open-title">下載適用於 Linux ARM64 CPU 的插件</block>
  <block id="d58e744bd40cf0f8373ee5b2c7d11387" category="open-title">下載適用於 Mac AMD64 CPU 的插件</block>
  <block id="fd3e558ef6c1af851bddabf0eb1945d7" category="open-title">下載適用於 Mac ARM64 CPU 的插件</block>
  <block id="375efef64643c8aa6bb8e0ba2159a82a" category="list-text">啟用插件二進位檔案的執行權限：</block>
  <block id="15286900a0d0667ffc4d515aeec6a1d2" category="list-text">將插件二進位檔案複製到 PATH 環境變數中定義的位置。例如，<block ref="7512824c50c61ea8d89d0f193a4f72d1" prefix=" " category="inline-code"></block>或者<block ref="ad2e864ce1a99daa836c3449f3ba705d" prefix=" " category="inline-code"></block>（您可能需要更高的權限）：</block>
  <block id="eefd51253afc93c1ad54658882a65dec" category="list-text">您也可以選擇將插件二進位檔案複製到您主目錄中的某個位置。在這種情況下，建議確保該位置已新增至您的 PATH 環境變數：</block>
  <block id="75b0e724fe59ed9d6eda0fcd4679bfee" category="admonition">將插件複製到 PATH 環境變數中的某個位置，即可透過鍵入以下命令來使用該插件。<block ref="d4845d5856667a10aee97f3404a35627" prefix=" " category="inline-code"></block>或者<block ref="e89ec374c6edc886ea12d28524834e68" prefix=" " category="inline-code"></block>從任何地點。</block>
  <block id="b23c395acc963a69b0a5f06a20bb4887" category="section-title">查看Trident CLI 外掛程式幫助</block>
  <block id="305f79cb740685921820521a57e525e5" category="paragraph">您可以使用插件內建的幫助功能來獲得有關插件功能的詳細幫助：</block>
  <block id="09b4818c610e8f967a9f5257455a3a2a" category="list-text">使用幫助功能查看使用指南：</block>
  <block id="da9d072bec5b191d5b5120761a2094e5" category="section-title">啟用指令自動補全</block>
  <block id="2994879f05c105b10427c87890d6ce6a" category="paragraph">安裝Trident Protect CLI 外掛程式後，您可以為某些指令啟用自動補全功能。</block>
  <block id="df7d0aa2cf46fe870b9bba130ea4d964" category="open-title">為 Bash shell 啟用自動補全功能</block>
  <block id="dc8d08efd37c5c2cd13f1da4b74b2004" category="list-text">下載完成腳本：</block>
  <block id="bbd32e1d32af84e3002666b13f548cce" category="list-text">在您的使用者目錄下建立一個新目錄，用於存放腳本：</block>
  <block id="63f01fb9933705d6d795c4c690a6504c" category="list-text">將下載的腳本移到<block ref="37476bab24bad3126a5edbc11fab761e" prefix=" " category="inline-code"></block>目錄：</block>
  <block id="4a76f80f250e570c9fd0b4b8b9e41486" category="list-text">將以下行新增至<block ref="b8cb707d54dfbd8ab64f0b1dc81b72e1" prefix=" " category="inline-code"></block>您主目錄中的檔案：</block>
  <block id="51c2c8a3b8dd4aaaa1d5640e39860408" category="open-title">為 Z shell 啟用自動補全</block>
  <block id="45dba4471beecdb4813778042a6ccfc2" category="list-text">將下載的腳本移到<block ref="d6ca46a9bae5529cb8e845fb419ba1e0" prefix=" " category="inline-code"></block>目錄：</block>
  <block id="e2f12f24108169a5ab9aa9923f95a468" category="list-text">將以下行新增至<block ref="f0f9c4057b7322a99704208706a05ba7" prefix=" " category="inline-code"></block>您主目錄中的檔案：</block>
  <block id="7bbf9a1a0bbcbeb6a4fef133c3975079" category="paragraph">下次登入 shell 時，您可以使用 tridentctl-protect 外掛程式進行指令自動補全。</block>
  <block id="ef3bab72151c3b40feca67b002c6d518" category="summary">自訂Trident Protect 的預設設置，以滿足您的特定需求。</block>
  <block id="c465b5ba6226b5fce1902a4b68097d26" category="doc">自訂Trident Protect 安裝</block>
  <block id="f59f3d4c8cdf79dc43502eea9ff82e75" category="paragraph">您可以自訂Trident Protect 的預設配置，以符合您環境的特定要求。</block>
  <block id="d9802724acbde7ce7749f0884262496a" category="section-title">指定Trident Protect 容器資源限制</block>
  <block id="723ff7c28b60307db94ddb35dd6cc517" category="paragraph">安裝Trident Protect 後，您可以使用設定檔來指定Trident Protect 容器的資源限制。設定資源限制可以控制Trident Protect 作業消耗叢集資源的程度。</block>
  <block id="45d7099b61647936da59ccfbaa49ca5c" category="list-text">建立一個名為的文件<block ref="e66ad8c89b28dc43a24e6e1689a79cdc" prefix=" " category="inline-code"></block>。</block>
  <block id="9f83417f7d6c999c56b0dcc3b274be23" category="list-text">根據您的環境需求，在檔案中填入Trident Protect 容器的資源限制選項。</block>
  <block id="df0ecee897380da18617ddb170abdeb0" category="paragraph">以下範例設定檔顯示了可用設置，並包含每個資源限制的預設值：</block>
  <block id="956fe3fe2ad4f9cb1b569d66b4ff1db5" category="list-text">應用以下值<block ref="e66ad8c89b28dc43a24e6e1689a79cdc" prefix=" " category="inline-code"></block>文件：</block>
  <block id="73d4542a63a157d0b7e3093eabec8fc9" category="section-title">自訂安全上下文約束</block>
  <block id="d3b1c8ea61eed8a2b7579d4013d792b3" category="paragraph">安裝Trident Protect 後，您可以使用設定檔來修改Trident Protect 容器的 OpenShift 安全上下文約束 (SCC)。這些約束定義了 Red Hat OpenShift 叢集中 pod 的安全性限制。</block>
  <block id="2708058a93672fbaa8bcf3e785e87b21" category="list-text">建立一個名為的文件<block ref="12cbdc8aa1f61a2cee8eff2b77c0e113" prefix=" " category="inline-code"></block>。</block>
  <block id="468f17ddccd3b34c0d539404233a5e45" category="list-text">在文件中新增 SCC 選項，並根據您的環境需求修改參數。</block>
  <block id="616d9e371ad293e03cb7d5ad25d66c80" category="paragraph">以下範例顯示了 SCC 選項的參數預設值：</block>
  <block id="0c98fb0c406324f0a1aa95f76be6abee" category="paragraph">下表描述了SCC選項的參數：</block>
  <block id="4241afd729bbb74051e3cba55f164b0d" category="cell">確定是否可以建立 SCC 資源。僅當<block ref="aac82cc6424e9b52c84a0dbdc2518a15" prefix=" " category="inline-code"></block>設定為<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>Helm 安裝過程會辨識 OpenShift 環境。如果不是在 OpenShift 上運行，或者如果<block ref="aac82cc6424e9b52c84a0dbdc2518a15" prefix=" " category="inline-code"></block>設定為<block ref="68934a3e9455fa72420237eb05902327" prefix=" " category="inline-code"></block>不會創建 SCC 資源。</block>
  <block id="b068931cc450442b63f5b3d276ea4297" category="cell">姓名</block>
  <block id="fd9cec0b7219b39de0235d899bf5b2c0" category="cell">指定SCC的名稱。</block>
  <block id="141351edcf12ef25b127186a711471ce" category="cell">三叉戟保護工作</block>
  <block id="b988295c268025b49dfb3df26171ddc3" category="cell">優先事項</block>
  <block id="18dbc63582d575814786eb13d8baf787" category="cell">確定 SCC 的優先順序。優先順序較高的SCC會優先於優先順序較低的SCC進行評估。</block>
  <block id="c4ca4238a0b923820dcc509a6f75849b" category="cell">1</block>
  <block id="ee747b6b4f133aa926c072d073f4a8d5" category="list-text">應用以下值<block ref="12cbdc8aa1f61a2cee8eff2b77c0e113" prefix=" " category="inline-code"></block>文件：</block>
  <block id="54b43aeb73b3f5136e6febff4f374663" category="paragraph">這將用指定的值替換預設值。<block ref="12cbdc8aa1f61a2cee8eff2b77c0e113" prefix=" " category="inline-code"></block>文件。</block>
  <block id="5db3625cb782a771bf36efc4994a8da5" category="section-title">設定其他Trident保護 Helm Chart 設定</block>
  <block id="a7532dec52b4d581a8873a3048e6e181" category="paragraph">您可以自訂AutoSupport設定和命名空間過濾以滿足您的特定要求。下表描述了可用的配置參數：</block>
  <block id="a1fa27779242b4902f7ae3bdd5c6d508" category="cell">類型</block>
  <block id="1fceae4a3c0d1966481601a7ac4d1f83" category="cell">自動支援代理</block>
  <block id="b45cffe084dd3d20d928bee85e7b0f21" category="cell">細繩</block>
  <block id="d93069a68fb6f0fccb979fdae4a99614" category="cell">為NetApp AutoSupport連線配置代理 URL。使用此功能透過代理伺服器路由支援包上傳。例子：<block ref="3753b9fc3cbe6d0d91c7b449cad0b465" prefix=" " category="inline-code"></block> 。</block>
  <block id="c692f16bd0ca5b695511534a2e1eebfb" category="cell">自動支援.不安全</block>
  <block id="84e2c64f38f78ba3ea5c905ab5a2da27" category="cell">布林值</block>
  <block id="ecf5fdf2786d609376e95f541c7dcdfa" category="cell">設定為“跳過AutoSupport代理連接的 TLS 驗證”<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block> 。僅用於不安全的代理連線。  (預設:<block ref="68934a3e9455fa72420237eb05902327" prefix=" " category="inline-code"></block> ）</block>
  <block id="4dd202185370b5db00de876ba19c1bd1" category="cell">自動支援已啟用</block>
  <block id="5d75e627a269bd09b3b5ebef5a7bf257" category="cell">啟用或停用每日Trident保護AutoSupport捆綁包上傳。設定為<block ref="68934a3e9455fa72420237eb05902327" prefix=" " category="inline-code"></block>每日定時上傳功能已停用，但您仍可以手動產生支援包。  (預設:<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block> ）</block>
  <block id="22416353aff9ef4322e1ee858f418ae4" category="cell">恢復跳過命名空間註釋</block>
  <block id="a91c3b0476974e9ec186952f05c189f1" category="cell">若要從備份和復原作業中排除的命名空間註解的逗號分隔清單。允許您根據註釋過濾命名空間。</block>
  <block id="8028cf835d9b72ff2d6f835934c25568" category="cell">restoreSkipNamespaceLabels</block>
  <block id="3f1cf3db23b5a0d9cdd2db63b9b30061" category="cell">若要從備份和復原作業中排除的命名空間標籤的逗號分隔清單。允許您根據標籤過濾命名空間。</block>
  <block id="4afdb4a6c604cf0a9b830ec8cb0430c9" category="paragraph">您可以使用 YAML 設定檔或命令列標誌來設定這些選項：</block>
  <block id="bfb59a2948710affa80485c4339915a0" category="open-title">使用 YAML 文件</block>
  <block id="edd355ced63179ed49206f4f87774b11" category="list-text">建立一個設定檔並將其命名為<block ref="ba05023d0f1b5d4b64b6cad4cf9a7ecd" prefix=" " category="inline-code"></block>。</block>
  <block id="68691c61fb4efdab4eca4a7e06fa75c7" category="list-text">在您建立的文件中，新增您想要自訂的設定選項。</block>
  <block id="8050ee75d62c0711ec176f9e1481041b" category="list-text">填寫完後<block ref="ba05023d0f1b5d4b64b6cad4cf9a7ecd" prefix=" " category="inline-code"></block>使用正確的值建立配置文件，並套用該設定檔：</block>
  <block id="2ee46f1547524b1cfc2f8b760b44c719" category="open-title">使用 CLI 標誌</block>
  <block id="fc7791ffb26e7154ff5b48ab1b14bf8b" category="list-text">使用以下命令：<block ref="8b5806248570dbb13e7d3bc5e6c0ee37" prefix=" " category="inline-code"></block>用於指定個別參數的標誌：</block>
  <block id="19ac5903f95d5ebe1db017be54990f37" category="section-title">將Trident Protect Pod 限制在特定節點上</block>
  <block id="2c9025d65a10f87c581d792f629f0b40" category="paragraph">您可以使用 Kubernetes nodeSelector 節點來選擇約束，根據節點標籤來控制哪些節點有資格執行Trident protect pod。預設情況下， Trident Protect 僅限於執行 Linux 的節點。您可以根據需要進一步自訂這些限制條件。</block>
  <block id="e131fc2359f1f35a2fdb476c3f19bfdd" category="list-text">建立一個名為的文件<block ref="7eec75c3fd904f84005cd47f3bed0e47" prefix=" " category="inline-code"></block>。</block>
  <block id="785a1066f4a7291f0bd0c65d4529e79f" category="list-text">在檔案中新增 nodeSelector 選項，並修改檔案以新增或變更節點標籤，從而根據您的環境需求進行限制。例如，以下檔案包含預設的作業系統限制，但同時也針對特定區域和應用程式名稱：</block>
  <block id="0b3a205b675b10deddbe1e4c76c36e22" category="list-text">應用以下值<block ref="7eec75c3fd904f84005cd47f3bed0e47" prefix=" " category="inline-code"></block>文件：</block>
  <block id="86ff3a8cca72a77f236198059cede1b6" category="paragraph">這將預設限制替換為您在設定中指定的限制。<block ref="7eec75c3fd904f84005cd47f3bed0e47" prefix=" " category="inline-code"></block>文件。</block>
  <block id="7b6672be7a52979b1357ccc3d2a45f8a" category="summary">Trident Protect 使管理員能夠產生包含對NetApp支援有用的信息的捆綁包，包括有關所管理的叢集和應用程式的日誌、指標和拓撲資訊。如果您已連接到互聯網，則可以使用自訂資源 (CR) 檔案將支援包上傳至NetApp支援網站 (NSS)。</block>
  <block id="b9ef0ee6944eb101de3de64b82db00dd" category="doc">產生Trident Protect 支援包</block>
  <block id="0884919e7c7d4a1981b4419350c63124" category="paragraph">Trident Protect 使管理員能夠產生包含對NetApp支援有用的信息的捆綁包，包括有關所管理的叢集和應用程式的日誌、指標和拓撲資訊。如果您已連接到互聯網，則可以使用自訂資源 (CR) 檔案將支援包上傳至NetApp支援網站 (NSS)。</block>
  <block id="e984343e441956b7136d09919877b5ab" category="open-title">使用 CR 建立支援包</block>
  <block id="dd942fa25b8e28c96c8d05e37b0f157e" category="list-text">建立自訂資源 (CR) 檔案並將其命名為（例如，<block ref="699c503b46d4ca3ec78905dff3704cac" prefix=" " category="inline-code"></block> ）。</block>
  <block id="18924d9e76d2dc9a88bddb772904461d" category="list-text">配置以下屬性：</block>
  <block id="3dbbdf39618ebec771728a10e75c52f9" category="list-text">*metadata.name*: (_必填_) 此自訂資源的名稱；請為您的環境選擇一個唯一且有意義的名稱。</block>
  <block id="1d18312b2c5bd000f0693d25f38bddc9" category="list-text">*spec.triggerType*: (_Required_) 確定支援包是立即產生還是按計劃產生。計劃的資料包產生時間為世界協調時凌晨 12 點。可能的值：</block>
  <block id="2b7dabba0077abe3732e0418b048a56b" category="list-text">已安排</block>
  <block id="e1ba155a9f2e8c3be94020eef32a0301" category="list-text">手動的</block>
  <block id="b541a1c308699e3b9e58d7a1aa6d3ad6" category="list-text">*spec.uploadEnabled*: (_可選_) 控制產生支援包後是否應將其上傳至NetApp支援網站。如果未指定，則預設為<block ref="68934a3e9455fa72420237eb05902327" prefix=" " category="inline-code"></block>。可能的值：</block>
  <block id="e836d7c4f6371da7534f60641286999b" category="list-text">false（預設值）</block>
  <block id="fa3e867f8599e4541ced8b0ced5b2cf1" category="list-text">*spec.dataWindowStart*: (_可選_) RFC 3339 格式的日期字串，指定支援包中包含的資料視窗應開始的日期和時間。如果未指定，則預設為 24 小時前。您最早可以指定的日期範圍是 7 天前。</block>
  <block id="139f344cca23a89c521bc7cc6c7100b8" category="paragraph">YAML 範例：</block>
  <block id="b8331cd182c8a703fc1ad6851d01da14" category="list-text">填寫完後<block ref="699c503b46d4ca3ec78905dff3704cac" prefix=" " category="inline-code"></block>將檔案的值正確後，套用 CR：</block>
  <block id="b69675775a82aaa1e3307ebbe6a45fc0" category="open-title">使用 CLI 建立支援包</block>
  <block id="2294988013d14e5c254422b8164d83ad" category="list-text">建立支援包，將括號中的值替換為您環境中的資訊。這<block ref="769627afa23a2b90f925b1091e474dc5" prefix=" " category="inline-code"></block>決定捆綁包是立即建立還是由計劃安排決定創建時間，並且可以是<block ref="e1ba155a9f2e8c3be94020eef32a0301" prefix=" " category="inline-code"></block>或者<block ref="2b7dabba0077abe3732e0418b048a56b" prefix=" " category="inline-code"></block>。預設是<block ref="e1ba155a9f2e8c3be94020eef32a0301" prefix=" " category="inline-code"></block>。</block>
  <block id="a2a6b0573b13313f05c747e88489eec6" category="section-title">監視和檢索支援包</block>
  <block id="4ff0609d2c162c23c5b740871050dda7" category="paragraph">使用任一方法建立支援包後，您可以監視其產生進度並將其檢索到本機系統。</block>
  <block id="8aadefe9cc0cc86a02267b80b207f617" category="list-text">等待<block ref="f9826424ec573cdc9bb51c0f5cb897b0" prefix=" " category="inline-code"></block>到達<block ref="07ca5050e697392c9ed47e6453f1453f" prefix=" " category="inline-code"></block>狀態。您可以使用以下命令監控產生進度：</block>
  <block id="3bea11acf8836689dcfed98dab0d1b2e" category="list-text">將支援包檢索到您的本機系統。從已完成的AutoSupport套件中取得複製指令：</block>
  <block id="ada844bd6c6a80bfce3dc4e9178eef4a" category="paragraph">找到<block ref="768c4e4d1692df1d92007f61dbeb0a6a" prefix=" " category="inline-code"></block>從輸出中讀取命令並運行它，將目標參數替換為您首選的本機目錄。</block>
  <block id="4351048276414d4fad273a0c7ad9f491" category="summary">如果您的環境符合要求，您可以依照下列步驟安裝Trident Protect。</block>
  <block id="9ee0b57319616120eef37546fa8e4c42" category="doc">安裝並設定Trident Protect</block>
  <block id="dc48a335c2095fb6a79ee14ee62b4806" category="paragraph">如果您的環境符合Trident Protect 的要求，您可以依照下列步驟在叢集上安裝Trident Protect。您可以從NetApp取得Trident Protect，或從您自己的私人註冊表中安裝它。如果您的叢集無法存取互聯網，從私有註冊表安裝會很有幫助。</block>
  <block id="884400bd4c8f5f2b0070bef92b055594" category="section-title">安裝Trident Protect</block>
  <block id="1d5f2a4008fa2c223d0ebc6aea423256" category="open-title">從NetApp安裝Trident Protect</block>
  <block id="35d393329a969d87338f26cd6fe42238" category="list-text">使用 Helm 安裝Trident Protect。代替<block ref="ecc79c99c4f86f0db5cc7f200415205f" prefix=" " category="inline-code"></block>集群名稱將分配給集群，並用於標識集群的備份和快照：</block>
  <block id="f1db582519ebcfcc20d90e41c0c5e9cc" category="open-title">從私人註冊表安裝Trident Protect</block>
  <block id="73dac5f92be0a06ecbcb1b8139b40593" category="paragraph">如果您的 Kubernetes 叢集無法存取互聯網，您可以從私人鏡像倉庫安裝Trident Protect。在這些範例中，請將括號中的值替換為您環境中的資訊：</block>
  <block id="dfb8cfd789dde682f000a96e0aabb1f1" category="list-text">將以下鏡像拉取到本地計算機，更新標籤，然後將其推送到您的私有鏡像倉庫：</block>
  <block id="2dcd4437dbff8aff3bc16ac15a71b74d" category="list-text">建立Trident Protect 系統命名空間：</block>
  <block id="e0f6b701766eb28d805d7ba1e820f582" category="list-text">登入註冊表：</block>
  <block id="814565bb5d7e7359fff967986fd4195a" category="list-text">建立用於私有註冊表驗證的拉取金鑰：</block>
  <block id="c8dac6733f0c00d0b3b8b239841a0255" category="list-text">建立一個名為的文件<block ref="5744e710490761bdd5b4603b9b0487a7" prefix=" " category="inline-code"></block>。請確保其中包含以下Trident Protect 設定：</block>
  <block id="b8c29704f9b86600d95c1c0c4d902455" category="list-text">使用 Helm 安裝Trident Protect。代替<block ref="b90b2ffedb63ca3bd8795caf4397715e" prefix=" " category="inline-code"></block>集群名稱將分配給集群，並用於標識集群的備份和快照：</block>
  <block id="86e8b34710172d33dcae839e1f4dd07e" category="summary">您可以透過建立應用程式 CR 和關聯的 AppVault CR，讓Trident Protect 能夠識別您想要管理的應用程式。</block>
  <block id="bf4313699bccd15d73aa8653cfdfd754" category="doc">使用Trident Protect 定義管理應用程式</block>
  <block id="1e10d655f5307ce7f79aeee68a9e72f3" category="paragraph">您可以透過建立應用程式 CR 和關聯的 AppVault CR 來定義要使用Trident Protect 管理的應用程式。</block>
  <block id="58bd941b0268654136e17a3f6361fa75" category="section-title">建立 AppVault CR</block>
  <block id="f5ddee36f3439fbf6875de509925b804" category="inline-link-macro">AppVault 自訂資源。</block>
  <block id="2c2c79b6a4bc3f3b90fed9b96ab44d05" category="paragraph">您需要建立一個 AppVault CR，該 CR 將在對應用程式執行資料保護操作時使用，並且 AppVault CR 需要位於安裝了Trident Protect 的叢集上。  AppVault CR 是針對您的特定環境的；有關 AppVault CR 的範例，請參閱：<block ref="7e7838343a821a01b97d2b866c568a54" category="inline-link-macro-rx"></block></block>
  <block id="2fd92693952062fc00d949899370185d" category="section-title">定義應用程式</block>
  <block id="da305154e58c2f6709cee1cca6b2d8c8" category="paragraph">您需要定義要使用Trident Protect 管理的每個應用程式。您可以透過手動建立應用程式 CR 或使用Trident Protect CLI 來定義要管理的應用程式。</block>
  <block id="7eb786201a1068df31c2a8d7805c50bf" category="open-title">使用 CR 新增應用程式</block>
  <block id="b4b10aa7102ef4de9ba1d5672445c895" category="list-text">建立目標應用程式 CR 檔案：</block>
  <block id="0f14679ea6b53d676a4e19300d32937e" category="list-text">建立自訂資源 (CR) 檔案並將其命名為（例如，<block ref="6e1c6964e1bb7e391ff353b09e122d80" prefix=" " category="inline-code"></block> ）。</block>
  <block id="3b96edf2a12486fc5d9dfaf7e692cdfc" category="list-text">*metadata.name*: (_必填_) 應用程式自訂資源的名稱。請注意您選擇的名稱，因為保護操作所需的其他 CR 檔案會引用此值。</block>
  <block id="244fede3edf8f2ab57f281d777777961" category="list-text">*spec.includedNamespaces*: (_必要_) 使用命名空間和標籤選擇器來指定應用程式使用的命名空間和資源。應用程式命名空間必須包含在此清單中。標籤選擇器是可選的，可用來篩選每個指定命名空間內的資源。</block>
  <block id="cc8aa03bb88101c1901ab425b29a1901" category="list-text">*spec.includedClusterScopedResources*: (_可選_) 使用此屬性指定要包含在應用程式定義中的叢集範圍資源。此屬性可讓您根據資源的群組、版本、種類和標籤來選擇這些資源。</block>
  <block id="eba6898a839f426c3106a97f94614eb9" category="list-text">*groupVersionKind*: (_必要_) 指定叢集範圍資源的 API 群組、版本和類型。</block>
  <block id="8d8a8010684a930aa7760c829cad4141" category="list-text">*labelSelector*: (_可選_) 依照標籤篩選叢集範圍的資源。</block>
  <block id="029d1c6e95e08907e4a8d285674ab46b" category="inline-link-macro">全球Trident保護凍結設置</block>
  <block id="f0c05ba588826dcd6ebd5a2b3796d458" category="list-text">*metadata.annotations.protect.trident.netapp.io/skip-vm-freeze*: (_可選_) 此註解僅適用於從虛擬機定義的應用程序，例如 KubeVirt 環境，其中檔案系統凍結發生在快照之前。指定此應用程式在快照期間是否可以寫入檔案系統。如果設定為 true，應用程式將忽略全域設置，並且可以在快照期間寫入檔案系統。如果設定為 false，應用程式將忽略全域設置，並且在快照期間檔案系統將被凍結。如果指定了註解，但應用程式定義中沒有虛擬機，則忽略該註解。如未特別說明，則申請流程如下：<block ref="61895e61fe23c9afb5a69eafa8d9b7ba" category="inline-link-macro-rx"></block> 。</block>
  <block id="1fdb8b98325df025bfd256fc475c0986" category="paragraph">如果需要在應用程式建立後套用此註解，可以使用以下命令：</block>
  <block id="2508b93e69f47b3a094284dbdc9a09de" category="list-text">（可選）新增篩選條件，包含或排除帶有特定標籤的資源：</block>
  <block id="b4d332d25d8164d8387707934254781d" category="admonition">當兩者<block ref="a25777d0a6883efb33950a7cd7a8f9b9" prefix=" " category="inline-code"></block>和<block ref="2021b5ec814a388ca04af6c6d6c2d16f" prefix=" " category="inline-code"></block>被使用，<block ref="a25777d0a6883efb33950a7cd7a8f9b9" prefix=" " category="inline-code"></block>先運行，然後<block ref="2021b5ec814a388ca04af6c6d6c2d16f" prefix=" " category="inline-code"></block>應用於生成的資源。</block>
  <block id="964ba319e15e38c5b0f3ee2a3dd4a8f8" category="list-text">建立與您的環境相符的應用程式變更要求後，請套用該變更要求。例如：</block>
  <block id="edb32c41feaaffb2d7ff10dac9d80312" category="open-title">使用 CLI 新增應用程式</block>
  <block id="221764e612f482dbef981bc478028287" category="list-text">使用以下範例之一建立並應用應用程式定義，將括號中的值替換為您環境中的資訊。您可以使用逗號分隔的列表，並在範例中顯示參數，將命名空間和資源包含在應用程式定義中。</block>
  <block id="50b08150a783c8c645d4ae11790366e3" category="paragraph">建立應用程式時，您可以選擇使用註解來指定應用程式在快照期間是否可以寫入檔案系統。這僅適用於從虛擬機定義的應用程序，例如 KubeVirt 環境，其中檔案系統凍結發生在快照之前。如果您將註釋設定為<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>該應用程式忽略全域設置，可以在快照期間寫入檔案系統。如果你把它設定為<block ref="68934a3e9455fa72420237eb05902327" prefix=" " category="inline-code"></block>該應用程式忽略全域設置，導致檔案系統在快照期間凍結。如果使用了註解，但應用程式定義中沒有虛擬機，則該註解將被忽略。如果您不使用註解，應用程式將遵循以下規則：<block ref="61895e61fe23c9afb5a69eafa8d9b7ba" category="inline-link-macro-rx"></block> 。</block>
  <block id="26f08cf1da862c1ae831c562f3621d09" category="paragraph">在使用 CLI 建立應用程式時，若要指定註解，可以使用以下方法：<block ref="3164592cacced1f14eeb788e764306a8" prefix=" " category="inline-code"></block>旗幟。</block>
  <block id="1ab026b6049460749549c7e94872c903" category="list-text">建立應用程式並使用檔案系統凍結行為的全域設定：</block>
  <block id="5c69fd9a5297da7a82e38395fe1ca096" category="list-text">建立應用程式並配置本機應用程式設定以控製檔案系統凍結行為：</block>
  <block id="6b556cca1436ef5909ccaa59f5aae989" category="paragraph">您可以使用<block ref="e80c5db95c437e3b5acee80112bd1f1a" prefix=" " category="inline-code"></block>和<block ref="484f02b530e920abf065e3f27b7a6d80" prefix=" " category="inline-code"></block>用於根據以下條件包含或排除資源的標誌<block ref="303a9ae359153efd5b4c1067cd875175" prefix=" " category="inline-code"></block>例如群組、類型、版本、標籤、名稱和命名空間，如下例所示：</block>
  <block id="0ef657dffb550796349fff7260ee7b1f" category="summary">您可以將備份或快照資料還原到不同的叢集或儲存類別。</block>
  <block id="b6a8ee5a5280d899b4ea1be0f8697335" category="doc">使用Trident Protect 遷移應用程式</block>
  <block id="e2cc5e54cd44b8315b1324dec48b3d79" category="paragraph">您可以透過還原備份資料在叢集之間或不同的儲存類別之間遷移您的應用程式。</block>
  <block id="85ff05ce333a3cc83e4b1bece0b1a885" category="admonition">遷移應用程式時，為該應用程式配置的所有執行鉤子都會隨應用程式一起遷移。如果存在恢復後執行鉤子，它將作為恢復操作的一部分自動運行。</block>
  <block id="dea2f94d534ebdd522c0137cd11f63bf" category="section-title">備份和復原作業</block>
  <block id="b21f1727ed04fb70c8e47cb11cdfb2bb" category="paragraph">針對以下場景，您可以自動執行特定的備份和復原任務，以執行備份和復原作業。</block>
  <block id="a9764be0f1589c38e0a7df19889c7d63" category="section-title">克隆到同一群集</block>
  <block id="5a9889aaf704b3737fe054ecabd850fc" category="paragraph">若要將應用程式複製到同一個集群，請建立快照或備份，然後將資料還原到同一個集群。</block>
  <block id="365d382b2d9ecca9b0d40171c69b38ff" category="list-text">執行下列操作之一：</block>
  <block id="af9c364e0933200b7b8c1e7e13947ccf" category="inline-link-macro">建立快照</block>
  <block id="a73aa64574ccfae0cf05d9da96bd1301" category="list-text"><block ref="e078308a27dcac975eec5d2adaa1104c" category="inline-link-macro-rx"></block>。</block>
  <block id="f99b69945a176ffbedac86a22cf6c413" category="inline-link-macro">建立備份</block>
  <block id="d0b37af201761eb2698b45f7c3f6d0d8" category="list-text"><block ref="7d9cd4227c8376552577f7b664ce81bb" category="inline-link-macro-rx"></block>。</block>
  <block id="cf36005406fb9e7864efedea0a35a8a0" category="list-text">在同一群集上，根據您建立的是快照還是備份，執行下列其中一項：</block>
  <block id="2d173330624878d1a02dc399b82aa10b" category="inline-link-macro">從快照恢復數據</block>
  <block id="00b559822f9df33b751ce11389fb7c7a" category="list-text"><block ref="137b81ae6c60df62029e75ad69c6bacd" category="inline-link-macro-rx"></block>。</block>
  <block id="1c7b9a68982aa2ad5f1d69eeb5bdf99e" category="inline-link-macro">從備份中恢復數據</block>
  <block id="e27031b9d0bffffcf2abd2136eed21f5" category="list-text"><block ref="71bc4096317f8eb78a9951851bc1165b" category="inline-link-macro-rx"></block>。</block>
  <block id="403ecb1db6fa0f1bb20e787bb5f5dacd" category="section-title">克隆到不同的集群</block>
  <block id="fd8585ec0c8ba7001713251f9ab9c69e" category="paragraph">若要將應用程式複製到不同的叢集（執行跨叢集克隆），請在來源叢集上建立備份，然後將備份還原到不同的叢集。確保目標叢集上安裝了Trident保護。</block>
  <block id="a1f41e52e9ddbd9f87ecd032c237b1c0" category="inline-link-macro">SnapMirror複製</block>
  <block id="f6acb98f21e25882aaaa267339abcc92" category="admonition">您可以使用以下方法在不同的叢集之間複製應用程式<block ref="69314cba6d14bf88b8e850c978056766" category="inline-link-macro-rx"></block>。</block>
  <block id="fe961357dbe4b6bf8b5503f4919ea35c" category="list-text">確保目標叢集上已配置包含備份的物件儲存桶的 AppVault CR。</block>
  <block id="baafbccab17d07f9ba18e7becb7c76d2" category="inline-link-macro">從備份中恢復數據</block>
  <block id="878bbf0662ed19ef900e4e06bfad92d2" category="list-text">在目標集群上，<block ref="11860f9f3ec51316f8ebc9805806b6cd" category="inline-link-macro-rx"></block> 。</block>
  <block id="181aa092ab965b34bcee90e25056f876" category="section-title">將應用程式從一個儲存類別遷移到另一個儲存類</block>
  <block id="259898c4a16b145b9fb12c18949c2e58" category="paragraph">您可以透過將備份還原到目標儲存類，將應用程式從一個儲存類別遷移到另一個儲存類別。</block>
  <block id="f1ad7bca566917ee78958caa78fab3f5" category="paragraph">例如（不包括恢復 CR 中的金鑰）：</block>
  <block id="daf2d2aebeca09dea5ece5c9c1513383" category="open-title">使用 CR 恢復快照</block>
  <block id="a35b06511e032bee46bbed064afa12dc" category="list-text">建立自訂資源 (CR) 檔案並將其命名為<block ref="fac6dff7f801a4983f4a536dbcbd40d7" prefix=" " category="inline-code"></block>。</block>
  <block id="3585700696abe40ccc0973202ddace0a" category="list-text">在您建立的文件中，配置以下屬性：</block>
  <block id="ac6cdb13ccdd5d0ac3195b3301db572c" category="list-text">*spec.appArchivePath*: AppVault 內儲存快照內容的路徑。您可以使用以下命令尋找此路徑：</block>
  <block id="d2e7f59eea5f95f37b023a243745727d" category="list-text">*spec.appVaultRef*: (_必要_) 儲存快照內容的 AppVault 的名稱。</block>
  <block id="33dc1feba43183f93ade318576611f4a" category="list-text">*spec.namespaceMapping*：恢復作業的來源命名空間到目標命名空間的對應。代替<block ref="a6f7f0a873c27a67ee3194949076866b" prefix=" " category="inline-code"></block>和<block ref="2cfb071d6be7d4cf9e297100f62858fe" prefix=" " category="inline-code"></block>利用來自周圍環境的資訊。</block>
  <block id="12ed8140e585382bd7caee15c2ebb002" category="list-text">如果您需要僅選擇要復原的應用程式的某些資源，則可以新增篩選條件，以包含或排除具有特定標籤的資源：</block>
  <block id="15212a55e2108abef019ef0de4a2d413" category="list-text">*resourceFilter.resourceSelectionCriteria*：（篩選時必備）使用<block ref="0daf9ee05d33b85e4cfc7be473c64e9b" prefix=" " category="inline-code"></block>包含或排除 resourceMatchers 中定義的資源。新增以下 resourceMatchers 參數以定義要包含或排除的資源：</block>
  <block id="bca1b1b2b1a229dc37dffa4f7012c02d" category="list-text">填寫完後<block ref="fac6dff7f801a4983f4a536dbcbd40d7" prefix=" " category="inline-code"></block>將檔案的值正確後，套用 CR：</block>
  <block id="ffe607ccb2c74bd77fcfcd7f0ff7691e" category="open-title">使用 CLI 恢復快照</block>
  <block id="a77b4ff586cfbf08c54732a1ced52e4f" category="list-text">將快照還原到不同的命名空間，並將括號中的值替換為您環境中的資訊。</block>
  <block id="4f7a601ab79eb07bd8f0460d0e4ebccf" category="list-text">這<block ref="c322d3de29d2b0c5e2e011dad5e77df2" prefix=" " category="inline-code"></block>參數使用命名空間和快照名稱，格式如下<block ref="7310980de32cd5ca687291f4b01b2e19" prefix=" " category="inline-code"></block>。</block>
  <block id="9a3152a9bfe0e487c80e9e42ee22e9f0" category="list-text">這<block ref="65e11896cb6b19f7dcb2432e67c74725" prefix=" " category="inline-code"></block>此參數使用冒號分隔的命名空間，將來源命名空間對應到正確的目標命名空間，格式如下：<block ref="07c70c21dcae158a4b2f0d389a52981b" prefix=" " category="inline-code"></block> 。</block>
  <block id="3909674c7e76459d193fe9c27f127cbf" category="summary">使用自動保護策略或臨時方法，透過建立快照和備份來保護所有應用程式。</block>
  <block id="da1046077b664fa54e4894632960137d" category="paragraph">您可以使用自動保護策略或臨時保護策略，透過拍攝快照和備份來保護Trident Protect 管理的所有應用程式。</block>
  <block id="e27f117e119beccd01579e6a8d0151fb" category="inline-link-macro">了解更多關於使用Trident Protect 設定檔系統凍結的信息</block>
  <block id="9efebf2c277b6c382e759b6b916fd0dd" category="admonition">您可以設定Trident Protect 在資料保護作業期間凍結和解凍檔案系統。<block ref="d0a15703ee89b8fa8b780fb2dbace2bd" category="inline-link-macro-rx"></block>。</block>
  <block id="2530ad97c013f5d8d9c69004a4e7ee67" category="section-title">建立按需快照</block>
  <block id="9bbdcd6083ca1f29424ab7d4e6e6d3f5" category="paragraph">您可以隨時建立按需快照。</block>
  <block id="c2c21ce64dd4770c44c8642d322a5424" category="admonition">如果叢集範圍的資源在應用程式定義中被明確引用，或被引用到任何應用程式命名空間，則這些資源將包含在備份、快照或複製中。</block>
  <block id="ca5d8da21766c0b74083bb89d9b98f19" category="open-title">使用 CR 建立快照</block>
  <block id="d3455b82ff23d66412cff307dea26e95" category="list-text">建立自訂資源 (CR) 檔案並將其命名為<block ref="30f7bac2bbe029d2d24e82f27526854c" prefix=" " category="inline-code"></block>。</block>
  <block id="14c5017706ef7ba38dbfced0b670f7e4" category="list-text">*spec.applicationRef*: 要建立快照的應用程式的 Kubernetes 名稱。</block>
  <block id="92c5bebe15e018e9b60ed9fa2a5d7736" category="list-text">*spec.appVaultRef*: (_必要_) 應儲存快照內容（元資料）的 AppVault 的名稱。</block>
  <block id="a9860c462819471295facd0a13fc4275" category="list-text">*spec.reclaimPolicy*: (_可選_) 定義當快照 CR 刪除時，快照的 AppArchive 會發生什麼情況。這意味著即使設定為<block ref="afece4245269582cb2f1009d4fb52047" prefix=" " category="inline-code"></block>快照將會被刪除。有效選項：</block>
  <block id="ff5ca6a0665c8d286d507fe36b867e1c" category="list-text"><block ref="afece4245269582cb2f1009d4fb52047" prefix="" category="inline-code"></block>(預設)</block>
  <block id="c009f85498c5a7a2db78e1874e6dd4b1" category="list-text"><block ref="f2a6c498fb90ee345d997f888fce3b18" prefix="" category="inline-code"></block></block>
  <block id="e405f936b8c322965ea5098c0dbead5e" category="list-text">填寫完後<block ref="30f7bac2bbe029d2d24e82f27526854c" prefix=" " category="inline-code"></block>將檔案的值正確後，套用 CR：</block>
  <block id="70e7d17c41da1ec8002b8b8735b5d0b2" category="open-title">使用 CLI 建立快照</block>
  <block id="210011bd2b9ec4d5301f86e4a42cd17a" category="list-text">建立快照，將括號中的值替換為您環境中的資訊。例如：</block>
  <block id="6c4e6d5940a93fcf9cfb1c5d53280da3" category="section-title">建立按需備份</block>
  <block id="f874973a64b67b3f5a5bb3aa28c5ed12" category="paragraph">您可以隨時備份應用程式。</block>
  <block id="e0babda055ca7a962e4010e772393eb7" category="open-title">使用 CR 建立備份</block>
  <block id="adfd482111138eb2dfed01cdbaf4bead" category="list-text">建立自訂資源 (CR) 檔案並將其命名為<block ref="a130741c8dff3b771a616715e2390607" prefix=" " category="inline-code"></block>。</block>
  <block id="888ea90f9844794ae90f13cbee8b341f" category="list-text">*spec.applicationRef*: (_必要_) 要備份的應用程式的 Kubernetes 名稱。</block>
  <block id="df4c9919e99b5b20e10644af2e6480e1" category="list-text">*spec.appVaultRef*: (_必要_) 應儲存備份內容的 AppVault 的名稱。</block>
  <block id="2c5daece4baabe00a1e913f6f4248b54" category="list-text">*spec.dataMover*: (_可選_) 指示要用於備份作業的備份工具的字串。可能的值（區分大小寫）：</block>
  <block id="2baffe938961bfb9edd7d7ddfd52e2e1" category="list-text"><block ref="5f1c05bdfa0fa9da52e78fce65f0891a" prefix="" category="inline-code"></block></block>
  <block id="02c4383beef4fc06361dc4ef7bd9762a" category="list-text"><block ref="d112b025f416527f157666baac7d0ff7" prefix="" category="inline-code"></block>(預設)</block>
  <block id="5a848fb25ba88be36b674bded99badbd" category="list-text">*spec.reclaimPolicy*: (_可選_) 定義從其聲明中釋放備份時會發生什麼。可能的值：</block>
  <block id="13001655f60b86601d45076ffb7e8cb4" category="list-text">*spec.snapshotRef*: (_可選_): 要用作備份來源的快照名稱。如果未提供，則會建立並備份臨時快照。</block>
  <block id="ba2af206b00fb98d583a5fe7908af2cc" category="list-text">*metadata.annotations.protect.trident.netapp.io/full-backup* : (_可選_) 此註解用於指定備份是否應為非增量備份。預設情況下，所有備份都是增量的。但是，如果此註釋設定為<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>這樣，備份就變成了非增量備份。如果未指定，備份將遵循預設的增量備份設定。最佳實踐是定期執行完整備份，然後在兩次完整備份之間執行增量備份，以最大限度地降低與復原相關的風險。</block>
  <block id="e3cdcd12b4f53ac42049007406401d18" category="list-text">填寫完後<block ref="a130741c8dff3b771a616715e2390607" prefix=" " category="inline-code"></block>將檔案的值正確後，套用 CR：</block>
  <block id="4dd48cffc8290e0b33e5c4ee6ddc6dbb" category="open-title">使用命令列建立備份</block>
  <block id="25ccf268b4f889fe28d3f3de94aace02" category="list-text">建立備份，將括號中的值替換為您環境中的資訊。例如：</block>
  <block id="93b1107cde6ba041513cd9ccf7b4bae0" category="paragraph">您也可以選擇使用<block ref="53f5240b338c91a0568f15e2562a35de" prefix=" " category="inline-code"></block>用於指定備份是否應為非增量備份的標誌。預設情況下，所有備份都是增量的。使用此標誌後，備份將變為非增量備份。最佳實踐是定期執行完整備份，然後在兩次完整備份之間執行增量備份，以最大限度地降低與復原相關的風險。</block>
  <block id="451d39e79b7f4418d96b486e79bbce7d" category="section-title">制定資料保護計劃</block>
  <block id="4efb4e385545dd4fb4a8cf16e5ef7763" category="paragraph">保護策略透過按照定義的計劃建立快照、備份或兩者來保護應用程式。您可以選擇每小時、每天、每周和每月建立快照和備份，並可以指定要保留的副本數量。您可以使用 full-backup-rule 註解來排程非增量式完整備份。預設情況下，所有備份都是增量的。定期執行完整備份以及其間的增量備份有助於降低與復原相關的風險。</block>
  <block id="71f68550bd8133367f60c4ea58f6680d" category="list-text">您只能透過設定來建立快照計劃。<block ref="90d510783632c9f8604cd880d9f84137" prefix=" " category="inline-code"></block>歸零和<block ref="460d2880d85882a9c98985b9b97c15f8" prefix=" " category="inline-code"></block>取大於零的值。環境<block ref="460d2880d85882a9c98985b9b97c15f8" prefix=" " category="inline-code"></block>將快照值設為零表示任何排程備份仍會建立快照，但這些快照是暫時的，會在備份完成後立即刪除。</block>
  <block id="1f3ba9ee33f6eeade259b37d0a9d4295" category="open-title">使用變更請求 (CR) 建立計劃。</block>
  <block id="0e94d109e3c6dd8f63d25b03253b5d5b" category="list-text">建立自訂資源 (CR) 檔案並將其命名為<block ref="8b0c6e1f32e0c117335dedae62b11dba" prefix=" " category="inline-code"></block>。</block>
  <block id="fd3508664419c1ac5449e5dc6073188b" category="list-text">*spec.applicationRef*: 要備份的應用程式的 Kubernetes 名稱。</block>
  <block id="183c1f11eb5fcbc4a480f1ed7ec6315d" category="list-text">*spec.backupRetention*：要保留的備份數量。零表示不應建立備份（僅快照）。</block>
  <block id="53ea99d8bfae17bb8fc2186524166892" category="list-text">*spec.snapshotRetention*：要保留的快照數量。零表示不建立任何快照。</block>
  <block id="da9137c7fbfdc9b7f02e3ca8def0431d" category="list-text">*spec.granularity*: 計畫運行的頻率。可能的值以及所需的關聯欄位：</block>
  <block id="50b9f8f4650a278b466928c2105fc23a" category="list-text"><block ref="769cb50c95fd3a43c659aa73aba99e5b" prefix="" category="inline-code"></block>（需要您指定）<block ref="aadd5cec42dbc02d51f62a1095401f59" prefix=" " category="inline-code"></block> ）</block>
  <block id="03b866ae4a8a50619a4126154196606b" category="list-text"><block ref="c512b685438f41daa7386329a3b8f8d3" prefix="" category="inline-code"></block>（需要您指定）<block ref="aadd5cec42dbc02d51f62a1095401f59" prefix=" " category="inline-code"></block>和<block ref="9199af27775b1a2a876e6d7b25540711" prefix=" " category="inline-code"></block>）</block>
  <block id="2cfd34c47c4dbe46650e40185474bd21" category="list-text"><block ref="6c25e6a6da95b3d583c6ec4c3f82ed4d" prefix="" category="inline-code"></block>（需要您指定）<block ref="d5870327522a71f5b75f9d3793d0dc97" prefix=" " category="inline-code"></block> ， 和<block ref="4a04848e0e6e9423892ebc93ae61842d" prefix=" " category="inline-code"></block>）</block>
  <block id="e36f4a95a41882feb14dd016e82700bc" category="list-text"><block ref="9030e39f00132d583da4122532e509e9" prefix="" category="inline-code"></block>（需要您指定）<block ref="d5870327522a71f5b75f9d3793d0dc97" prefix=" " category="inline-code"></block> ， 和<block ref="9a7606959f42328ceeef95d70c353158" prefix=" " category="inline-code"></block>）</block>
  <block id="8461dc1f0cf640973db2ba7288efba21" category="list-text"><block ref="90589c47f06eb971d548591f23c285af" prefix="" category="inline-code"></block></block>
  <block id="85b77ce1b7f65fe79fd40e5b53ba60f5" category="list-text">*spec.dayOfMonth*：（可選）計畫應運行的月份日期（1 - 31）。如果粒度設定為，則此欄位為必填項。<block ref="9030e39f00132d583da4122532e509e9" prefix=" " category="inline-code"></block> 。該值必須以字串形式提供。</block>
  <block id="c3d0b5531d946d2ff5d8deeeec3e7984" category="list-text">*spec.dayOfWeek*：（可選）計畫應運行的星期幾（0 - 7）。值 0 或 7 表示星期日。如果粒度設定為，則此欄位為必填項。<block ref="6c25e6a6da95b3d583c6ec4c3f82ed4d" prefix=" " category="inline-code"></block> 。該值必須以字串形式提供。</block>
  <block id="6bacf4f9c6600aa7f82b6f6b4f8a85e0" category="list-text">*spec.hour*：（可選）計畫應運行的小時數（0 - 23）。如果粒度設定為，則此欄位為必填項。<block ref="c512b685438f41daa7386329a3b8f8d3" prefix=" " category="inline-code"></block> ，<block ref="6c25e6a6da95b3d583c6ec4c3f82ed4d" prefix=" " category="inline-code"></block> ， 或者<block ref="9030e39f00132d583da4122532e509e9" prefix=" " category="inline-code"></block>。該值必須以字串形式提供。</block>
  <block id="7793fda5cb73b26f1ecdca11dcd1383e" category="list-text">*spec.minute*：（可選）計畫應運行的小時中的分鐘數（0 - 59）。如果粒度設定為，則此欄位為必填項。<block ref="769cb50c95fd3a43c659aa73aba99e5b" prefix=" " category="inline-code"></block> ，<block ref="c512b685438f41daa7386329a3b8f8d3" prefix=" " category="inline-code"></block> ，<block ref="6c25e6a6da95b3d583c6ec4c3f82ed4d" prefix=" " category="inline-code"></block> ， 或者<block ref="9030e39f00132d583da4122532e509e9" prefix=" " category="inline-code"></block>。該值必須以字串形式提供。</block>
  <block id="1770a13eba6600496a86d2f1cf357813" category="list-text">*metadata.annotations.protect.trident.netapp.io/full-backup-rule*: (_可選_) 此註解用於指定安排完整備份的規則。你可以將其設定為<block ref="f9f90eeaf400d228facde6bc48da5cfb" prefix=" " category="inline-code"></block>您可以根據需要進行持續完整備份或自訂備份。例如，如果您選擇按日粒度進行備份，則可以指定應進行完整備份的星期幾。</block>
  <block id="16220401716289e6ffa12bfc49da1d84" category="paragraph">備份和快照計劃的範例 YAML：</block>
  <block id="ce230d4d200ba39549537496edaaef6a" category="paragraph">僅快照計劃的範例 YAML：</block>
  <block id="1326c499c45cd471c6075891c6573130" category="list-text">填寫完後<block ref="8b0c6e1f32e0c117335dedae62b11dba" prefix=" " category="inline-code"></block>將檔案的值正確後，套用 CR：</block>
  <block id="6bb2ab2bbc2b0f3f5faec961628f6f4b" category="open-title">使用 CLI 建立計劃任務</block>
  <block id="95e2bfc6f531a05575927e45b0a34558" category="list-text">建立保護計劃，將括號中的值替換為您環境中的資訊。例如：</block>
  <block id="0708d6413707329d6051a0456f0810ac" category="admonition">您可以使用<block ref="deb04333ae980bc0147681e476e1941c" prefix=" " category="inline-code"></block>查看此命令的詳細協助資訊。</block>
  <block id="ab5807fb06fd654f730a4ed5a02bb950" category="paragraph">您可以設定<block ref="61df7cc86eb24ab1300f0e74e74bb50c" prefix=" " category="inline-code"></block>標記<block ref="f9f90eeaf400d228facde6bc48da5cfb" prefix=" " category="inline-code"></block>您可以根據需要進行持續完整備份或自訂備份。例如，如果您選擇按天粒度進行備份，則可以指定應在哪些工作天進行完整備份。例如，使用<block ref="d416cce9d6bcb838c8958b9fbb84dffa" prefix=" " category="inline-code"></block>安排每週一和週四進行全面備份。</block>
  <block id="19c776919085070d66d199dd494adbbf" category="paragraph">對於僅快照計劃，請設定<block ref="39c61d5d6dee0f5540cfcb77307edd90" prefix=" " category="inline-code"></block>並指定一個大於 0 的值<block ref="2c3fac80fc69264c6dbace5f18065639" prefix=" " category="inline-code"></block>。</block>
  <block id="efb44cfe1d5b8d9954ea045385675c66" category="section-title">刪除快照</block>
  <block id="a37bf6328466dc531288498c6041de5f" category="paragraph">刪除不再需要的已排程或按需快照。</block>
  <block id="3eb928cdf7a13317d47b6aff6e1777bc" category="list-text">刪除與快照關聯的快照 CR：</block>
  <block id="cb2cecbd9776fc0c17c7929541fe9404" category="section-title">刪除備份</block>
  <block id="2072fc95a1bd08ae58a002d5b61a84d0" category="paragraph">刪除不再需要的計劃備份或按需備份。</block>
  <block id="396e0c641a3eb6083fa0ba7badcff8ac" category="admonition">確保回收策略設定為<block ref="f2a6c498fb90ee345d997f888fce3b18" prefix=" " category="inline-code"></block>從物件儲存中刪除所有備份資料。此策略的預設為：<block ref="afece4245269582cb2f1009d4fb52047" prefix=" " category="inline-code"></block>避免意外資料遺失。如果政策不改變<block ref="f2a6c498fb90ee345d997f888fce3b18" prefix=" " category="inline-code"></block>備份資料將保留在物件儲存中，需要手動刪除。</block>
  <block id="7b30bbf41be45c1c70a68e6dd971d83a" category="list-text">刪除與備份關聯的備份 CR：</block>
  <block id="b4907a30deb60cd2f8ea2856235ce4d7" category="section-title">檢查備份作業的狀態</block>
  <block id="b030755f5014f11eb86aee527d4ef872" category="paragraph">您可以使用命令列來檢查正在進行、已完成或已失敗的備份作業的狀態。</block>
  <block id="83fe182363ccdea33046e538aec4ac23" category="list-text">使用以下命令檢索備份作業的狀態，將方括號中的值替換為您環境中的資訊：</block>
  <block id="bdd3c7731ba2eae7059bfebd0d56c7e3" category="section-title">啟用 Azure NetApp 檔案 (ANF) 作業的備份和還原</block>
  <block id="e9730662640f8238dbf4ed30d6292ecb" category="paragraph">如果您已安裝Trident Protect，則可以為使用 azure-netapp-files 儲存類別且在Trident 24.06 之前建立的儲存後端啟用節省空間的備份和還原功能。此功能適用於 NFSv4 卷，並且不會佔用容量池中的額外空間。</block>
  <block id="a3ba5a3fd33b03f148e52fd833cda7c3" category="paragraph">確保以下事項：</block>
  <block id="a6cdb2021351db573212b98138416717" category="list-text">您已安裝Trident Protect。</block>
  <block id="1b56af5799cb507ae72605b020a620df" category="list-text">您已在Trident Protect中定義了一個應用程式。在您完成此步驟之前，此應用程式的保護功能將受到限制。</block>
  <block id="a9910fb38baec2aa849c3ea6191b1cf9" category="list-text">你有<block ref="bc5779a2d33eeb1304bae57f15920cfc" prefix=" " category="inline-code"></block>已選為儲存後端的預設儲存類別。</block>
  <block id="579cc8ac85c74501fbfa1bac4d013c1f" category="example-title">展開檢視設定步驟</block>
  <block id="b1927eae954479de09c736cae4ed08dd" category="list-text">如果 ANF 磁碟區是在升級到Trident 24.10 之前建立的，請在Trident中執行以下操作：</block>
  <block id="119a6ab21356c173b517e4baf8ab21d3" category="list-text">為每個基於 azure-netapp-files 且與應用程式關聯的 PV 啟用快照目錄：</block>
  <block id="9cb0a94d3b3051cae7cda63d4c5aa1d6" category="list-text">確認已為每個關聯的 PV 啟用快照目錄：</block>
  <block id="54472d1da4b0c6eadf8684e846b25dcc" category="paragraph">回覆:</block>
  <block id="77c9498d5c74a08af1c5918bd5fd8ee1" category="paragraph">如果未啟用快照目錄， Trident Protect 會選擇常規備份功能，這會在備份過程中暫時佔用容量池中的空間。在這種情況下，請確保容量池中有足夠的空間來建立​​與被備份磁碟區大小相同的臨時磁碟區。</block>
  <block id="2efd4c8775ce47d6aa29183091d2a4e2" category="paragraph">該應用程式已準備好使用Trident Protect 進行備份和還原。每個 PVC 也可供其他應用程式用於備份和還原。</block>
  <block id="697f51e8965440d487236d46d469510d" category="summary">首先，請驗證您的運行環境、應用程式叢集、應用程式和授權是否已準備就緒。請確保您的環境符合部署和執行Trident Protect 的這些要求。</block>
  <block id="dc5b2d9ecd49d3e5ee37059e2d80512f" category="section-title">Trident保護 Kubernetes 叢集相容性</block>
  <block id="c8f91050b5ec3e677d9c7e16e424f9bc" category="paragraph">Trident Protect 與各種完全託管和自架的 Kubernetes 產品相容，包括：</block>
  <block id="480c9b5f979d1ce95ea2a58b09826d1b" category="list-text">亞馬遜彈性 Kubernetes 服務 (EKS)</block>
  <block id="974030a30a48754684d05541fd5e96c9" category="list-text">Google Kubernetes 引擎 (GKE)</block>
  <block id="f3bd1985b243e9691bbbd63c6702344b" category="list-text">Microsoft Azure Kubernetes 服務 (AKS)</block>
  <block id="b175d08ac03101cd40f077848d436e1f" category="list-text">紅帽 OpenShift</block>
  <block id="6577b94f9943e513915919cfd0dc5909" category="list-text">SUSE Rancher</block>
  <block id="c395793804bd9dfa82ff727781faf3c5" category="list-text">VMware Tanzu 產品組合</block>
  <block id="1de3a8db0dcc39abe68ae2b506a8f0ac" category="list-text">上游 Kubernetes</block>
  <block id="1991a9f25a93e75eb693b6e02bc130ed" category="list-text">Trident保護備份僅支援 Linux 計算節點。Windows 運算節點不支援備份作業。</block>
  <block id="9ac0dd27d420b7b48ca72e463ae95e18" category="inline-link">這些說明</block>
  <block id="664d28801abc192d5c7dfd7bfa758e98" category="list-text">確保安裝Trident Protect 的叢集已配置正在執行中的快照控制器和相關的 CRD。若要安裝快照控制器，請參閱<block ref="5d66944a2971d1b9b5f332812a6e737b" category="inline-link-rx"></block>。</block>
  <block id="f6fbfc99b1ed4fcb2dee65355a088f0b" category="section-title">Trident Protect 儲存後端相容性</block>
  <block id="dc754c1df3be627f8c83600f4c69aade" category="paragraph">Trident Protect 支援以下儲存後端：</block>
  <block id="ca3930511e1c5997e851e891e33190ab" category="list-text">ONTAP儲存陣列</block>
  <block id="e254891423d193d0e614eaf948880de5" category="paragraph">請確保您的儲存後端符合以下要求：</block>
  <block id="28b0a2e1fa7af6d4a2a83bc61c130c0f" category="list-text">確保連接到叢集的NetApp儲存裝置使用的是Trident 24.02 或更高版本（建議使用Trident 24.10）。</block>
  <block id="1efa9b79a24750278cc3058eaf2ead00" category="list-text">請確保您擁有NetApp ONTAP儲存後端。</block>
  <block id="c9a524733ac9eb25fbf1980538b5437d" category="list-text">請確保您已配置用於儲存備份的物件儲存桶。</block>
  <block id="953216b11f9b494b0b28bcec605cbea1" category="list-text">建立您計劃用於應用程式或應用程式資料管理作業的任何應用程式命名空間。  Trident Protect 不會為您建立這些命名空間；如果您在自訂資源中指定了不存在的命名空間，則操作將會失敗。</block>
  <block id="f4ce5a5f08fdc6de51b81cc305a21fd0" category="section-title">nas-economy 容量要求</block>
  <block id="85641afe25671a9190f50185f6e499d5" category="paragraph">Trident Protect 支援對 nas-economy 磁碟區進行備份和復原作業。目前不支援將快照、克隆和SnapMirror複製到 nas-economy 磁碟區。您需要為計劃與Trident Protect 一起使用的每個 nas-economy 磁碟區啟用快照目錄。</block>
  <block id="43da051477acee60af3ad54451d3d090" category="paragraph">某些應用程式與使用快照目錄的磁碟區不相容。對於這些應用，您需要透過在ONTAP儲存系統上執行以下命令來隱藏快照目錄：</block>
  <block id="beb2d6f4cedfc5b87a39d1766369fade" category="paragraph">您可以透過對每個 nas-economy 磁碟區執行以下命令來啟用快照目錄，並將命令替換為<block ref="a86374477aa0b3d451812bb6ced0458d" prefix=" " category="inline-code"></block>使用要變更的磁碟區的 UUID：</block>
  <block id="70117c3862b4c793cc80799862e6fde9" category="admonition">您可以透過設定Trident後端設定選項，為新磁碟區預設啟用快照目錄。<block ref="7ad68fdac2eac069eb8ed0fc45b0fb74" prefix=" " category="inline-code"></block>到<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>。現有捲數不受影響。</block>
  <block id="ac84b7596169ab3fb6c24e8a5c85c234" category="section-title">使用 KubeVirt 虛擬機器保護數據</block>
  <block id="3ab436334531996382ccf17d7d3a4d69" category="section-title">SnapMirror複製的要求</block>
  <block id="572a8b759ae44dd81571fb9d11e9932b" category="paragraph">NetApp SnapMirror複製功能可與Trident Protect 搭配使用，適用於下列ONTAP解決方案：</block>
  <block id="701fc71f0daf0d596d98b3af41d195dd" category="list-text">本地部署的NetApp FAS、 AFF和ASA集群</block>
  <block id="00ae925249b1dcd734cdb679b48bf8f7" category="list-text">NetApp ONTAP Select</block>
  <block id="0f0b99ea2f70cd363c2c6a279f74e760" category="list-text">NetApp Cloud Volumes ONTAP</block>
  <block id="9f91d52d37c43ec162560596ac851ec9" category="section-title">ONTAP叢集對SnapMirror複製的要求</block>
  <block id="6ed8f95cb1dcd3baff756120151793a9" category="paragraph">如果您打算使用SnapMirror複製功能，請確保您的ONTAP叢集符合以下要求：</block>
  <block id="089456655f37605dd109f3d8c7ece010" category="list-text">* NetApp Trident *：使用ONTAP作為後端服務的來源 Kubernetes 叢集和目標 Kubernetes 叢集上都必須存在NetApp Trident 。  Trident Protect 支援使用NetApp SnapMirror技術進行複製，該技術使用以下驅動程式支援的儲存類別：</block>
  <block id="070b998f5495f2da2fb3ac5053772d1e" category="list-text"><block ref="8321592ce24c8a122ecf26a63cfca407" prefix="" category="inline-code"></block>：極品飛車</block>
  <block id="48af35aa41f6c14dcd31a429e161cd45" category="list-text"><block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix="" category="inline-code"></block>：iSCSI</block>
  <block id="af09466318992e13530265625ea96e63" category="list-text"><block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix="" category="inline-code"></block>：FC</block>
  <block id="53b96f55224c3a6f51becdf09ad8ffe6" category="list-text"><block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix="" category="inline-code"></block>：NVMe/TCP（最低要求ONTAP版本 9.15.1）</block>
  <block id="ba84728ffba482ceb12371a53be2f636" category="inline-link">ONTAP中的SnapMirror許可概述</block>
  <block id="b677eb65f7f869d18b845725a133a8d5" category="list-text">*許可證*：使用資料保護包的ONTAP SnapMirror非同步許可證必須在來源 ONTAP 叢集和目標ONTAP叢集上啟用。請參閱<block ref="a7b9425cefc4a3715b38951f4b2b6b35" category="inline-link-rx"></block>了解更多。</block>
  <block id="a167444fdea2847400372052380975f2" category="inline-link-macro">ONTAP One 隨附的許可證</block>
  <block id="e25ea621e214708b88885c09ed9b5b9b" category="paragraph">從ONTAP 9.10.1 開始，所有許可證均以NetApp許可證文件 (NLF) 的形式交付，這是一個可以啟用多種功能的單一文件。請參閱<block ref="99e347051ec17074ee747e0bde509d7d" category="inline-link-macro-rx"></block>了解更多。</block>
  <block id="afafd0e230868b7ce6a0a4fcf57ee6d2" category="admonition">僅支援SnapMirror非同步保護。</block>
  <block id="ed097f5d093bf5311313c62bfb2f2d5a" category="section-title">SnapMirror複製的對等連線注意事項</block>
  <block id="a56ca0c4752a7197e296cb9141e9be9f" category="paragraph">如果您打算使用儲存後端對等互連，請確保您的環境符合以下要求：</block>
  <block id="9fecd08b776fdfca7b33426363edf913" category="inline-link">叢集和SVM對等連接概述</block>
  <block id="ddae31913091b421eaff815ed1e19b4f" category="list-text">*叢集和 SVM*： ONTAP儲存後端必須相互連接。請參閱<block ref="36ecaf21e9ca81a83e736deb4ff5c657" category="inline-link-rx"></block>了解更多。</block>
  <block id="94ac6b3955eab183cb88ab17c91000eb" category="admonition">確保兩個ONTAP叢集之間複製關係中使用的 SVM 名稱是唯一的。</block>
  <block id="39741179a069c04c2421056e0f2b56fa" category="list-text">* NetApp Trident和 SVM*：對等遠端 SVM 必須可供目標叢集上的NetApp Trident使用。</block>
  <block id="e05c29680eacd6a4c163eefe138ff9fd" category="list-text">*託管後端*：您需要在Trident Protect 中新增和管理ONTAP儲存後端，以建立複製關係。</block>
  <block id="57fe82c052fea1c269ca2b14e92e80d3" category="section-title">用於SnapMirror複製的Trident / ONTAP配置</block>
  <block id="59292a70a610fc937685ef1c3a3b5cb1" category="paragraph">Trident Protect 要求您至少設定一個支援來源叢集和目標叢集複製的儲存後​​端。如果來源叢集和目標叢集相同，為了獲得最佳彈性，目標應用程式應該使用與來源應用程式不同的儲存後端。</block>
  <block id="62fd283f8b260923bfb8cde9c318b507" category="section-title">SnapMirror複製的 Kubernetes 叢集要求</block>
  <block id="03ba2e33bef23ce0f974f7521e636992" category="paragraph">請確保您的 Kubernetes 叢集符合以下要求：</block>
  <block id="da635a644d2727b18debb9ea48c169b6" category="list-text">*AppVault 可存取性*：來源叢集和目標叢集都必須具有網路存取權限，才能從 AppVault 讀取資料和寫入數據，以實現應用程式物件複製。</block>
  <block id="debae13e33c5f861b21b322eed48bf3f" category="list-text">*網路連線*：設定防火牆規則、儲存桶權限和 IP 允許列表，以啟用兩個叢集和 AppVault 之間透過 WAN 進行通訊。</block>
  <block id="35d8960b4053e461085ad015f6805d14" category="admonition">許多企業環境在廣域網路連線中實施嚴格的防火牆策略。在配置複製之前，請先與您的基礎架構團隊確認這些網路需求。</block>
  <block id="4b92c534580865d96f1efb9f86289249" category="summary">您可以使用Trident Protect 從快照或備份中還原您的應用程式。將應用程式還原到同一群集時，從現有快照恢復速度會更快。</block>
  <block id="0539043b2ec0bd1bfae64dc58173dec7" category="doc">使用Trident Protect 恢復應用程式</block>
  <block id="f346d32ba5d9c332bf8577bf1bacda07" category="list-text">還原應用程式時，為該應用程式配置的所有執行鉤子都會隨應用程式一起復原。如果存在恢復後執行鉤子，它將作為恢復操作的一部分自動運行。</block>
  <block id="961ce5b35a999d2dc3f7e386f74eb614" category="list-text">支援從備份還原到不同的命名空間或還原到原始命名空間（適用於 qtree 磁碟區）。但是，對於 qtree 卷，不支援從快照還原到不同的命名空間或還原到原始命名空間。</block>
  <block id="b34476802a6b2dff98e6f97e309970b2" category="inline-link-macro">使用進階Trident保護恢復設定</block>
  <block id="22d9eb2f3982698c6f5c93edae216a51" category="list-text">您可以使用進階設定來自訂恢復操作。欲了解更多信息，請參閱 <block ref="80b4b5e2c832cc4fcff1f69711f1c808" category="inline-link-macro-rx"></block>。</block>
  <block id="a082effb2d23d4eb077129001a77582f" category="section-title">從備份還原到不同的命名空間</block>
  <block id="b0e7049d5aeb967991b6b3a21db08de3" category="paragraph">當您使用 BackupRestore CR 將備份還原到不同的命名空間時， Trident Protect 會在新的命名空間中還原應用程序，並為還原的應用程式建立一個應用程式 CR。為了保護已還原的應用程序，可以建立按需備份或快照，或製定保護計劃。</block>
  <block id="cff063350a0daf1b0ee4c6c97eb2e2de" category="admonition">將備份還原到具有現有資源的不同命名空間不會變更與備份中資源同名的任何資源。若要還原備份中的所有資源，請刪除並重新建立目標命名空間，或將備份還原到新的命名空間。</block>
  <block id="d110d36251c4dd04b7da5ef237ac6063" category="inline-link">科皮亞文檔</block>
  <block id="3efe6f70bb45e527ed991c55df7d621d" category="admonition">當您使用 Kopia 作為資料移動器還原備份時，您可以選擇在 CR 中指定註解或使用 CLI 來控制 Kopia 使用的暫存的行為。請參閱<block ref="08f67cdc0555f043586a8a4182d9187b" category="inline-link-rx"></block>有關您可以配置的選項的詳細資訊。使用<block ref="26d4326deff4a9a34c8bff3eaf4ad7fc" prefix=" " category="inline-code"></block>有關使用Trident Protect CLI 指定註釋的更多信息，請參閱命令。</block>
  <block id="0334c5d881452d9144d4edf93d44ff85" category="list-text">建立自訂資源 (CR) 檔案並將其命名為<block ref="aa3356b96c40153ef83fe9854ede7a70" prefix=" " category="inline-code"></block>。</block>
  <block id="8ebefb3e84a05b2e3bf54824870d776d" category="list-text">*spec.appArchivePath*: AppVault 內儲存備份內容的路徑。您可以使用以下命令尋找此路徑：</block>
  <block id="3f1db1c30ba33e5d04499f000ed77f97" category="list-text">*spec.appVaultRef*: (_必要_) 儲存備份內容的 AppVault 的名稱。</block>
  <block id="18ad656f28db1ef6b2d76d21959ca243" category="list-text">填寫完後<block ref="aa3356b96c40153ef83fe9854ede7a70" prefix=" " category="inline-code"></block>將檔案的值正確後，套用 CR：</block>
  <block id="6a07207e8441bfa8c4c36dc925112780" category="list-text">將備份還原到不同的命名空間，並將括號中的值替換為您環境中的資訊。這<block ref="65e11896cb6b19f7dcb2432e67c74725" prefix=" " category="inline-code"></block>此參數使用冒號分隔的命名空間，將來源命名空間對應到正確的目標命名空間，格式如下：<block ref="07c70c21dcae158a4b2f0d389a52981b" prefix=" " category="inline-code"></block> 。例如：</block>
  <block id="0bfcabe961e72fea535a073143d53fad" category="section-title">從備份還原到原始命名空間</block>
  <block id="7260bc412b6c22c2589f01098c1f4430" category="paragraph">您可以隨時將備份還原到原始命名空間。</block>
  <block id="34653be4af07bad31b9a3775f18b1b5f" category="list-text">建立自訂資源 (CR) 檔案並將其命名為<block ref="59a09233aaa2a2c9e25fc46650bd6dee" prefix=" " category="inline-code"></block>。</block>
  <block id="349d4c53fe9d2e740d60f7ce8094c294" category="list-text">填寫完後<block ref="59a09233aaa2a2c9e25fc46650bd6dee" prefix=" " category="inline-code"></block>將檔案的值正確後，套用 CR：</block>
  <block id="11d13ce9542ccbfd1e47138c96b125a1" category="list-text">將備份還原到原始命名空間，並將括號中的值替換為您環境中的資訊。這<block ref="402051f4be0cc3aad33bcf3ac3d6532b" prefix=" " category="inline-code"></block>參數使用命名空間和備份名稱，格式如下<block ref="7310980de32cd5ca687291f4b01b2e19" prefix=" " category="inline-code"></block>。例如：</block>
  <block id="d1548585dadda37a28905a23e22cf65d" category="section-title">從備份還原到不同的集群</block>
  <block id="7fa8874b1f645ca2af9d81b51985b8fb" category="paragraph">如果原始叢集出現問題，您可以將備份還原到其他叢集。</block>
  <block id="dd4ee610bd1d035c73bc0cbcd80e46da" category="paragraph">確保滿足以下先決條件：</block>
  <block id="1d6028c560c8f6dbee841737e60a3d9d" category="list-text">目標叢集已安裝Trident Protect。</block>
  <block id="b20f8883edb9068c67a2faeb3c083d38" category="list-text">目標叢集可以存取與來源叢集相同的 AppVault 的儲存桶路徑，備份就儲存在該儲存桶中。</block>
  <block id="e95fc483374f2aa2997fb27e7235f723" category="list-text">執行 AppVault CR 時，請確保本機環境可以連接到 AppVault CR 中定義的物件儲存桶。<block ref="f9adf231483d5dde9cfc10a610b748d3" prefix=" " category="inline-code"></block>命令。如果網路限制阻止訪問，請從目標叢集上的 pod 內執行Trident Protect CLI。</block>
  <block id="2358fb4006fff416413cb9bfc04e4b73" category="list-text">確保 AWS 會話令牌的過期時間足以滿足任何長時間運行的復原操作。如果在恢復操作期間令牌過期，則操作可能會失敗。</block>
  <block id="df710f89ebb9e663bd3d66607a0bf413" category="inline-link">AWS 文件</block>
  <block id="f3aa7db516c38030a276a5895520407a" category="list-text">請參閱<block ref="968595e57d50a64e3fbe0f06bc16cb91" category="inline-link-rx"></block>有關 AWS 資源憑證的詳細資訊。</block>
  <block id="0425d0358a4cba7a7cce5ddd727ab6a2" category="list-text">使用Trident Protect CLI 外掛程式檢查目標叢集上 AppVault CR 的可用性：</block>
  <block id="1ff83a5266e9e025c2984e0c10dea90e" category="admonition">確保用於應用程式還原的命名空間存在於目標叢集上。</block>
  <block id="8d433ae9a21c49e9e5433ebd408605c0" category="list-text">查看目標叢集中可用 AppVault 的備份內容：</block>
  <block id="378e6f0ba7080535a4462b5311befb40" category="paragraph">執行此命令將顯示 AppVault 中可用的備份，包括其來源叢集、對應的應用程式名稱、時間戳記和歸檔路徑。</block>
  <block id="52b5830420efb96c3a91beb52bac3b23" category="paragraph">*範例輸出：*</block>
  <block id="053aba80de03f3fdf626d1c858342330" category="list-text">使用 AppVault 名稱和歸檔路徑將應用程式還原到目標叢集：</block>
  <block id="fceebbe32c1f7b24c54d6a4e8a0fa776" category="admonition">如果 BackupRestore CR 不可用，您可以使用步驟 2 中提到的指令來查看備份內容。</block>
  <block id="4ef55c1fec2de9218af40d16cbc021a4" category="list-text">使用以下命令恢復應用程序，將括號中的值替換為您環境中的資訊。命名空間映射參數使用冒號分隔的命名空間，將來源命名空間對應到正確的目標命名空間，格式為 source1:dest1,source2:dest2。例如：</block>
  <block id="db4c6bfd26488f4d6ab2ec6129b067d8" category="section-title">從快照還原到不同的命名空間</block>
  <block id="4b405223d9feceac91c5ef8df77b1961" category="paragraph">您可以使用自訂資源 (CR) 檔案從快照還原數據，還原到不同的命名空間或原始來源命名空間。當您使用 SnapshotRestore CR 將快照還原到不同的命名空間時， Trident Protect 會在新的命名空間中還原應用程序，並為還原的應用程式建立應用程式 CR。為了保護已還原的應用程序，可以建立按需備份或快照，或製定保護計劃。</block>
  <block id="15910dd29963e5df5f2b5879472bcc00" category="admonition">SnapshotRestore 支持<block ref="b57d666629acffb30cc697faadc136b5" prefix=" " category="inline-code"></block>屬性，但僅當來源儲存類別和目標儲存類別使用相同的儲存後端時才有效。如果您嘗試恢復到<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block>如果使用不同的儲存後端，則復原操作將會失敗。</block>
  <block id="941a76112ae80457a7a22ae552218be9" category="section-title">從快照還原到原始命名空間</block>
  <block id="a392e5395f0751460dc460cd6ec5e89d" category="paragraph">您可以隨時將快照還原到原始命名空間。</block>
  <block id="4d18dba9a79fbe92e2bb99f0a9300df3" category="list-text">建立自訂資源 (CR) 檔案並將其命名為<block ref="620b0dae36dbe6aeaae5d993f961c634" prefix=" " category="inline-code"></block>。</block>
  <block id="54625166c25afd8a6a484aaf2f346fbb" category="list-text">填寫完後<block ref="620b0dae36dbe6aeaae5d993f961c634" prefix=" " category="inline-code"></block>將檔案的值正確後，套用 CR：</block>
  <block id="6bd960f94c189d42fef14b770c0ac909" category="list-text">將快照還原到原始命名空間，並將括號中的值替換為您環境中的資訊。例如：</block>
  <block id="ba2718de6be08337811d049982d9f03f" category="section-title">檢查還原操作的狀態</block>
  <block id="97dedb929a195e839af5f7d7f8ef0ec5" category="paragraph">您可以使用命令列來檢查正在進行、已完成或已失敗的還原作業的狀態。</block>
  <block id="c076e91339c1f092aaad1d36a9c18a7a" category="list-text">使用以下命令檢索恢復操作的狀態，將方括號中的值替換為您環境中的資訊：</block>
  <block id="4c2451a6dd1d1ce7a84476069f101573" category="summary">您可以使用註解、命名空間設定和儲存選項自訂Trident保護復原作業。</block>
  <block id="3fbccf21ba46fe754417d45e7396e0e4" category="paragraph">您可以使用進階設定（例如註解、命名空間設定和儲存選項）自訂復原操作，以滿足您的特定要求。</block>
  <block id="52391deb129507aac52d6fb22aaf137c" category="section-title">支援的字段</block>
  <block id="c87f7398b288400e3d2c984a3d997d7b" category="paragraph">本節介紹可用於恢復操作的其他欄位。</block>
  <block id="11162de38772a3876602bb4d9d213f43" category="section-title">儲存類別映射</block>
  <block id="b48c8c7ca3eb5e63afdfe6bbd74a35c9" category="paragraph">這<block ref="b57d666629acffb30cc697faadc136b5" prefix=" " category="inline-code"></block>屬性定義了從來源應用程式中存在的儲存類別到目標叢集上新儲存類別的對應。您可以在具有不同儲存類別的叢集之間移轉應用程式時或變更 BackupRestore 作業的儲存後端時使用此功能。</block>
  <block id="ffbfa7c1456b1cb991affd8a76d54fd1" category="section-title">支持的註釋</block>
  <block id="738d4e5947ef1239f584cd47619cf356" category="paragraph">本節列出了系統中用於配置各種行為的支援註解。如果使用者沒有明確設定註釋，系統將使用預設值。</block>
  <block id="55f6611cb342565cf0f5002400f53a95" category="cell">註解</block>
  <block id="31ce3cdcd67850870b616f75b555bbc5" category="cell">預設值</block>
  <block id="f49fa3f76b2a4fcdf04dff369d417d84" category="cell">protect.trident.netapp.io/data-mover-timeout-sec</block>
  <block id="a666ad37acca2b6a0ee400d7b2acf088" category="cell">資料移動器操作允許停止的最長時間（以秒為單位）。</block>
  <block id="aff5adfa33a9913ad2ab5d578c3f08c8" category="cell">“300”</block>
  <block id="3b2f6f0bb673ee02e8aafe624e2e971f" category="cell">protect.trident.netapp.io/kopia-content-cache-size-limit-mb</block>
  <block id="f044e4dc5e5fdde631180451c25a973c" category="cell">Kopia 內容快取的最大大小限制（以兆位元組為單位）。</block>
  <block id="9d397fb20eca1ebda087637e32a30a7b" category="cell">“1000”</block>
  <block id="3b236bd888d7d3460e381b13adb8f6b8" category="summary">如果您要從試用版升級到完整版產品，可能需要移除Trident Protect 元件。</block>
  <block id="1bc8acdabd6fc240195da5f19b986dd6" category="doc">解除安裝Trident Protect</block>
  <block id="fb509ce83a58c3beeca23f5d55c8d75c" category="paragraph">若要移除Trident Protect，請執行下列步驟。</block>
  <block id="f6116aed83b3970c50d28447d27f4f97" category="list-text">移除Trident保護的CR檔案：</block>
  <block id="0ae48837f8ebc5da6e90828852d02027" category="admonition">25.06 及更高版本不需要此步驟。</block>
  <block id="aec02c2a1b714f40a949aa18d1f2d588" category="list-text">移除Trident保護：</block>
  <block id="20c06650be80c297c0e4dc5ae977d44f" category="list-text">移除Trident保護命名空間：</block>
  <block id="c14dcfe7b0231c7a77642ffab50a55eb" category="summary">您可以將Trident Protect 升級到最新版本，以享受新功能或修復錯誤。</block>
  <block id="91d6fa36b819133d3be4dc9c8bf2cf22" category="doc">升級Trident保護</block>
  <block id="ed98e5c2a168d1606df0370fe371df28" category="paragraph">從 24.10 版本升級時，升級期間執行的快照可能會失敗。此故障不會阻止將來建立快照，無論是手動建立還是計劃建立。如果在升級過程中快照失敗，您可以手動建立新的快照，以確保您的應用程式受到保護。</block>
  <block id="756accba0f305693c47126f932bd7ac6" category="paragraph">為避免潛在的故障，您可以在升級前停用所有快照計劃，並在升級後重新啟用它們。但是，這會導致在升級期間錯過任​​何計劃的快照。</block>
  <block id="9a4ef497aa1e88e71b08a41b069a9cf4" category="paragraph">若要升級Trident Protect，請執行下列步驟。</block>
  <block id="08583ac87350c1205f57ca5d8c629482" category="list-text">更新Trident Helm 倉庫：</block>
  <block id="0f5b1b3a9bfb872579b78d2db623d3d8" category="list-text">升級Trident保護 CRD：</block>
  <block id="afce633f05d99c109d2b0429ee891495" category="admonition">如果您是從 25.06 之前的版本升級，則需要執行此步驟，因為 CRD 現在包含在Trident protect Helm 圖表中。</block>
  <block id="8e903b2b577c535f6f70248f34e61228" category="list-text">執行此命令以將 CRD 的管理權從<block ref="23901a54edbcff97a89483ac3112545c" prefix=" " category="inline-code"></block>到<block ref="9a82c7a4099124e5bfaa83e7c5997bd4" prefix=" " category="inline-code"></block>：</block>
  <block id="da4df818678014568aed9623276fd9f5" category="list-text">執行此命令以刪除 Helm 金鑰<block ref="23901a54edbcff97a89483ac3112545c" prefix=" " category="inline-code"></block>圖表：</block>
  <block id="aeea10a9d4e3d29e20b749a201f0ae46" category="admonition">不要卸載<block ref="23901a54edbcff97a89483ac3112545c" prefix=" " category="inline-code"></block>使用 Helm 建立圖表可能會刪除您的 CRD 和任何相關資料。</block>
  <block id="a16ec228f0e3336de76f224b11d860d9" category="list-text">升級Trident保護：</block>
  <block id="a8c1fc9f09b8338dd9f8badd5c3d30c0" category="summary">您可以使用Trident Protect 為應用程式建立自訂執行鉤子。您需要擁有所有者、管理員或成員權限才能建立執行鉤子。</block>
  <block id="873e2eae9a82cbe9c291ade077f017d2" category="doc">管理Trident Protect 執行鉤子</block>
  <block id="ccd62d676165e34c2e9c6d088c06e70f" category="paragraph">執行鉤子是一種自訂操作，您可以將其配置為與受管應用程式的資料保護操作一起運行。例如，如果您有一個資料庫應用程序，則可以使用執行掛鉤在快照之前暫停所有資料庫事務，並在快照完成後恢復事務。這確保了應用程式一致的快照。</block>
  <block id="83fbf1604bedff410ea11872b40ab9f0" category="section-title">執行鉤子的類型</block>
  <block id="d702711249a4d54c15ce81c80152b8e7" category="paragraph">Trident Protect 支援以下幾種執行鉤子類型，取決於它們的運行時機：</block>
  <block id="9c6a9cc04a4d5840a5d237b232190a35" category="list-text">預快照</block>
  <block id="65db6b15c7f05c97a1647c11699053e3" category="list-text">快照後</block>
  <block id="0a2055495a94f091655a2e4d421cffe2" category="list-text">預備份</block>
  <block id="cf6e97e89c4b36c29252fcb7b0728d2f" category="list-text">備份後</block>
  <block id="349b93d2884e6ca3d41d0d9dab41dcd8" category="list-text">恢復後</block>
  <block id="0952ad82f36d650828c9197bb777ee05" category="list-text">故障轉移後</block>
  <block id="a9f57378169166a88acf61a71442e5fb" category="section-title">執行順序</block>
  <block id="e8132483e0cae3565c87c193b3fd8f57" category="paragraph">當執行資料保護操作時，執行掛鉤事件會依照下列順序發生：</block>
  <block id="4a6ccf1757fd10978b3fb28d81187dcc" category="list-text">任何適用的自訂預操作執行掛鉤都在適當的容器上運行。您可以根據需要建立和運行任意數量的自訂預操作掛鉤，但這些掛鉤在操作之前的執行順序既無法保證也無法配置。</block>
  <block id="08810911e9a818361e28207072354bd4" category="list-text">如果適用，則會發生檔案系統凍結。<block ref="d0a15703ee89b8fa8b780fb2dbace2bd" category="inline-link-macro-rx"></block>。</block>
  <block id="cfbed2286711be0cf6dbc12aba602709" category="list-text">執行資料保護操作。</block>
  <block id="caf47630bbafdc416f6b6ecdb585e83e" category="list-text">如果適用，凍結的檔案系統將被解凍。</block>
  <block id="9465fae733e0b5fdcd6e532ef8a78b08" category="list-text">任何適用的自訂後操作執行掛鉤都在適當的容器上運行。您可以根據需要建立和運行任意數量的自訂後操作掛鉤，但操作後這些掛鉤的執行順序既無法保證也無法配置。</block>
  <block id="a4ce4f522b635b3063f4af5d138933cc" category="paragraph">如果您建立多個相同類型的執行掛鉤（例如，預快照），則無法保證這些掛鉤的執行順序。但是，不同類型的鉤子的執行順序是有保證的。例如，以下是具有所有不同類型鉤子的配置的執行順序：</block>
  <block id="25fcbdcc7c9fb7d2e1db9e64ef06804c" category="list-text">快照前鉤子執行</block>
  <block id="f098e888afa8ccb3f1ad3337c3b6eea1" category="list-text">快照後鉤子執行</block>
  <block id="59b50be8e9e2ed1b0e1bccae54c76036" category="list-text">執行備份前掛鉤</block>
  <block id="1f374d287bf615eef6eb9afd92b862f2" category="list-text">執行備份後鉤子</block>
  <block id="e807d528474129e76f18c5ce17a2c3d6" category="admonition">前面的順序範例僅適用於執行不使用現有快照的備份時。</block>
  <block id="b74efcc6eafe1d8dec6ade34cfa13365" category="admonition">在生產環境中啟用執行掛鉤腳本之前，您應該始終對其進行測試。您可以使用“kubectl exec”命令方便地測試腳本。在生產環境中啟用執行掛鉤後，測試產生的快照和備份以確保它們一致。您可以透過將應用程式複製到臨時命名空間、還原快照或備份，然後測試應用程式來執行此操作。</block>
  <block id="3094ed24e92fa43f93a063b74aba1810" category="admonition">如果快照前執行鉤子新增、變更或刪除 Kubernetes 資源，則這些變更將包含在快照或備份以及任何後續復原作業中。</block>
  <block id="f99748fb4b1cf592516b60937743c52d" category="section-title">關於自訂執行鉤子的重要說明</block>
  <block id="6b8e88c5f4231fbc6994f3a29dd893af" category="paragraph">在為您的應用程式規劃執行掛鉤時，請考慮以下事項。</block>
  <block id="c9333604c0c05d7727ea70ec5f1b806b" category="list-text">執行鉤子必須使用腳本來執行操作。許多執行鉤子可以引用同一個腳本。</block>
  <block id="cc0a52984aa9087cc5fca898c4dc1caa" category="list-text">Trident Protect 要求執行鉤子使用的腳本以可執行 shell 腳本的格式編寫。</block>
  <block id="6a7d60379bb9015c0bfe02adcc54d0b5" category="list-text">腳本大小限制為 96KB。</block>
  <block id="d6eb1b65eb578d8eb99d367edc11bb03" category="list-text">Trident Protect 使用執行鉤子設定和任何符合條件來決定哪些鉤子適用於快照、備份或還原作業。</block>
  <block id="6b988caf78b1aa60f0402c611a1c8e2a" category="admonition">由於執行鉤子通常會減少或完全停用其所針對的應用程式的功能，因此您應該始終嘗試盡量減少自訂執行鉤子的運行時間。如果您啟動具有相關執行掛鉤的備份或快照操作，但隨後取消它，則如果備份或快照操作已經開始，則仍允許掛鉤運行。這意味著備份後執行掛鉤中使用的邏輯不能假定備份已完成。</block>
  <block id="99dc882fc0f61d1db87631ed9f156913" category="section-title">執行鉤子過濾器</block>
  <block id="44db75fbdb91be494665aebf40107fcf" category="paragraph">當您為應用程式新增或編輯執行掛鉤時，您可以向執行掛鉤添加過濾器來管理該掛鉤將匹配哪些容器。過濾器對於在所有容器上使用相同容器鏡像但可能將每個鏡像用於不同目的的應用程式（例如 Elasticsearch）很有用。過濾器可讓您建立執行掛鉤在某些（但不一定是所有）相同的容器上運行的場景。如果為單一執行掛鉤建立多個篩選器，它們將透過邏輯 AND 運算子組合在一起。每個執行掛鉤最多可以有 10 個活動過濾器。</block>
  <block id="7caae75448dbc59fcadd621099e170b3" category="inline-link">正規表示式 2 (RE2) 語法支持</block>
  <block id="c8390f7fcf8913e63d64e8069f87aa58" category="paragraph">新增到執行掛鉤的每個過濾器都使用正規表示式來匹配叢集中的容器。當鉤子與容器匹配時，鉤子將在該容器上運行其關聯的腳本。過濾器的正規表示式使用正規表示式 2 (RE2) 語法，該語法不支援建立從符合清單中排除容器的過濾器。有關Trident Protect 在執行鉤子過濾器中支援的正規表示式語法的詳細信息，請參閱<block ref="d4d0dd655d04b2dc5b031206e1febd50" category="inline-link-rx"></block>。</block>
  <block id="4c004df391027b81952b788a3802e37c" category="admonition">如果將命名空間過濾器新增至在復原或複製作業後執行的執行掛鉤，且復原或複製來源和目標位於不同的命名空間中，則命名空間篩選器僅適用於目標命名空間。</block>
  <block id="f1ec6389b6d19d3be02f29f4a7d29051" category="section-title">執行鉤子範例</block>
  <block id="0370124d48bfc5af2def19c48f433283" category="inline-link">NetApp Verda GitHub 項目</block>
  <block id="a59e4fa5cc01a3a4bdebbff4cec60b47" category="paragraph">訪問<block ref="84d9961ef5a89731849bc2055780d0b6" category="inline-link-rx"></block>下載流行應用程式（如 Apache Cassandra 和 Elasticsearch）的真實執行掛鉤。您還可以查看範例並獲得建立自己的自訂執行掛鉤的想法。</block>
  <block id="b103709bb8bab06f6db02c661d88466a" category="section-title">建立執行鉤子</block>
  <block id="e39c63d5ded2742e4215d5e339fa729e" category="list-text">建立自訂資源 (CR) 檔案並將其命名為<block ref="ce6abb389eaae6953714e27f1dfde579" prefix=" " category="inline-code"></block>。</block>
  <block id="a1b64283bac1ca460b6b777a46121e7f" category="list-text">設定以下屬性以符合您的Trident Protect 環境和叢集設定：</block>
  <block id="500ef917ae8cc36e9c85a2c0bc7d9337" category="list-text">*spec.applicationRef*: (_必要_) 要執行執行鉤子的應用程式的 Kubernetes 名稱。</block>
  <block id="5422fe7ebd8e2354557341f5b0c60905" category="list-text">*spec.stage*: (_Required_) 一個字串，指示執行鉤子應該在操作的哪個階段運行。可能的值：</block>
  <block id="fb55a965b77791b31ffd2bb548f71080" category="list-text">預</block>
  <block id="03d947a2158373c3b9d74325850cb8b9" category="list-text">郵政</block>
  <block id="e60e3d87a1e5f522bbc8419b61b46a94" category="list-text">*spec.action*: (_Required_) 一個字串，指示執行鉤子將採取什麼操作，假設指定的任何執行鉤子過濾器都匹配。可能的值：</block>
  <block id="d4e2713d1b1725a1592f9268589f990d" category="list-text">快照</block>
  <block id="3500ba09d0538297440ca620c9dd46bf" category="list-text">備份</block>
  <block id="2bd339d85ee3b33e513359ce781b60cc" category="list-text">恢復</block>
  <block id="7388404ef116c3ff812bfd290b094d9e" category="list-text">故障轉移</block>
  <block id="216715348d2815376ef6d68d1ae8d3a1" category="list-text">*spec.enabled*: (_可選_) 指示此執行鉤子是否已啟用或停用。如果未指定，則預設值為 true。</block>
  <block id="aa6776e9151e1848128d771057fdb5d1" category="list-text">*spec.hookSource*: (_必要_) 包含 base64 編碼的 hook 腳本的字串。</block>
  <block id="c2f4f9c36d367244147c02191649b33e" category="list-text">*spec.timeout*: (_可選_) 定義執行鉤子允許運行的分鐘數的數字。最小值為 1 分鐘，如果未指定，則預設值為 25 分鐘。</block>
  <block id="327ca4bc755c7de7ac0d335364730679" category="list-text">*spec.arguments*: (_可選_) 一個 YAML 列表，用於指定執行鉤子的參數。</block>
  <block id="bf30a4b48b4b2636f15eacfc7159af33" category="list-text">*spec.matchingCriteria*: (_可選_) 一個可選的條件鍵值對列表，每個鍵值對構成一個執行鉤子過濾器。每個執行鉤子最多可以添加 10 個過濾器。</block>
  <block id="9092d99fcac84905883e4e76cd55bfab" category="list-text">*spec.matchingCriteria.type*: (_可選_) 用於識別執行鉤過濾器類型的字串。可能的值：</block>
  <block id="820b7ec56ed75f6138f5ddc10aec4747" category="list-text">容器影像</block>
  <block id="3d52068b047d2a094a1af32cb2e338d6" category="list-text">容器名稱</block>
  <block id="8fd1f588fe68392265ea3a8149ce05a3" category="list-text">Pod名稱</block>
  <block id="d76694b319ab8227266d15f77f5f7aec" category="list-text">PodLabel</block>
  <block id="d84562295e02e89c17de04ba750d4c35" category="list-text">命名空間名稱</block>
  <block id="011b50d44a6bb217bbe310071e727641" category="list-text">*spec.matchingCriteria.value*: (_可選_) 用於識別執行鉤過濾器值的字串或正規表示式。</block>
  <block id="5b34802949c91e91f2c85f8ee1c129bd" category="list-text">在用正確的值填入 CR 檔案後，套用 CR：</block>
  <block id="de72143da28c8cafc0b906859f6e6d05" category="list-text">建立執行鉤子，將括號中的值替換為您環境中的資訊。例如：</block>
  <block id="d323f0b96d7cc15909a8faf8b343f7a0" category="section-title">手動運行執行鉤子</block>
  <block id="b634452964a2a438acc2e266661043f1" category="paragraph">您可以手動執行執行鉤子進行測試，或者在失敗後需要手動重新運行鉤子時也可以這樣做。您需要擁有所有者、管理員或成員權限才能手動執行執行鉤子。</block>
  <block id="b363e23f5ecd8c7994b0a821469e303c" category="paragraph">手動運行執行鉤子包含兩個基本步驟：</block>
  <block id="799527cc898bf9953cb450f2b50e3184" category="list-text">建立資源備份，該備份會收集資源並建立它們的備份，從而確定鉤子函數的運作位置。</block>
  <block id="d65fd71b39d33804450847f69ddd69c0" category="list-text">針對備份運行執行鉤子</block>
  <block id="d07d4b96979a15c6dea6fb4556200241" category="example-title">步驟 1：建立資源備份</block>
  <block id="32f56b6a11303c523e67b3ef5e70618e" category="list-text">建立自訂資源 (CR) 檔案並將其命名為<block ref="1f13ad2055ef28f62611a4ced3a8da82" prefix=" " category="inline-code"></block>。</block>
  <block id="10f8657004606b105a7612de4504c293" category="list-text">*spec.applicationRef*: (_必要_) 要為其建立資源備份的應用程式的 Kubernetes 名稱。</block>
  <block id="854d053ea53b0a9b6012fe3af98a11f9" category="list-text">查看備份狀態。您可以重複使用此範例命令，直到操作完成：</block>
  <block id="5c04e29edc18bc5ad81fc61dec5eee00" category="list-text">確認備份是否成功：</block>
  <block id="163cbd835d00fc0fb13923332a76e532" category="example-title">步驟 2：運行執行鉤子</block>
  <block id="89666a2351b355f4191600de4436dfe7" category="list-text">建立自訂資源 (CR) 檔案並將其命名為<block ref="433572a415d5824f82d7e7c9a0829077" prefix=" " category="inline-code"></block>。</block>
  <block id="3e0977039522c796fb780d1c0155fdb7" category="list-text">*spec.applicationRef*: (_必需_) 確保此值與您在步驟 1 中建立的 ResourceBackup CR 中的應用程式名稱相符。</block>
  <block id="c4f09daab57e7cc61e19e7da88f84edc" category="list-text">*spec.appVaultRef*: (_必需_) 確保此值與您在步驟 1 中建立的 ResourceBackup CR 中的 appVaultRef 相符。</block>
  <block id="021c431bf5a7e31ec81f982db93aa9f3" category="list-text">*spec.appArchivePath*：確保此值與您在步驟 1 中建立的 ResourceBackup CR 中的 appArchivePath 相符。</block>
  <block id="e2399671182dcd28bddf5d44b11f7af2" category="list-text">*spec.stage*: (_Required_) 一個字串，指示執行鉤子應該在操作的哪個階段運行。這次鉤子運行不會在任何其他階段運行鉤子。可能的值：</block>
  <block id="aa9f056f37cdee5e5bcd47f7bc3ac1ba" category="list-text">建立手動執行鉤子運行請求：</block>
  <block id="42e563c466d27e9d4943ef1acd3703b7" category="list-text">檢查執行鉤子運行狀態。您可以重複執行此命令，直到操作完成：</block>
  <block id="8430f2c56dfc9e79fcaf741392d54499" category="list-text">描述 exechooksrun 物件以查看最終詳細資訊和狀態：</block>
  <block id="d37692493f4055c8b34b9de2897bb1a6" category="summary">使用Trident Protect，您可以利用NetApp SnapMirror技術的非同步複製功能，將資料和應用程式變更從一個儲存後端複製到另一個儲存後端，無論是在同一叢集內還是在不同叢集之間。</block>
  <block id="6f8f09e1a22390ac35a40283a4dc713f" category="doc">使用NetApp SnapMirror和Trident Protect 複製應用程式</block>
  <block id="685db7ca1bcc71c55d1592c71e464158" category="section-title">故障轉移和反向操作期間的執行鉤子</block>
  <block id="bfc5a6b94bc23ccc51c85a2aa1cb71b4" category="paragraph">使用 AppMirror 關係保護應用程式時，在故障轉移和反向操作期間，您應該注意與執行鉤子相關的特定行為。</block>
  <block id="3d11bc959173dddd2997400e7bdf4d67" category="list-text">故障轉移期間，執行鉤子會自動從來源叢集複製到目標叢集。您無需手動重新建立它們。故障轉移後，應用程式上會存在執行鉤子，這些鉤子將在任何相關操作期間執行。</block>
  <block id="ba9dd6212c2e02686051fbf28e548584" category="list-text">在反向同步或反向重同步期間，應用程式上任何現有的執行鉤子都會被移除。當來源應用程式變為目標應用程式時，這些執行鉤子將不再有效，並將被刪除以防止其執行。</block>
  <block id="98b9f287abe5860abcc3ab5364313188" category="paragraph">要了解有關執行鉤子的更多信息，請參閱<block ref="d0f7adc5528355d3ba6ac91271095c29" category="inline-link-macro-rx"></block>。</block>
  <block id="40322a2a338856f04751d8d3bdb62496" category="section-title">建立複製關係</block>
  <block id="f7c69ddccabddb0b74276d3c2a3086e0" category="paragraph">建立複製關係涉及以下步驟：</block>
  <block id="a7b38e98cd0b780e4d7f39ca030851fe" category="list-text">選擇Trident Protect 執行應用程式快照的頻率（包括應用程式的 Kubernetes 資源以及應用程式每個磁碟區的磁碟區快照）。</block>
  <block id="cc37bc9830a1edb8e50e296af8ade03b" category="list-text">選擇複製計劃（包括 Kubernetes 資源以及持久卷資料）</block>
  <block id="55960a396448d8f19fb182dfd2b04d90" category="list-text">設定拍攝快照的時間</block>
  <block id="7fe804bb721f10861ae38239b332f774" category="inline-link-macro">AppVault 自訂資源</block>
  <block id="1e8493e925b9f37d24c0573c08c6643a" category="list-text">在來源叢集上，為來源應用程式建立一個 AppVault。根據您的儲存供應商，修改範例中的內容。<block ref="789b31b0a5cabea5de04107e65439f53" category="inline-link-macro-rx"></block>為了適應您的環境：</block>
  <block id="bb557baccf285d1ab6b4cdc32daf5848" category="open-title">使用 CR 建立 AppVault</block>
  <block id="32429298e62d70d6afc71defdbdd3c42" category="list-text">建立自訂資源 (CR) 檔案並將其命名為（例如，<block ref="0992b18d0f3771479838d4ddbaa2b097" prefix=" " category="inline-code"></block> ）。</block>
  <block id="4b60a832776a25dfdf74d5dac3d3111f" category="list-text">*metadata.name*: (_必填_) AppVault 自訂資源的名稱。請記下您選擇的名稱，因為複製關係所需的其他 CR 檔案會引用此值。</block>
  <block id="2e65eb784535a1ecc4b75ea18e2863a6" category="list-text">*spec.providerConfig*: (_必要_) 儲存使用指定提供者存取 AppVault 所需的設定。選擇儲存桶名稱以及提供者所需的其他任何詳細資訊。請記下您選擇的值，因為複製關係所需的其他 CR 檔案會引用這些值。請參閱<block ref="789b31b0a5cabea5de04107e65439f53" category="inline-link-macro-rx"></block>例如，AppVault CR 與其他提供者的合作案例。</block>
  <block id="655a22501c6f6d02821989a81036e65e" category="list-text">*spec.providerCredentials*: (_Required_) 儲存使用指定提供者存取 AppVault 所需的任何憑證的參考。</block>
  <block id="cb95e87ea13fe367aee43a64591dc23f" category="list-text">*spec.providerCredentials.valueFromSecret*: (_Required_) 表示憑證值應來自金鑰。</block>
  <block id="553f77a87c1f7385701bd0df77669571" category="list-text">*key*: (_必填_) 要從中選取的有效金鑰。</block>
  <block id="cf3ae025f91646ac07aa5641d4e510cb" category="list-text">*name*: (_必填_) 包含此欄位值的金鑰的名稱。必須位於同一命名空間中。</block>
  <block id="0e022225fc6e6c1b2028f3a32bcc9dbc" category="list-text">*spec.providerCredentials.secretAccessKey*: (_必要_) 用於存取提供者的存取金鑰。  *名稱* 應與 *spec.providerCredentials.valueFromSecret.name* 相符。</block>
  <block id="3830f9aa0973251f5c2658ea2e742ee5" category="list-text">*spec.providerType*: (_必要_) 決定備份的提供者；例如， NetApp ONTAP S3、通用 S3、Google Cloud 或 Microsoft Azure。可能的值：</block>
  <block id="ac68bbf921d953d1cfab916cb6120864" category="list-text">AWS</block>
  <block id="cf04a02e37b774fc311a48f605c3c597" category="list-text">蔚藍</block>
  <block id="50f66ecbc45488ee5826941bfbc50411" category="list-text">通用控制協議</block>
  <block id="03034eb1f294ef4f7a106ae02a31ae45" category="list-text">通用-s3</block>
  <block id="a4d3001255c12ffd187d9548a2c800aa" category="list-text">ontap-s3</block>
  <block id="da8c660bc44b572ae5fc3157a93282cb" category="list-text">儲存網格-s3</block>
  <block id="8af3a24bfad8f2e7a06abec1e5bc710e" category="list-text">填寫完後<block ref="0992b18d0f3771479838d4ddbaa2b097" prefix=" " category="inline-code"></block>將檔案的值正確後，套用 CR：</block>
  <block id="65b1402ebaf9b35766ab033225a55f41" category="open-title">使用 CLI 建立 AppVault</block>
  <block id="d686d91628b89b1ba45ca8bf5274eece" category="list-text">建立 AppVault，並將括號中的值替換為您環境中的資訊：</block>
  <block id="a42a308559809e0fc20b13ea51d5d3d4" category="list-text">在來源叢集上，建立來源應用程式 CR：</block>
  <block id="93b7f025ad50fefb3f6b0c5ee86d6162" category="open-title">使用 CR 建立來源應用程式</block>
  <block id="793bc477cba966a8d3771d018030c3c4" category="list-text">建立自訂資源 (CR) 檔案並將其命名為（例如，<block ref="3e2c6ff026eba99761434b4f79aaa782" prefix=" " category="inline-code"></block> ）。</block>
  <block id="3bf6684ac69fda7ed549f87ecb72678d" category="list-text">*metadata.name*: (_必填_) 應用程式自訂資源的名稱。請記下您選擇的名稱，因為複製關係所需的其他 CR 檔案會引用此值。</block>
  <block id="969353c1601d960362b65e2372b29251" category="list-text">*spec.includedNamespaces*: (_必要_) 命名空間及其關聯標籤的陣列。使用命名空間名稱，並可選擇使用標籤縮小命名空間的範圍，以指定此處列出的命名空間中存在的資源。應用程式命名空間必須包含在此數組中。</block>
  <block id="7a4e65ca72b4d8d16a9df08725a64df9" category="paragraph">*YAML 範例*：</block>
  <block id="948be8a05d305f0b3dece0e8dcaf4546" category="list-text">填寫完後<block ref="3e2c6ff026eba99761434b4f79aaa782" prefix=" " category="inline-code"></block>將檔案的值正確後，套用 CR：</block>
  <block id="677aa747b5e08444532c7cc040384124" category="open-title">使用 CLI 建立來源應用程式</block>
  <block id="feaddb5b204f8f8f1226cc6f02275f5c" category="list-text">建立來源應用程式。例如：</block>
  <block id="f815c45e5a618fe75ef3a716b30b711d" category="list-text">（可選）在來源叢集上，對來源應用程式進行快照。此快照將用作目標叢集上應用程式的基礎。如果跳過此步驟，則需要等待下一次排程快照運行，以便取得最新的快照。</block>
  <block id="9399bd959f53d5a7d8671b597df92df2" category="paragraph">除了下面提供的計劃之外，建議建立一個單獨的每日快照計劃，保留期為 7 天，以在對等ONTAP叢集之間保持共同的快照。這樣可以確保快照最多保留 7 天，但保留期限可以根據使用者需求進行自訂。</block>
  <block id="bd8250ba3a5ac73f1ca0ba8c92937c5a" category="paragraph">如果發生故障轉移，系統可以使用這些快照最多 7 天進行逆向操作。這種方法使得逆向過程更快、更有效率，因為只會傳輸自上次快照以來所做的更改，而不是所有資料。</block>
  <block id="af22b57fbc1d302d6a0b83cb06ce9e6a" category="paragraph">如果應用程式的現有計劃已經滿足所需的保留要求，則無需制定其他計劃。</block>
  <block id="84caf200e79d5962bc7f3516e9ad328c" category="open-title">使用 CR 拍攝快照</block>
  <block id="929d5ad53cad5d51ead7578004e2d5e5" category="list-text">為來源應用程式建立複製計劃：</block>
  <block id="57cc31c4785dfe52bb22cc8d375a3b67" category="list-text">建立自訂資源 (CR) 檔案並將其命名為（例如，<block ref="8898becea7c9a79dd32acb9c34818b46" prefix=" " category="inline-code"></block> ）。</block>
  <block id="87918fdbe5607aeceec3ec53bc40a2f8" category="list-text">*metadata.name*: (_必填_) 計畫自訂資源的名稱。</block>
  <block id="3e23380d121194d4ed43d5587e33eeba" category="list-text">*spec.AppVaultRef*: (_必需_) 此值必須與來源應用程式的 AppVault 的 metadata.name 欄位相符。</block>
  <block id="a7ac547d97c63ad78926b420081cf36d" category="list-text">*spec.ApplicationRef*: (_必需_) 此值必須與來源應用程式 CR 的 metadata.name 欄位相符。</block>
  <block id="565c53b27f6972afc514c3431a7fb733" category="list-text">*spec.backupRetention*: (_Required_) 此欄位為必填項，其值必須設為 0。</block>
  <block id="e00228f2eaa851d908b74fd6e1cbb1ab" category="list-text">*spec.enabled*：必須設定為 true。</block>
  <block id="b8e08f9f53492c0cf7c4c918c8c27185" category="list-text">*spec.granularity*：必須設定為<block ref="90589c47f06eb971d548591f23c285af" prefix=" " category="inline-code"></block>。</block>
  <block id="8c33ed4b89c2cd001ffad0203fe3c3b6" category="list-text">*spec.recurrenceRule*: 定義 UTC 時間的開始日期和重複間隔。</block>
  <block id="35ef995e5b9fe2ba99491ff849d63302" category="list-text">*spec.snapshotRetention*：必須設定為 2。</block>
  <block id="7c6d1c687b69c90909ec8375ac84883e" category="list-text">填寫完後<block ref="8898becea7c9a79dd32acb9c34818b46" prefix=" " category="inline-code"></block>將檔案的值正確後，套用 CR：</block>
  <block id="3feb4a62c8b59cd52ae22845d363c901" category="open-title">使用 CLI 建立快照</block>
  <block id="85d88f09b637997959adc6d50a42d56f" category="list-text">在目標叢集上，建立一個與在來源叢集上應用的 AppVault CR 完全相同的來源應用程式 AppVault CR，並將其命名為（例如，<block ref="3ad9e8b652d0a9a977e2534bf143ea29" prefix=" " category="inline-code"></block> ）。</block>
  <block id="04a53b4d2f7e20d9df207bfb6beb6ee7" category="list-text">應用 CR：</block>
  <block id="8af8219e9797756f7e348dd40e365632" category="list-text">在目標叢集上為目標應用程式建立目標 AppVault CR。根據您的儲存供應商，修改範例中的內容。<block ref="789b31b0a5cabea5de04107e65439f53" category="inline-link-macro-rx"></block>為了適應您的環境：</block>
  <block id="d5ab09bc69c7800783bce2e14f2e456f" category="list-text">建立自訂資源 (CR) 檔案並將其命名為（例如，<block ref="b851e4210e3875aa9242df636b0b3068" prefix=" " category="inline-code"></block> ）。</block>
  <block id="7fab67e3c762a0a044dd84f11a740dd7" category="list-text">*spec.providerConfig*: (_必要_) 儲存使用指定提供者存取 AppVault 所需的設定。選擇一個<block ref="070a97dcde31faecac1fc843e205039c" prefix=" " category="inline-code"></block>以及其他任何您需要提供給服務提供者的詳細資訊。請記下您選擇的值，因為複製關係所需的其他 CR 檔案會引用這些值。請參閱<block ref="789b31b0a5cabea5de04107e65439f53" category="inline-link-macro-rx"></block>例如，AppVault CR 與其他提供者的合作案例。</block>
  <block id="4758f7c104e1f75364dadc9f8310e51d" category="list-text">填寫完後<block ref="b851e4210e3875aa9242df636b0b3068" prefix=" " category="inline-code"></block>將檔案的值正確後，套用 CR：</block>
  <block id="f454fc9c64d31c07a352c043fe184940" category="list-text">在目標叢集上，建立 AppMirrorRelationship CR 檔案：</block>
  <block id="15e5c4ea8565e669f02393ab1d7b1021" category="open-title">使用 CR 建立 AppMirrorRelationship</block>
  <block id="3ca407ea70946200511f8d2e1008f20f" category="list-text">建立自訂資源 (CR) 檔案並將其命名為（例如，<block ref="e4fba3915616865173fe7feee130a30f" prefix=" " category="inline-code"></block> ）。</block>
  <block id="52e868ab750f66344086c9bc5d6dadeb" category="list-text">*metadata.name:*（必填）AppMirrorRelationship 自訂資源的名稱。</block>
  <block id="d9ee8f59f7e4a770213d4728b012fa38" category="list-text">*spec.destinationAppVaultRef*: (_必要_) 此值必須與目標叢集上目標應用程式的 AppVault 名稱相符。</block>
  <block id="ad47c31cec730ddef75893f6207a8350" category="list-text">*spec.namespaceMapping*: (_必要_) 目標命名空間和來源命名空間必須與對應應用程式 CR 中定義的應用程式命名空間相符。</block>
  <block id="0d2f17f43053f85c97752c575bb2af3e" category="list-text">*spec.sourceAppVaultRef*: (_必要_) 此值必須與來源應用程式的 AppVault 名稱相符。</block>
  <block id="5c0044cad9c27e4f4742c4a031edd6eb" category="list-text">*spec.sourceApplicationName*: (_必要_) 此值必須與您在來源應用程式 CR 中定義的來源應用程式的名稱相符。</block>
  <block id="5e77ee724e7a9c6f34c1fd6a65b3f3b5" category="list-text">*spec.storageClassName*: (_必填_) 選擇叢集上有效的儲存類別的名稱。儲存類別必須連結到與來源環境建立對等連線的ONTAP儲存 VM。</block>
  <block id="e1e70c108ffb369c9c05ac65820562c3" category="list-text">填寫完後<block ref="e4fba3915616865173fe7feee130a30f" prefix=" " category="inline-code"></block>將檔案的值正確後，套用 CR：</block>
  <block id="d4c94febe4f13411fa761de57ad6cce6" category="open-title">使用 CLI 建立 AppMirrorRelationship</block>
  <block id="1d29e9d9da5d097b90cc18a976fa591c" category="list-text">建立並套用 AppMirrorRelationship 對象，將括號中的值替換為您環境中的資訊。例如：</block>
  <block id="3d9dc864aeb5b914422a6a665c53ceeb" category="list-text">（可選）在目標叢集上，檢查複製關係的狀態：</block>
  <block id="70cc2bec279e168711b67e789468c45c" category="section-title">故障轉移到目標集群</block>
  <block id="196c4df78e5add7c9590d6a1c18367ec" category="paragraph">使用Trident Protect，您可以將複製的應用程式故障轉移到目標叢集。此過程會停止複製關係，並將應用程式在目標叢集上連線。如果來源叢集上的應用程式正在運行， Trident Protect 不會停止該應用程式。</block>
  <block id="fe07abfd92e0d0809a7eb71ce3f79b4b" category="list-text">在目標叢集上，編輯 AppMirrorRelationship CR 檔案（例如，<block ref="e4fba3915616865173fe7feee130a30f" prefix=" " category="inline-code"></block> ）並將 *spec.desiredState* 的值變更為<block ref="2c42d7d277f63fcbe64b041b997ceaed" prefix=" " category="inline-code"></block>。</block>
  <block id="2d258c624d61d2388efacfc246d2439e" category="list-text">儲存CR文件。</block>
  <block id="66ccf267a388b1a30a7530a93ea5ce18" category="list-text">（可選）在故障轉移應用程式上建立所需的任何保護計劃。</block>
  <block id="86d47ead9019d8e9c93c863f7ab4e41b" category="list-text">（可選）檢查複製關係的狀態：</block>
  <block id="ea7117a895b98283737d3855ef6a2adc" category="section-title">重新同步失敗的複製關係</block>
  <block id="c91dda18aff454993264381ffa25993f" category="paragraph">重新同步操作會重新建立複製關係。執行重新同步操作後，原始來源應用程式將成為正在運行的應用程序，對目標叢集上正在運行的應用程式所做的任何更改都將被丟棄。</block>
  <block id="86e073f24d64b270ed8fd6bac00280eb" category="paragraph">該過程會在重新建立複製之前停止目標叢集上的應用程式。</block>
  <block id="63a5fb6889ac843fec3c274399995a88" category="admonition">故障轉移期間寫入目標應用程式的任何資料都會遺失。</block>
  <block id="2ebd442ba9080ba8f10b660fd69bb379" category="list-text">（可選）在來源叢集上，建立來源應用程式的快照。這樣可以確保捕獲源集群的最新變更。</block>
  <block id="4d77fef9f6bd1f87593e41a1d32a7ea4" category="list-text">在目標叢集上，編輯 AppMirrorRelationship CR 檔案（例如，<block ref="e4fba3915616865173fe7feee130a30f" prefix=" " category="inline-code"></block> ）並將 spec.desiredState 的值變更為<block ref="072f9734fceb02f516b50d4174ac0f18" prefix=" " category="inline-code"></block>。</block>
  <block id="c7e41946fafafcb541aaa5a67635b607" category="list-text">如果您在目標叢集上建立了任何保護計劃來保護故障轉移應用程序，請將其刪除。任何殘留的計劃都會導致磁碟區快照失敗。</block>
  <block id="6e81bcb9e218ada350c173457300a0ed" category="section-title">反向重新同步失敗的複製關係</block>
  <block id="b29e882c5e41f060c9261101cb1cab06" category="paragraph">當您反向同步故障轉移複製關係時，目標應用程式將變為來源應用程序，而來源應用程式將變為目標應用程式。故障轉移期間對目標應用程式所做的變更將被保留。</block>
  <block id="cd7eea117bba074d0250983f81bb10e4" category="list-text">在原始目標叢集上，刪除 AppMirrorRelationship CR。這導致目的地變成了出發地。如果新目標叢集上還有任何剩餘的保護計劃，請將其刪除。</block>
  <block id="3c890586eb43d0d71cdcb47011358420" category="list-text">透過將最初用於建立關係的 CR 檔案套用到相反的叢集來建立複製關係。</block>
  <block id="5ca8234bb17898bdaa8421e9bab83a0b" category="list-text">確保新目標（原始來源叢集）配置了兩個 AppVault CR。</block>
  <block id="8a427fa57d96e74516c008754320b521" category="list-text">在相反的集群上建立複製關係，並配置反向的值。</block>
  <block id="792322eb4a0bf1a122100fc009041d9b" category="section-title">反向應用程式複製方向</block>
  <block id="eb89cf8a1850f41e41a65f7b65ec9c87" category="paragraph">當您反轉複製方向時， Trident Protect 會將應用程式移至目標儲存後端，同時繼續複製回原始來源儲存後端。  Trident Protect 會停止來源應用程式並將資料複製到目標位置，然後再故障轉移到目標應用程式。</block>
  <block id="4625c1e6ccf2351ad9a08dcee33270c8" category="paragraph">在這種情況下，你交換了來源位址和目標位址。</block>
  <block id="e319bd320145e358af8fd5dbada2d800" category="list-text">在來源叢集上，建立關機快照：</block>
  <block id="4f902591d45de06985f0af6d869c8a04" category="open-title">使用 CR 建立關機快照</block>
  <block id="1f6c30c2bcecec90eda54cd7038f326b" category="list-text">停用來源應用程式的保護策略計劃。</block>
  <block id="4a4cfa535eb9cd705b5999ffaa6a738b" category="list-text">建立 ShutdownSnapshot CR 檔案：</block>
  <block id="92391ecdad41a6b33b04771b3e5e20bf" category="list-text">建立自訂資源 (CR) 檔案並將其命名為（例如，<block ref="9bab8384d1fd26e8737f71771039462f" prefix=" " category="inline-code"></block> ）。</block>
  <block id="1b38935a45d4eaf71098501cbdc191df" category="list-text">*metadata.name*: (_必填_) 自訂資源的名稱。</block>
  <block id="54c1687e91064a6e4cdc35b9a2d411a8" category="list-text">*spec.ApplicationRef*: (_必要_) 此值必須與來源應用程式 CR 檔案的 metadata.name 欄位相符。</block>
  <block id="4390dd9bb73a0c56ac3c54b54b1fe51a" category="list-text">填寫完後<block ref="9bab8384d1fd26e8737f71771039462f" prefix=" " category="inline-code"></block>將檔案的值正確後，套用 CR：</block>
  <block id="f450395b52edc310f6e53fe1a9e24477" category="open-title">使用 CLI 建立關機快照</block>
  <block id="01eb7f0adf446989c265a6179909de7b" category="list-text">建立關機快照，將括號中的值替換為您環境中的資訊。例如：</block>
  <block id="47d8460d4aa2253d733ecb9b355e4319" category="list-text">在來源叢集上，關機快照完成後，取得關機快照的狀態：</block>
  <block id="00e7f88da8b7690738f8546262d2fe54" category="list-text">在來源叢集上，使用以下命令尋找 *shutdownsnapshot.status.appArchivePath* 的值，並記錄檔案路徑的最後一部分（也稱為基本名稱；這將是最後一個斜線之後的所有內容）：</block>
  <block id="579f2feb3d9edaa336d3ccb69c3fb855" category="list-text">從新的目標叢集到新的來源叢集執行故障轉移，並進行以下變更：</block>
  <block id="bdd0666b03fe73dd725c0376fdb435e0" category="admonition">在故障轉移流程的第 2 步驟中，包括：<block ref="60464bee8fcac84cb209df68a2b05fba" prefix=" " category="inline-code"></block>在 AppMirrorRelationship CR 檔案中，將該欄位的值設定為您在上面的步驟 3 中記錄的基本名稱。</block>
  <block id="753f99fdafabdea1282917a0d7df52d4" category="list-text">執行反向重新同步步驟<block ref="07428cadd63a52910df8ba314efe2f56" category="inline-xref-macro-rx"></block>。</block>
  <block id="ab486212bb19e45c8e71532739574a22" category="list-text">在新來源叢集上啟用保護計劃。</block>
  <block id="aea4fd534bd3152673956c6bbd7c115c" category="paragraph">由於反向複製，會發生以下操作：</block>
  <block id="a23cf6af7e31f808d57bb74c992226c6" category="list-text">對原始來源應用程式的 Kubernetes 資源進行快照。</block>
  <block id="08c383efd49395a644fa60036a0853a2" category="list-text">透過刪除應用程式的 Kubernetes 資源（保留 PVC 和 PV），優雅地停止原始來源應用程式的 pod。</block>
  <block id="0053c8b169583fc7b29e0dfbe82d59fd" category="list-text">在 pod 關閉後，會對應用程式的磁碟區進行快照並進行複製。</block>
  <block id="b1907879d61e1f061c433469dfb8ddcf" category="list-text">SnapMirror關係已斷開，目標磁碟區已準備好進行讀取/寫入操作。</block>
  <block id="b6c3873d17157e3e4a0b1ef02b3cef69" category="list-text">該應用程式的 Kubernetes 資源是從關閉前的快照中恢復的，使用的是在原始來源應用程式關閉後複製的捲資料。</block>
  <block id="3cecdf93ba8c40eb3b09b7a7f9985e1d" category="list-text">複製過程以相反的方向重新建立。</block>
  <block id="827d6f4840be3ba668aa3eaee7c11d8d" category="section-title">將應用程式故障恢復到原始來源集群</block>
  <block id="fbe6471033a142db5e3165e4034c1157" category="paragraph">使用Trident Protect，您可以透過以下步驟序列操作在故障轉移作業後實現「故障復原」。在此恢復原始複製方向的工作流程中， Trident Protect 會將任何應用程式變更複製（重新同步）回原始來源應用程序，然後再反轉複製方向。</block>
  <block id="3a045f0ae84563b460627f43bb272936" category="paragraph">流程從已完成故障轉移至目標位置的關係開始，並涉及以下步驟：</block>
  <block id="9cbd7771b861e31b5edb23d83de4758c" category="list-text">從故障轉移狀態開始。</block>
  <block id="fe411ea35c29677771dcaad52985fc08" category="list-text">反向重新同步複製關係。</block>
  <block id="eb10e971ec83f13f35beb8166ae8958b" category="admonition">不要執行正常的重新同步操作，因為這將丟棄在故障轉移過程中寫入目標叢集的資料。</block>
  <block id="de5da2c7cfd6c7eda31703be01d3513e" category="list-text">反轉複製方向。</block>
  <block id="be41e0ea028981dcba35343dcbd34991" category="list-text">執行<block ref="07428cadd63a52910df8ba314efe2f56" category="inline-xref-macro-rx"></block>步驟。</block>
  <block id="e3f67484570d0b1b5736841718c5ab22" category="list-text">執行<block ref="80fca82e419d46692dbbc4fbbcd0c990" category="inline-xref-macro-rx"></block>步驟。</block>
  <block id="39d2beed854377dcad2ea22fe9e58477" category="section-title">刪除複製關係</block>
  <block id="a6c87e2b66308cd117a39af0fdac9885" category="paragraph">您可以隨時刪除複製關係。刪除應用程式複製關係後，將產生兩個彼此獨立的應用程序，它們之間沒有任何關係。</block>
  <block id="23b4dec181e41ab3962cf73b28ffe58c" category="list-text">在目前目標叢集上，刪除 AppMirrorRelationship CR：</block>
  <block id="f36baffc9ca645fa1fe36124af4e39a7" category="summary">了解Trident的保護和復原選項以及使用Trident建立的磁碟區。對於每個有持久化需求的應用程序，都應該制定資料保護和復原策略。</block>
  <block id="03c39d763ca15978d9ef16c2ba5fe98a" category="doc">資料保護和災難復原</block>
  <block id="ffe1fc42630bb81c5437556ccf118ba0" category="section-title">Trident複製與恢復</block>
  <block id="9c85886fa11238157a9de69d0caaf7f2" category="paragraph">您可以建立備份，以便在災難發生時還原Trident 。</block>
  <block id="a06c2dd9e460954c4c8e439ed6c16849" category="section-title">Trident複製</block>
  <block id="0cf2379589875f19fc411cdbbabab10c" category="paragraph">Trident使用 Kubernetes CRD 來儲存和管理自己的狀態，並使用 Kubernetes 叢集 etcd 來儲存其元資料。</block>
  <block id="082510018437a15b6d42065dfe5a5384" category="inline-link-macro">Kubernetes：備份 etcd 集群</block>
  <block id="ec3558916e2679d1a4b592e0ade35471" category="list-text">使用以下指令備份 Kubernetes 叢集 etcd<block ref="901b02918d705c0966dae4033c132965" category="inline-link-macro-rx"></block> 。</block>
  <block id="405c5315f2ee81c7d907857a97bc9ccc" category="list-text">將備份檔案放置在FlexVol volume上</block>
  <block id="f4d58905240b9c44d84e6ee73c8499ac" category="admonition">NetApp建議您使用SnapMirror關係式將FlexVol所在的 SVM 與其他 SVM 連接起來，從而保護該 SVM。</block>
  <block id="df92604aa3f4e581e24f9f7e549cbe1e" category="section-title">Trident恢復</block>
  <block id="742d0be325a2cc0809fad668e223a40c" category="paragraph">使用 Kubernetes CRD 和 Kubernetes 叢集 etcd 快照，您可以還原Trident。</block>
  <block id="b30057689f3e745e5feeb142585ff30b" category="list-text">從目標 SVM 上，將包含 Kubernetes etcd 資料檔案和憑證的磁碟區掛載到將要設定為主節點的主機上。</block>
  <block id="5fefcae3a4602913a273a904829295ce" category="list-text">複製 Kubernetes 叢集所需的所有憑證。<block ref="890b0e4d98741eac800c616b757217cb" prefix=" " category="inline-code"></block>以及 etcd 成員文件<block ref="3fa01691da932f6c45bf424027ffabb8" prefix=" " category="inline-code"></block>。</block>
  <block id="51fa31507539ecf10c55d8cc513269d0" category="inline-link-macro">Kubernetes：恢復 etcd 集群</block>
  <block id="3167e8459c0d46545dc7978a60ef4978" category="list-text">使用 etcd 備份還原 Kubernetes 集群<block ref="c87a91d2cf6358248ae560cfa802edf4" category="inline-link-macro-rx"></block>。</block>
  <block id="54d0429fea223af0d32d9f061ed733c9" category="list-text">跑步<block ref="1ec8e1992e296a9bdb691f1931d391fe" prefix=" " category="inline-code"></block>驗證所有Trident自訂資源是否已啟動，並擷取Trident物件以驗證所有資料是否可用。</block>
  <block id="c87c1a25aa5e2ef1af216bc50d1fd391" category="section-title">SVM複製與復原</block>
  <block id="0d3b37ff5855bf299f3c4a154373c1e2" category="inline-link">ONTAP SnapMirror</block>
  <block id="1f7c8c42e8abc1d393aa79f78603a7d4" category="paragraph">Trident無法設定複製關係，但儲存管理員可以使用<block ref="eae3571c3bcc896c3c2934b9eeb2171a" category="inline-link-rx"></block>複製 SVM。</block>
  <block id="9299ebdcbaefed4a9ea27b355bb0f75e" category="paragraph">發生災難時，您可以啟動SnapMirror目標 SVM 開始提供資料服務。系統恢復後，您可以切換回主伺服器。</block>
  <block id="1de93d4bf941bc79aec631023559b9e7" category="paragraph">使用SnapMirror SVM 複製功能時，請考慮以下事項：</block>
  <block id="1868906f3a3fbcf756260737545805d6" category="list-text">對於啟用了 SVM-DR 的每個 SVM，您應該建立一個獨立的後端。</block>
  <block id="f9f808f1692cabf1bf803e07da9adbe7" category="list-text">配置儲存類，僅在需要時選擇複製後端，以避免將不需要複製的磁碟區配置到支援 SVM-DR 的後端上。</block>
  <block id="6fa2f5991a9e2ee7d4668899f94e78e4" category="list-text">應用程式管理員應了解複製帶來的額外成本和複雜性，並在開始此過程之前仔細考慮其恢復計劃。</block>
  <block id="2b5ffe73affd6d09b3b5e160e117e5c9" category="section-title">SVM複製</block>
  <block id="9f4b9999b69320b559438c600d724ff9" category="inline-link-macro">ONTAP： SnapMirror SVM 複製</block>
  <block id="d628a099db3505c9d0435e12076d8a61" category="paragraph">您可以使用<block ref="89150b9d328c8330200fceb39b37760e" category="inline-link-macro-rx"></block>建立 SVM 複製關係。</block>
  <block id="5717b21c41683b40b5182faa442bafb8" category="paragraph">SnapMirror可讓您設定選項來控制要複製的內容。您需要知道您在執行操作時選擇了哪些選項。<block ref="36ddeb299c5dc6bcf247ffb9df4df208" category="inline-xref-macro-rx"></block> 。</block>
  <block id="524218dc9ff1ef52c9a0404971525b21" category="inline-link-macro">-identity-preserve true</block>
  <block id="8dc4e22513bbb97acc41295bfe46d5fe" category="list-text"><block ref="c758ffe020dc40d00c9a9c46ecbdd824" category="inline-link-macro-rx"></block>複製整個 SVM 配置。</block>
  <block id="d18f05a5c35a5a7d999263600f0356bf" category="inline-link-macro">-丟棄網路配置</block>
  <block id="97c20c3eb8c7569982dc9f84e7f31ba3" category="list-text"><block ref="afa9da8af32f091c8328b13559d456b1" category="inline-link-macro-rx"></block>不包括 LIF 和相關網路設定。</block>
  <block id="224ea277d21a44b59b0fa43747b4f6a6" category="inline-link-macro">-identity-preserve false</block>
  <block id="471621652d0597dca59f266effb8f90f" category="list-text"><block ref="1faf7e0b3f51b53ae01a4f860a9ed344" category="inline-link-macro-rx"></block>僅複製捲和安全性配置。</block>
  <block id="876b144c54cd97607e6f6f4d8b15f39e" category="section-title">使用Trident進行 SVM 恢復</block>
  <block id="5c26def63f84646a9f77218eea10331a" category="paragraph">Trident無法自動偵測 SVM 故障。如果發生災難，管理員可以手動啟動Trident故障轉移到新的 SVM。</block>
  <block id="da29de46c3a7d3e66fc701b2781fcbce" category="list-text">取消已排程和正在進行的SnapMirror傳輸，斷開複製關係，停止來源 SVM，然後啟動SnapMirror目標 SVM。</block>
  <block id="98bdea55e26fba2494cc5f163b6f8076" category="list-text">如果您指定<block ref="224ea277d21a44b59b0fa43747b4f6a6" prefix=" " category="inline-code"></block>或者<block ref="e932330dd004e680ebd1a75db84b73ce" prefix=" " category="inline-code"></block>配置 SVM 複製時，請更新以下內容：<block ref="a6ea6092cb7b9c5f31909eb4be8fa5ea" prefix=" " category="inline-code"></block>和<block ref="ea76b2438eb5996eb2c347e7341ed59a" prefix=" " category="inline-code"></block>在Trident後端定義檔中。</block>
  <block id="6141984e8f91176bd3a76175b02c1a09" category="list-text">確認<block ref="ed66bef2b107983b6e4066fddf8c45c3" prefix=" " category="inline-code"></block>存在於Trident後端定義檔中。此參數無法變更。省略<block ref="ed66bef2b107983b6e4066fddf8c45c3" prefix=" " category="inline-code"></block>這將導致後端更新失敗。</block>
  <block id="51589b18e320f20306c944a08241dac1" category="list-text">使用下列命令更新所有必要的後端，以反映新的目標 SVM 名稱：</block>
  <block id="d980e1fdfa951088567e6d057ba7dc9c" category="list-text">如果您指定<block ref="224ea277d21a44b59b0fa43747b4f6a6" prefix=" " category="inline-code"></block>或者<block ref="89680afd09991bc3d4db985c40c861c1" prefix=" " category="inline-code"></block>您必須重新啟動所有應用程式 pod。</block>
  <block id="eb12f237ee9304f080e1a3b606030f2d" category="admonition">如果您指定<block ref="524218dc9ff1ef52c9a0404971525b21" prefix=" " category="inline-code"></block>當目標 SVM 啟動時， Trident提供的所有磁碟區開始提供資料服務。</block>
  <block id="cceb49886fed38f241928d51abab95a2" category="section-title">磁碟區複製和恢復</block>
  <block id="815f28e53ebfb423dfe835a845095bf6" category="inline-link-macro">ONTAP SnapMirror複製與恢復</block>
  <block id="4afaf8cedd32fb155e98f0626311d8ab" category="paragraph">Trident無法設定SnapMirror複製關係，但儲存管理員可以使用<block ref="c3487d6df2463efc752acd6f5cc45a1f" category="inline-link-macro-rx"></block>複製Trident建立的磁碟區。</block>
  <block id="c3c343b5a84229bd5095fd09f2afc5f5" category="inline-link-macro">tridentctl 磁碟區導入</block>
  <block id="9cf6e031ec85179307403b10689113c9" category="paragraph">然後，您可以使用下列方法將復原的磁碟區匯入到Trident ：<block ref="b0a81d9cb6f9ea994a428f959b11d3c6" category="inline-link-macro-rx"></block> 。</block>
  <block id="d8d9dfeae772da34290b750d0f848a26" category="admonition">不支援導入<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block>，<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block> ， 或者<block ref="70d5dbddc55e3700ddbc8d21f0de22a3" prefix=" " category="inline-code"></block>司機。</block>
  <block id="b489b293d6cbe8b86835d3cac8c315fb" category="section-title">快照資料保護</block>
  <block id="f332d72a4b78e34e31131f3a98c98053" category="paragraph">您可以使用以下方法保護和復原資料：</block>
  <block id="97fb495fd3b6672c40bb0092ca102eca" category="list-text">外部快照控制器和 CRD 用於建立持久磁碟區 (PV) 的 Kubernetes 磁碟區快照。</block>
  <block id="4227c1b28cc9c04bf3552b7aae57fc3c" category="paragraph"><block ref="4227c1b28cc9c04bf3552b7aae57fc3c" category="inline-link-macro-rx"></block></block>
  <block id="83cd672b9742ba621e93a8b69c4ab2d4" category="list-text">ONTAP快照用於還原磁碟區的全部內容，或還原單一檔案或 LUN。</block>
  <block id="ad336d1fccea3e918d07055edac855a3" category="inline-link-macro">ONTAP快照</block>
  <block id="0cb949d1baa06577db93328185a8f24d" category="paragraph"><block ref="0cb949d1baa06577db93328185a8f24d" category="inline-link-macro-rx"></block></block>
  <block id="3c520ff745f4964007340c06ce483d92" category="summary">部署Trident時，請遵循此處列出的建議。</block>
  <block id="ea355214fd4bc7c57f471bd92918879b" category="doc">部署</block>
  <block id="d89d3b3161292ef0c65342cbe80e883f" category="section-title">部署到專用命名空間</block>
  <block id="13d28e8dfc702e3456e0767dff9a128a" category="inline-link">命名空間</block>
  <block id="4ac9935cf245d076d6ef4babd8659321" category="paragraph"><block ref="c41296e544cd0faaa4fe4e8b22535287" category="inline-link-rx"></block>造成不同應用程式之間的行政隔離，並阻礙資源共享。例如，一個命名空間中的 PVC 不能在另一個命名空間中使用。  Trident為 Kubernetes 叢集中的所有命名空間提供 PV 資源，因此利用了具有提升權限的服務帳戶。</block>
  <block id="853cf568613b7eec1486421468e18b9b" category="paragraph">此外，存取Trident pod 可能會使使用者能夠存取儲存系統憑證和其他敏感資訊。必須確保應用程式使用者和管理應用程式無法存取Trident物件定義或 pod 本身。</block>
  <block id="2c8e89de5c6bf68b180cff5fea545167" category="section-title">使用配額和範圍限制來控制儲存消耗</block>
  <block id="74444eaf90c31d151645e59dcab0468d" category="inline-link">儲存配額機制</block>
  <block id="1d81c150d54eae0c49d9cfeb8d493b0f" category="inline-link">射程限制</block>
  <block id="94104e476fe547cf6237480cacae5ed5" category="paragraph">Kubernetes 具有兩個特性，這兩個特性結合起來，為限制應用程式的資源消耗提供了一種強大的機制。這<block ref="bff513af91e6751aca3d34ef714e3b91" category="inline-link-rx"></block>管理員可以按命名空間實施全域和儲存類別特定的容量和物件數量消耗限制。此外，使用<block ref="dbe9770513b0f7245f1fe016d20ebb70" category="inline-link-rx"></block>確保 PVC 請求在轉送給配置器之前，其值既在最小值也在最大值範圍內。</block>
  <block id="4f9253eda0573e387f86d7777aafff03" category="inline-link">如何利用配額</block>
  <block id="923169151e05d28a3474b2a033666297" category="paragraph">這些值是按命名空間定義的，這意味著每個命名空間都應該定義與其資源需求相符的值。請點擊此處查看相關資訊<block ref="5b289b2ffde01314d8b0d038aabd709b" category="inline-link-rx"></block>。</block>
  <block id="698aa9df4c2c5470599821c3d10620dd" category="summary">Kubernetes 叢集通常由兩種類型的節點組成，每種節點負責不同的功能方面。</block>
  <block id="f53e7cca65962add5f429193e9cbdb7c" category="doc">整合Trident</block>
  <block id="ef77c788fd33425198e77cd3ce7c4525" category="paragraph">要整合Trident，需要整合以下設計和架構元素：驅動程式選擇和部署、儲存類別設計、虛擬池設計、持久性磁碟區聲明 (PVC) 對儲存配置的影響、磁碟區操作以及使用Trident部署 OpenShift 服務。</block>
  <block id="1fdc23c8579638d050b7b219da011f2b" category="section-title">駕駛員選擇和部署</block>
  <block id="a3edb76d25dfeb8d67e4711eafd2b5ca" category="paragraph">為您的儲存系統選擇並部署後端驅動程式。</block>
  <block id="a57628924f909d4edd5cb81ee4f10896" category="section-title">ONTAP後端驅動程式</block>
  <block id="4ea57c8a88545a4fc2039131bc6fd74d" category="paragraph">ONTAP後端驅動程式的差異在於所使用的協定以及在儲存系統上配置磁碟區的方式。因此，在決定部署哪位駕駛員時要仔細考慮。</block>
  <block id="815a377da65ae5b66c84438c43416d82" category="paragraph">從更高的層面來看，如果您的應用程式具有需要共用儲存的元件（多個 pod 存取相同 PVC），則基於 NAS 的驅動程式將是預設選擇，而基於區塊的 iSCSI 驅動程式則滿足非共用儲存的需求。根據應用程式的要求以及儲存和基礎設施團隊的接受程度來選擇協議。一般來說，對於大多數應用程式來說，它們之間幾乎沒有區別，因此通常取決於是否需要共用儲存（多個 pod 需要同時存取）。</block>
  <block id="642b59503457da90c85cbb7a35e02089" category="paragraph">可用的ONTAP後端驅動程式有：</block>
  <block id="c2c889ded63fbe94cf7f1d5fe4747b2d" category="list-text"><block ref="8321592ce24c8a122ecf26a63cfca407" prefix="" category="inline-code"></block>每個已配置的 PV 都是一個完整的ONTAP FlexVolume。</block>
  <block id="9418583a1b7e700d24bcc735aa4682b5" category="list-text"><block ref="caafdf62a2c609bfa5316118231a1007" prefix="" category="inline-code"></block>每個已配置的 PV 都是一個 qtree，每個 FlexVolume 的 qtree 數量可配置（預設值為 200）。</block>
  <block id="bc8f11db54909209ba09d55ee0b46990" category="list-text"><block ref="844e84da8e822b4a33c4d8188da97937" prefix="" category="inline-code"></block>每個 PV 都配置為一個完整的ONTAP FlexGroup，並且分配給 SVM 的所有聚合都將被使用。</block>
  <block id="5e587346b7a212ee6429303276a1578b" category="list-text"><block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix="" category="inline-code"></block>每個已配置的 PV 都是其自身 FlexVolume 中的一個 LUN。</block>
  <block id="85f6f5093b037b5bde3201d8136ee585" category="list-text"><block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix="" category="inline-code"></block>每個已配置的 PV 都是一個 LUN，每個 FlexVolume 的 LUN 數量可配置（預設值為 100）。</block>
  <block id="f1d8371af632688748db007c98766ded" category="paragraph">在三個 NAS 驅動程式之間進行選擇會對應用程式可用的功能產生一些影響。</block>
  <block id="9586fb9f48cc64f580092d7123d5acad" category="paragraph">請注意，在下表中，並非所有功能都透過Trident公開。如果需要某些功能，則必須由儲存管理員在配置完成後套用這些功能。上標腳註區分了每個功能和驅動程式的特定功能。</block>
  <block id="6252699c8e049f40eaf187092727a531" category="cell">ONTAP NAS 驅動程式</block>
  <block id="9147e5e61a7b9260dec09f3a6eb3e5be" category="cell">快照</block>
  <block id="999cc42b236c7aee1157ff02d6f1bcd5" category="cell">複製</block>
  <block id="13bc190bfed9f972b3e33e3656737cdd" category="cell">動態出口策略</block>
  <block id="ab0c646b4c5e36d9bcf8239d97fd1843" category="cell">多重附件</block>
  <block id="8f2db90dd4a6fbd95ba8f0bc54fd6b27" category="cell">服務品質</block>
  <block id="9d723d04c40bfd81835c0766a698cf63" category="cell">調整大小</block>
  <block id="8c340dc334134096f68b880b42a8692c" category="cell">複製</block>
  <block id="00055dac2ba112b87a95a368075b9561" category="cell"><block ref="8321592ce24c8a122ecf26a63cfca407" prefix="" category="inline-code"></block></block>
  <block id="6bfc395e3d384b30d9f43ca45b1eeff7" category="cell">是的註腳：5[]</block>
  <block id="7c078cb746c3dd22969c07747fd7f3fc" category="cell">是的註腳：1[]</block>
  <block id="cecdaed309330a9e7dea16b2076957ee" category="cell"><block ref="caafdf62a2c609bfa5316118231a1007" prefix="" category="inline-code"></block></block>
  <block id="2e465fe2a334bfbbd0254091d76e5cf5" category="cell">無註腳：3[]</block>
  <block id="2b8ac774302bd45e0ad531e434d8cd6d" category="cell"><block ref="844e84da8e822b4a33c4d8188da97937" prefix="" category="inline-code"></block></block>
  <block id="c2f3f489a00553e7a01d369c103c7251" category="cell">不</block>
  <block id="5b003b29dfd53276a5b816a47ab32348" category="paragraph">Trident為ONTAP提供 2 款 SAN 驅動程序，其功能如下所示。</block>
  <block id="f916141465c67326e5d7d980bff2880b" category="cell">ONTAP SAN 驅動程式</block>
  <block id="4f546cdc5f90f7d264cde89d14c6e015" category="cell">雙向 CHAP</block>
  <block id="cd17e7ed84c40a0ff5ecb8b625b1f186" category="cell"><block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix="" category="inline-code"></block></block>
  <block id="e78e01b4457814be0584f80618e4659a" category="cell">是的註腳：4[]</block>
  <block id="73b781a615cea2647a87ff2035e296b1" category="cell"><block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix="" category="inline-code"></block></block>
  <block id="60fa17e80af13d37b16c3991f5b175a6" category="verse-content-simple">以上表格的註腳：是註腳1[]：非Trident管理；是註腳2[]：由Trident管理，但不支援PV粒度；否註腳3[]：非Trident管理且不支援PV粒度；是註腳4[]：支援原始區塊磁碟區；是註腳5[]： Trident支援。</block>
  <block id="74b4b41be17ac9897921032dfd4e94a8" category="paragraph">非 PV 粒度的功能將應用於整個 FlexVolume，所有 PV（即共享 FlexVol 中的 qtree 或 LUN）將共享一個共同的計劃。</block>
  <block id="b483d59c54aea739f0806cf2f30c057e" category="paragraph">如上表所示，大部分功能都體現在以下方面：<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block>和<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block>是一樣的。然而，因為<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block>驅動程式限制了以 PV 粒度控制計劃的能力，這可能會特別影響您的災難復原和備份計劃。對於希望在ONTAP儲存上利用 PVC 克隆功能的開發團隊而言，只有在使用以下配置時才有可能：<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block> ，<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block>或者<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block>司機。</block>
  <block id="45f7f2e55c0930a28d1a9e481e602a09" category="admonition">這<block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block>驅動程式也能夠克隆PVC。</block>
  <block id="e44e590e4645ab9ef08fb84f61cede17" category="section-title">Cloud Volumes ONTAP後端驅動程式</block>
  <block id="986d46700a93c1b67573285912b2a857" category="paragraph">Cloud Volumes ONTAP提供資料控制以及企業級儲存功能，適用於各種用例，包括檔案共用和區塊級存儲，支援 NAS 和 SAN 協定（NFS、SMB / CIFS 和 iSCSI）。 Cloud Volume ONTAP的相容驅動程式有：<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block> ，<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block> ，<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block>和<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block>。這些適用於 Azure 版 Cloud Volume ONTAP和 GCP 版 Cloud Volume ONTAP 。</block>
  <block id="fdde450e1a16aa1461e62c6fa5ac621f" category="section-title">Amazon FSx for ONTAP後端驅動程式</block>
  <block id="7844c41fb05be5427418dbab3d0bdc49" category="paragraph">Amazon FSx for NetApp ONTAP讓您能夠利用您熟悉的NetApp功能、效能和管理能力，同時享受在 AWS 上儲存資料的簡單性、敏捷性、安全性和可擴充性。  FSx for ONTAP支援許多ONTAP檔案系統功能和管理 API。  Cloud Volume ONTAP的相容驅動程式有：<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block> ，<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block> ，<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block> ，<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block>和<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block>。</block>
  <block id="d079959bb7c738f4e1704de5ff69b897" category="section-title">NetApp HCI/ SolidFire後端驅動程式</block>
  <block id="e040ac9827d856d3ad8ae9ac0da92295" category="paragraph">這<block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block>此驅動程式與NetApp HCI/ SolidFire平台搭配使用，可協助管理員根據 QoS 限制為Trident配置 Element 後端。如果您希望設計後端以設定Trident配置磁碟區的特定 QoS 限制，請使用下列方法：<block ref="599dcce2998a6b40b1e38e8c6006cb0a" prefix=" " category="inline-code"></block>後端文件中的參數。管理員還可以使用以下方法限制可在儲存體上建立的磁碟區大小：<block ref="e083f2ed1275af0ce4336a068ebee72a" prefix=" " category="inline-code"></block>範圍。目前，Element 儲存功能（例如磁碟區調整大小和磁碟區複製）尚不支援透過以下方式進行儲存：<block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block>司機。這些操作應該透過 Element Software 的 Web 使用者介面手動完成。</block>
  <block id="77e9d6f249e4626d5b5c3aec863459d3" category="cell">SolidFire驅動程式</block>
  <block id="9ef2bbb12ff72558472202561a25058d" category="cell">第章</block>
  <block id="57ee8ed0b2796ea5f35b10f9ae5d68cd" category="cell"><block ref="c0d2a793e71b152662b3e8cd2da00620" prefix="" category="inline-code"></block></block>
  <block id="0929973a1c9993903f6193add75b3fcf" category="cell">是的註腳：2[]</block>
  <block id="3f89ded204a4589d3a6dc04e8b5f3199" category="verse-content-simple">註腳：是註腳1： Trident不管理 是註腳2：支援原始塊卷</block>
  <block id="64648abd6d020446c9c8d556a1584d71" category="section-title">Azure NetApp Files後端驅動程式</block>
  <block id="e999eb209b6aaa7fd15151716377009a" category="paragraph">Trident使用<block ref="bc5779a2d33eeb1304bae57f15920cfc" prefix=" " category="inline-code"></block>司機管理<block ref="d617d79fbb5ee3bc8bd280353eeb1349" category="inline-link-macro-rx"></block>服務。</block>
  <block id="67f0b796ae8988fe5446f8f925a4f9d8" category="inline-link-macro">用於Azure NetApp Files的Trident後端配置</block>
  <block id="46a410b97b05c5034e7d6dd503471548" category="paragraph">有關此驅動程式及其配置方法的更多信息，請參見此處。<block ref="be39645497306a87b14bbf7b3f50cd06" category="inline-link-macro-rx"></block> 。</block>
  <block id="4da613089cbda3d7c19cb4b3f67c1f5d" category="cell">Azure NetApp Files驅動程式</block>
  <block id="8098b34f582537833b36b58273c3545b" category="cell">擴張</block>
  <block id="e228843381960c06d1035c4219901307" category="cell"><block ref="bc5779a2d33eeb1304bae57f15920cfc" prefix="" category="inline-code"></block></block>
  <block id="57c2378ca2b5638498fcfce53847fb9c" category="verse-content-simple">註腳：是註腳：1[]：非由Trident管理</block>
  <block id="d7f3ab8ebe0633127c883b84d0b2bc4a" category="section-title">Google Cloud 後端驅動程式上的Cloud Volumes Service</block>
  <block id="66a053f36417f94321dcee6851d216fb" category="paragraph">Trident使用<block ref="5935ea92cdd7d975b4e764b429f21c01" prefix=" " category="inline-code"></block>用於連接 Google Cloud 上的Cloud Volumes Service的驅動程式。</block>
  <block id="372b7e839ce4640b08b006c48ae95057" category="paragraph">這<block ref="5935ea92cdd7d975b4e764b429f21c01" prefix=" " category="inline-code"></block>驅動程式使用虛擬池來抽象化後端，並允許Trident確定磁碟區放置位置。管理員在以下位置定義虛擬池：<block ref="9c15d32711e9ef8c6f76deda35452e13" prefix=" " category="inline-code"></block>文件。儲存類別使用選擇器按標籤識別虛擬池。</block>
  <block id="ac8324606d3b8866904635470650c639" category="list-text">如果後端定義了虛擬池， Trident將嘗試在 Google Cloud 儲存池中建立磁碟區，而這些虛擬池僅限於這些儲存池。</block>
  <block id="9fc446e524c543fa3dd1400cdc43e4a1" category="list-text">如果後端未定義虛擬池， Trident將從該區域的可用儲存池中選擇 Google Cloud 儲存池。</block>
  <block id="0fe1467ee5cd2261fbc5597882bb689e" category="paragraph">若要在Trident上設定 Google Cloud 後端，您必須指定<block ref="80ef6899136dfcff295c16caa93c2138" prefix=" " category="inline-code"></block>，<block ref="1e9c0fd1beef5ff8ed3bef2ae3b7e560" prefix=" " category="inline-code"></block> ， 和<block ref="c9ff119073ea2567730fb42e3a4fe805" prefix=" " category="inline-code"></block>在後端文件中。您可以在 Google Cloud 控制台中找到項目編號。  API 金鑰取自您在 Google Cloud 上為Cloud Volumes Service設定 API 存取權時所建立的服務帳戶私鑰檔案。</block>
  <block id="0ae6ba37bc9a9c5f0420b6d38d38f5a9" category="inline-link-macro">了解Trident對 GCP 版 CVS 的支持</block>
  <block id="a215dc15f2b1d935791b8a15eeda76fd" category="paragraph">有關 Google Cloud 上的Cloud Volumes Service服務類型和服務等級的詳細信息，請參閱：<block ref="76c16eb2ef8acb446255be1d7b0a5f06" category="inline-link-macro-rx"></block> 。</block>
  <block id="b8777f333c4d18731d4e5746513dc8eb" category="cell">適用於 Google Cloud Drive 的Cloud Volumes Service</block>
  <block id="949a374fc5a78d436e3067ee2de19cbe" category="cell"><block ref="5935ea92cdd7d975b4e764b429f21c01" prefix="" category="inline-code"></block></block>
  <block id="e8257e01d592104a99a17c192f84e86a" category="cell">僅適用於 CVS-Performance 服務類型。</block>
  <block id="e6f7c10d8c16eee55f72ce71c4b10a2f" category="list-title">複製說明</block>
  <block id="232ed8614fde30f69091f058b325c923" category="list-text">複製功能並非由Trident管理。</block>
  <block id="706c8ebf7645c5a984d080882f157905" category="list-text">克隆卷將建立在與來源磁碟區相同的儲存池中。</block>
  <block id="3af6198d49c40c18f13c73c5ce15cf34" category="section-title">儲存類別設計</block>
  <block id="388bdf78cbb5b6bf4248ddf5613f7cc3" category="paragraph">要建立 Kubernetes 儲存類別對象，需要配置並套用各個儲存類別。本節討論如何為您的應用程式設計儲存類別。</block>
  <block id="0dceb918cb4a4d7dcbe5af26d08e7657" category="section-title">具體後端利用</block>
  <block id="a09acd5f665bdf96b6dce47f8d4265e3" category="paragraph">在特定的儲存類別物件中可以使用篩選來決定要與該特定儲存類別一起使用的儲存池或儲存池集。儲存類別中可以設定三組過濾器：<block ref="c614017642b6cfd9e6a25c7df122d917" prefix=" " category="inline-code"></block> ，<block ref="145d1b89a9f9ed8bdc16d1f7a814cace" prefix=" " category="inline-code"></block>和/或<block ref="7df974d787ead594df017a11672f2f0e" prefix=" " category="inline-code"></block>。</block>
  <block id="452de30c1a2630700e271baac21f9ff5" category="paragraph">這<block ref="c614017642b6cfd9e6a25c7df122d917" prefix=" " category="inline-code"></block>此參數有助於將儲存空間限制在與任何指定屬性相符的儲存池集合中。這<block ref="145d1b89a9f9ed8bdc16d1f7a814cace" prefix=" " category="inline-code"></block>此參數用於擴展Trident用於配置的池集，以及由屬性選擇的池集。<block ref="c614017642b6cfd9e6a25c7df122d917" prefix=" " category="inline-code"></block>參數。您可以單獨使用其中一個參數，也可以同時使用這兩個參數，以確保選擇合適的儲存池集。</block>
  <block id="74476e892d2681775eb41ec00a11e8da" category="paragraph">這<block ref="7df974d787ead594df017a11672f2f0e" prefix=" " category="inline-code"></block>此參數用於專門排除符合屬性要求的已列出泳池集合。</block>
  <block id="ebaf90f7386ae95e7960a2fc0084116e" category="section-title">模擬 QoS 策略</block>
  <block id="ab807e6bd2f9cb9872eed98161bdd4e1" category="paragraph">如果您希望設計儲存類別來模擬服務品質策略，請建立一個具有以下功能的儲存類別：<block ref="62933a2951ef01f4eafd9bdf4d3cd2f0" prefix=" " category="inline-code"></block>屬性為<block ref="dfdf2b9d5b3a77a55769b11d8a0396fe" prefix=" " category="inline-code"></block>或者<block ref="d4576b3b305e1df6f8ef4517ec2f9615" prefix=" " category="inline-code"></block>。基於<block ref="62933a2951ef01f4eafd9bdf4d3cd2f0" prefix=" " category="inline-code"></block>根據儲存類別中提到的屬性， Trident將選擇合適的後端來提供服務。<block ref="dfdf2b9d5b3a77a55769b11d8a0396fe" prefix=" " category="inline-code"></block>或者<block ref="d4576b3b305e1df6f8ef4517ec2f9615" prefix=" " category="inline-code"></block>將聚合與媒體屬性相匹配，然後將磁碟區的配置定向到特定的聚合上。因此，我們可以建立一個 PREMIUM 儲存類，它將具有<block ref="62933a2951ef01f4eafd9bdf4d3cd2f0" prefix=" " category="inline-code"></block>屬性集為<block ref="d4576b3b305e1df6f8ef4517ec2f9615" prefix=" " category="inline-code"></block>這可以歸類為高階 QoS 策略。我們可以建立另一個儲存類別 STANDARD，其媒體屬性設定為“hdd”，這可以歸類為 STANDARD QoS 策略。我們還可以使用儲存類別中的「IOPS」屬性將配置重定向到 Element 設備，該設備可以定義為 QoS 策略。</block>
  <block id="125ad0610423d53866d257eb097320e4" category="section-title">根據特定功能使用後端</block>
  <block id="0bc0e72aefbf8f8ec0b28cc0486f98a2" category="paragraph">儲存類別可以設計為在特定的後端上指導磁碟區配置，其中啟用了精簡配置和厚配置、快照、複製和加密等功能。若要指定要使用的存儲，請建立存儲類，指定啟用所需功能的相應後端。</block>
  <block id="e2dcff5242641fe99e5de74fa1bfd61c" category="paragraph">所有Trident後端均可使用虛擬池。你可以使用Trident提供的任何驅動程序，為任何後端定義虛擬池。</block>
  <block id="976ae934688a6ffde1862ea50e00d6f9" category="paragraph">虛擬池允許管理員在後端之上建立一個抽象層，可以透過儲存類別來引用該抽象層，從而在後端上更靈活、更有效率地放置磁碟區。同一服務類別可以定義不同的後端。此外，可以在同一個後端建立多個具有不同特性的儲存池。當使用具有特定標籤的選擇器配置儲存類別時， Trident會選擇與所有選擇器標籤相符的後端來放置磁碟區。如果儲存類別選擇器標籤與多個儲存池匹配， Trident將從中選擇其中一個來配置磁碟區。</block>
  <block id="46eefe0a9f18e4edef4d602d3868ad26" category="section-title">虛擬泳池設計</block>
  <block id="47d9ed5ad2795e2453dc7725d8fdeadc" category="paragraph">建立後端時，通常可以指定一組參數。管理員無法建立具有相同儲存憑證和不同參數集的另一個後端。隨著虛擬池的引入，這個問題得到了緩解。虛擬池是在後端和 Kubernetes 儲存類別之間引入的層級抽象，以便管理員可以定義參數以及可以透過 Kubernetes 儲存類別作為選擇器引用的標籤，以與後端無關的方式。可以使用Trident為所有支援的NetApp後端定義虛擬池。清單包括SolidFire/ NetApp HCI、 ONTAP、GCP 上的Cloud Volumes Service以及Azure NetApp Files。</block>
  <block id="e531eef4bc68547759b647c917ac2567" category="admonition">定義虛擬池時，建議不要嘗試在後端定義中重新排列現有虛擬池的順序。此外，建議不要編輯/修改現有虛擬池的屬性，而是定義一個新的虛擬池。</block>
  <block id="b6e026d8066036cf2628237905a58384" category="section-title">模擬不同的服務等級/QoS</block>
  <block id="9f65455ce006fe56e7588e4e14f1edb8" category="paragraph">可以設計虛擬池來模擬服務類別。使用Azure NetApp Files雲卷服務的虛擬池實現，讓我們來研究如何設定不同的服務類別。設定Azure NetApp Files後端，使用多個標籤來表示不同的效能等級。放<block ref="28277e44c5db61612accdf326d137e96" prefix=" " category="inline-code"></block>將各個方面調整到相應的性能水平，並在每個標籤下添加其他所需的方面。現在建立不同的 Kubernetes 儲存類，將它們對應到不同的虛擬池。使用<block ref="bed471c4a88e25ac9a7e4a7b980700a8" prefix=" " category="inline-code"></block>在欄位中，每個 StorageClass 都會指定哪些虛擬池可用於託管磁碟區。</block>
  <block id="628fd4af2a4e2fce014efbf03b84bb71" category="section-title">指定一組特定的方面</block>
  <block id="f274bdd304a8c3825a2766a1f8ff8fa7" category="paragraph">可以從單一儲存後端設計多個具有特定功能的虛擬池。為此，請在後端配置多個標籤，並在每個標籤下設定所需的方面。現在使用以下方式建立不同的 Kubernetes 儲存類別：<block ref="bed471c4a88e25ac9a7e4a7b980700a8" prefix=" " category="inline-code"></block>此欄位將對應到不同的虛擬池。後端配置的磁碟區將具有所選虛擬池中定義的方面。</block>
  <block id="421f7dd5bb37a6401aa6326ad33dae20" category="section-title">影響儲存供應的PVC特性</block>
  <block id="fb241a03678f7f6dbc815840b0eb275b" category="paragraph">在建立 PVC 時，要求的儲存類別以外的某些參數可能會影響Trident 的設定決策過程。</block>
  <block id="5ab83f35784f154d55ea7ab58c8e503b" category="section-title">訪問模式</block>
  <block id="f3882c83b41b76a9fac2c57407f3ac2b" category="paragraph">透過 PVC 請求儲存時，必填欄位之一是存取模式。所需的模式可能會影響用於託管儲存請求的後端選擇。</block>
  <block id="d0652515edf18bae4abe8c32cbada535" category="paragraph">Trident將嘗試根據下列矩陣將所使用的儲存協定與指定的存取方法進行比對。這與底層儲存平台無關。</block>
  <block id="cac415feda213697b27d3b6fce10d33a" category="cell">讀寫一次</block>
  <block id="c24ad3d99a666c95edd149419c958ee0" category="cell">只讀多</block>
  <block id="caa8dc1f4bb28d2d11226494cd05a123" category="cell">讀寫多</block>
  <block id="e4e1c13bb0b14f6cb7608cbecea948ef" category="cell">iSCSI</block>
  <block id="cefb8ccdebef1940174b22e9d0ab530b" category="cell">是的（原始區塊）</block>
  <block id="1d1a594959ec615f56516f5d0f5e8ddb" category="cell">NFS</block>
  <block id="823f2153adc2211a0777560eafdcbad6" category="paragraph">如果向未配置 NFS 後端的Trident部署提交 ReadWriteMany PVC 請求，則不會配置任何磁碟區。因此，請求者應該使用適合其應用的存取模式。</block>
  <block id="5a51acb2538e54805c54d37ebb49c75d" category="section-title">卷操作</block>
  <block id="26fad327e23b6b08dcc94300bfe1ed04" category="section-title">修改持久卷</block>
  <block id="7439c9a99660382e94c16c5272b9bfb0" category="paragraph">除兩種例外情況外，持久卷是 Kubernetes 中的不可變物件。創建完成後，可以修改回收策略和大小。然而，這並不能阻止在 Kubernetes 之外修改磁碟區的某些方面。為了針對特定應用定製卷，確保容量不會意外耗盡，或者出於任何原因將卷移動到不同的存儲控制器，這樣做可能是可取的。</block>
  <block id="ce8f76b595bb8163817ad21f0d964fe2" category="admonition">目前 Kubernetes 樹內配置器不支援對 NFS、iSCSI 或 FC PV 進行磁碟區大小調整操作。  Trident支援擴充 NFS、iSCSI 和 FC 磁碟區。</block>
  <block id="b1d1874782626fe3f391628ea493e6ef" category="paragraph">PV的連線詳情已建立後無法修改。</block>
  <block id="e68591655c8031177206e1e75728853f" category="section-title">建立按需卷快照</block>
  <block id="5778c34e2378296c943901d6fc399424" category="paragraph">Trident支援按需建立磁碟區快照，並支援使用 CSI 框架從快照建立 PVC。快照提供了一種便捷的方法來維護資料在特定時間點的副本，並且在 Kubernetes 中具有獨立於來源 PV 的生命週期。這些快照可用於複製PVC。</block>
  <block id="f007c56a8eb121e8a696105e69aefa68" category="section-title">從快照建立磁碟區</block>
  <block id="9aea71aa176b781fee80bdbfd4f20d46" category="paragraph">Trident也支援從磁碟區快照建立持久性磁碟區。要實現這一點，只需建立一個 PersistentVolumeClaim 並指定<block ref="1ea7e575defdf6bc3f26a3f127e98170" prefix=" " category="inline-code"></block>作為建立磁碟區所需的快照。 Trident將透過建立一個包含快照中資料的磁碟區來處理此 PVC。借助此功能，可以跨區域複製資料、建立測試環境、完全替換損壞或已損壞的生產卷，或檢索特定檔案和目錄並將其傳輸到另一個附加卷。</block>
  <block id="55a3309b0b6646e0ea6b47195bd3d4bd" category="section-title">在集群中移動卷</block>
  <block id="ed6f39ab5224d264f94fc4324f391366" category="paragraph">儲存管理員能夠在ONTAP叢集中，在聚合和控制器之間移動磁碟區，而不會對儲存使用者造成任何干擾。只要目標聚合是Trident使用的 SVM 可以存取的目標聚合，此操作就不會影響Trident或 Kubernetes 叢集。重要的是，如果聚合體是新添加到 SVM 中的，則需要透過將其重新新增至Trident來刷新後端。這將觸發Trident重新清點 SVM，以便識別新的聚合體。</block>
  <block id="aec7eb75babd44ee65e8fe4e8f0b1096" category="paragraph">但是， Trident並不自動支援跨後端移動磁碟區。這包括在同一個叢集中的 SVM 之間、叢集之間，或到不同的儲存平台（即使該儲存系統是連接到Trident 的儲存系統）。</block>
  <block id="16c30c56fe00d20f49bb055490dff7aa" category="paragraph">如果將磁碟區複製到另一個位置，則可以使用磁碟區匯入功能將目前磁碟區匯入到Trident。</block>
  <block id="2243e252be826d6ec5e767668d9f961d" category="section-title">擴大銷量</block>
  <block id="e168cabed41efc63d96f214d5cbe189a" category="paragraph">Trident支援調整 NFS、iSCSI 和 FC PV 的大小。這樣使用者就可以直接透過 Kubernetes 圖層調整磁碟區的大小。所有主流NetApp儲存平台，包括ONTAP、 SolidFire/ NetApp HCI和Cloud Volumes Service後端，均可進行磁碟區擴充。為了方便日後擴展，請設定<block ref="6add71a247c8f4513060920be14857bc" prefix=" " category="inline-code"></block>到<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>在與該磁碟區關聯的 StorageClass 中。每當需要調整持久卷的大小時，請編輯以下內容：<block ref="02b011e6fe36e26e5f7365ba08bf5a48" prefix=" " category="inline-code"></block>在持久卷聲明中加入所需卷大小的註解。  Trident會自動處理儲存叢集上磁碟區的大小調整。</block>
  <block id="40a28a40c11a193f8911cf4143a6ae6a" category="section-title">將現有磁碟區匯入 Kubernetes</block>
  <block id="62e0abd2d56d565a2b31e85b446fa800" category="paragraph">磁碟區匯入功能允許將現有儲存磁碟區匯入 Kubernetes 環境。目前這得到了以下方面的支持：<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block> ，<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block> ，<block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block> ，<block ref="bc5779a2d33eeb1304bae57f15920cfc" prefix=" " category="inline-code"></block> ， 和<block ref="5935ea92cdd7d975b4e764b429f21c01" prefix=" " category="inline-code"></block>司機。將現有應用程式移植到 Kubernetes 或災難復原場景中，此功能非常有用。</block>
  <block id="6b810970c1e58f8070c318df43054f6c" category="paragraph">使用ONTAP時<block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block>司機們，請使用該命令<block ref="5b139f5309999fcf6a4bbc8389cbc865" prefix=" " category="inline-code"></block>將現有磁碟區匯入 Kubernetes 以便由Trident管理。導入卷宗指令中使用的 PVC YAML 或 JSON 檔案指向一個儲存類，該儲存類別將Trident標識為設定程式。使用NetApp HCI/ SolidFire後端時，請確保磁碟區名稱是唯一的。如果磁碟區名稱重複，請將磁碟區複製為唯一名稱，以便磁碟區匯入功能可以區分它們。</block>
  <block id="39367d7a2c7f9b4acc498f4324db020c" category="paragraph">如果<block ref="bc5779a2d33eeb1304bae57f15920cfc" prefix=" " category="inline-code"></block>或者<block ref="5935ea92cdd7d975b4e764b429f21c01" prefix=" " category="inline-code"></block>驅動程式已啟用，請使用該命令<block ref="37e8b35fb48ead6318ca6f2f83110554" prefix=" " category="inline-code"></block>將磁碟區匯入 Kubernetes 以便由Trident管理。這樣可以確保卷號的唯一性。</block>
  <block id="4cb042ac9491457dd22d7368d4fa27c1" category="paragraph">執行上述命令後， Trident將在後端找到該磁碟區並讀取其大小。它會自動添加（必要時會覆蓋）已配置的PVC的容積大小。然後Trident創建新的 PV，Kubernetes 將 PVC 綁定到 PV。</block>
  <block id="3a8b25f50e2dcc298175abc8f6a71f82" category="paragraph">如果部署的貨櫃需要特定的進口 PVC，則該貨櫃將保持待定狀態，直到透過批量進口流程綁定 PVC/PV 對為止。  PVC/PV管連接好後，如果沒有其他問題，容器應該就能升起來。</block>
  <block id="6dd8f6c286b8e1a8c96c6309099f0003" category="section-title">註冊服務</block>
  <block id="68ee1c4c0da20bfd1e946df20351d4b9" category="inline-link-macro">netapp.io</block>
  <block id="126ac9f6149081eb0e97c2e939eaad52" category="inline-link-macro">部落格</block>
  <block id="34d357a7f8cc47e860d5fb0a317cf22d" category="paragraph">註冊表儲存的部署和管理已在文件中記錄。<block ref="d5e1883ebd095c0eda96c44469e8197d" category="inline-link-macro-rx"></block>在<block ref="ceb73d0582d40281d79011a1e5343e89" category="inline-link-macro-rx"></block>。</block>
  <block id="62ac236856a5a6aefd15133e967514c6" category="section-title">日誌服務</block>
  <block id="2f3052b6a2858bec8355ec56150f6a38" category="paragraph">與其他 OpenShift 服務一樣，日誌服務使用 Ansible 進行部署，設定參數由提供給 playbook 的清單檔案（又稱 hosts）提供。本文將介紹兩種安裝方法：在 OpenShift 初始安裝期間部署日誌記錄並在 OpenShift 安裝完成後部署日誌記錄。</block>
  <block id="3e01fdf7f18117c92347492814d988ee" category="admonition">從 Red Hat OpenShift 版本 3.9 開始，官方文件建議不要使用 NFS 作為日誌服務，因為有資料損壞的擔憂。這是基於紅帽公司對其產品的測試結果。 ONTAP NFS 伺服器不存在這些問題，並且可以輕鬆支援日誌部署。最終，日誌服務的協定選擇取決於您，但要知道，在使用NetApp平台時，這兩種協定都能很好地工作，如果您更喜歡 NFS，也沒有理由避免使用 NFS。</block>
  <block id="57cad4852c9c2e439f61728e0391fe7b" category="paragraph">如果選擇將 NFS 與日誌服務一起使用，則需要設定 Ansible 變數。<block ref="12eeb466f53968af86875065cacb87df" prefix=" " category="inline-code"></block>到<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>防止安裝程式運作失敗。</block>
  <block id="be11c74c1dd7f307bb80183a90dc2067" category="section-title">開始</block>
  <block id="16e90b2336fdfec64b19194247422194" category="paragraph">日誌服務可以選擇性地部署到應用程式以及 OpenShift 叢集本身的核心操作。如果您選擇部署操作日誌記錄，請指定下列變數<block ref="e9fb6c5b679bcf493f004e7862e40370" prefix=" " category="inline-code"></block>作為<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>將建立該服務的兩個實例。控制操作日誌實例的變數包含“ops”，而控制應用程式日誌實例的變數則不包含。</block>
  <block id="643f15e2581a728cb2a6d66953a357d7" category="paragraph">根據部署方法配置 Ansible 變數非常重要，以確保底層服務使用正確的儲存。讓我們來看看每種部署方法的選項。</block>
  <block id="2bf380408feee0a9443f217c907f0681" category="inline-link-macro">Red Hat OpenShift 日誌記錄文檔</block>
  <block id="796814ebd3d324fe438f0c699c37c89e" category="admonition">下表僅包含與日誌服務相關的儲存配置變數。您還可以找到其他選擇<block ref="202ad309c67a74272d432350a2d0cf76" category="inline-link-macro-rx"></block>應根據您的部署情況進行審查、配置和使用。</block>
  <block id="02098b11f876fe10c40b6106bd9864da" category="paragraph">下表中的變數將使 Ansible playbook 使用提供的詳細資訊為日誌服務建立 PV 和 PVC。雖然這種方法不如在 OpenShift 安裝後使用元件安裝 playbook 靈活，但如果您有現有的捲可用，這也不失為一個選擇。</block>
  <block id="47c14840d8e15331fa420b9b2f757cd9" category="cell">多變的</block>
  <block id="3ec365dd533ddb7ef3d1c111186ce872" category="cell">細節</block>
  <block id="9aa2fd43742cd5ed36b406b3f4b0fd8c" category="cell"><block ref="da877c5451281307ba496c6d47b9e58a" prefix="" category="inline-code"></block></block>
  <block id="3260b06ea72e4931f5fb5106001fcc28" category="cell">設定為<block ref="2521ef5d58fc027d3121662b7d8f9ac2" prefix=" " category="inline-code"></block>讓安裝程式為日誌服務建立 NFS PV。</block>
  <block id="e95f43173c69a9ca544d4aaef28a4d90" category="cell"><block ref="a6e6be3176202f08f0df1683c85dbcf6" prefix="" category="inline-code"></block></block>
  <block id="f39a4edd3567c3db7a288d4b8203dbee" category="cell">NFS主機的主機名稱或IP位址。這應該設定為虛擬機器的 dataLIF。</block>
  <block id="41aae586bb7044d7741fe9412aa81e03" category="cell"><block ref="de9d956706d370dbc262cec42d7dd029" prefix="" category="inline-code"></block></block>
  <block id="bf2d137d8c669b07aae26040c7e5c0e0" category="cell">NFS導出掛載路徑。例如，如果體積連接為<block ref="54db3c53100205a4065b324343188651" prefix=" " category="inline-code"></block>你會將該路徑用於此變數。</block>
  <block id="88a9f7d18fabb82d63ac43c64ae6e735" category="cell"><block ref="a9c9aa0bbb9f276fcffcb28987aafe46" prefix="" category="inline-code"></block></block>
  <block id="6f8782c23f3cb958d0de4fad76dabaed" category="cell">名稱，例如<block ref="2e85c8d6d60b1938be08d95bf1d5ed6c" prefix=" " category="inline-code"></block>，用於建立 PV。</block>
  <block id="789e0dc4bfc00f5c885a698d6ab34dff" category="cell"><block ref="db6cd83d9bf6cb9184c2966426d87c8d" prefix="" category="inline-code"></block></block>
  <block id="b68f05ea52c8c80c07e6a4c0671c75bf" category="cell">例如，NFS 導出的大小。<block ref="f6e2fcb8998619722fdea77d356a4b3b" prefix=" " category="inline-code"></block> 。</block>
  <block id="2ab80b6965298dc6a178995bbedebe88" category="paragraph">如果您的 OpenShift 叢集已經執行，因此Trident已經部署和配置，安裝程式可以使用動態配置來建立磁碟區。需要配置以下變數。</block>
  <block id="c2aecf833d743cbc47969cd85c67101e" category="cell"><block ref="5d0e211248d2b37acde90612e54b85c9" prefix="" category="inline-code"></block></block>
  <block id="540ad9a52084720ddb7f364fa8b304c6" category="cell">設定為 true 以使用動態配置磁碟區。</block>
  <block id="45a481a75749c5331e7e9fd7d89e473d" category="cell"><block ref="5e135d629059162b7f62817ebf81f67b" prefix="" category="inline-code"></block></block>
  <block id="837ffa1e281409660ed25582c5b1963f" category="cell">PVC 中將使用的儲存類別的名稱。</block>
  <block id="cd3daa927272b5624e96d283365d5500" category="cell"><block ref="7ee69f3d6802d7d49dc834e2a48533f8" prefix="" category="inline-code"></block></block>
  <block id="8f80d278a79cbc84b80a091713006022" category="cell">PVC中所要求的體積大小。</block>
  <block id="1bb0c7eeef4bbbefae080a294fd554b0" category="cell"><block ref="463a50d4707805ff518a7c1b614cae9b" prefix="" category="inline-code"></block></block>
  <block id="f870ec92e294a018a17afe7a614fb5bb" category="cell">日誌記錄服務使用的 PVC 前綴。</block>
  <block id="e8c62e1f0f0773ae5ba6a7acad696b2d" category="cell"><block ref="f4d06597471a7e461fa3aaaa2a053142" prefix="" category="inline-code"></block></block>
  <block id="46e65a11ac398c02b8fce45a7cd5cf36" category="cell">設定為<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>為運維日誌實例使用動態配置的磁碟區。</block>
  <block id="8792c7234e14325cb68c493d20ab5154" category="cell"><block ref="30a3d0fdc8ecf82523d9f348d96c46ab" prefix="" category="inline-code"></block></block>
  <block id="d016f79f0ee104f3805d61e6a379fb9b" category="cell">運維日誌實例的儲存類別名稱。</block>
  <block id="048e768365962d7d520567f92aea8355" category="cell"><block ref="7c884ec8a4d2fd51c22984fae2fe09f1" prefix="" category="inline-code"></block></block>
  <block id="bc367f89ac597585e52d0eb58a5929ae" category="cell">操作實例的磁碟區請求大小。</block>
  <block id="155871626071d69cb283985a9f36bad2" category="cell"><block ref="210255a36cb029002a696f21a04cf35d" prefix="" category="inline-code"></block></block>
  <block id="2a8f254749a466654f556c6466051133" category="cell">操作實例 PVC 的前綴。</block>
  <block id="e1b2d0d3228c29c069bcd139de306709" category="section-title">部署日誌堆疊</block>
  <block id="0409a0cfdfa4f3b3033503b8309442ff" category="paragraph">如果您將日誌記錄部署作為 OpenShift 初始安裝過程的一部分，那麼您只需要遵循標準部署程序。  Ansible 將配置和部署所需的服務和 OpenShift 對象，以便在 Ansible 完成後立即提供服務。</block>
  <block id="3a298688c4d78e1b7532d3859cd16a57" category="inline-link-macro">Red Hat OpenShift 容器平台 3.11 文檔</block>
  <block id="620fb6046d1af07a3df48b291902887c" category="paragraph">但是，如果在初始安裝之後進行部署，則需要使用 Ansible 的元件 playbook。此過程可能因 OpenShift 版本不同而略有差異，因此請務必閱讀並遵循相關說明。<block ref="87091f5bcd27af3d8592e461d451be85" category="inline-link-macro-rx"></block>適用於您的版本。</block>
  <block id="3dbf527ac3caf41ab150ec99a1737217" category="section-title">指標服務</block>
  <block id="ee3d8ea22d8bf88f2f7fcd6d6dbf26d2" category="paragraph">指標服務為管理員提供有關 OpenShift 叢集的狀態、資源利用率和可用性的寶貴資訊。此外，它對於 pod 自動擴展功能也是必要的，許多組織使用指標服務中的資料進行費用分攤和/或收益展示應用程式。</block>
  <block id="b8e4ea2ed30f2f3a9f05ef8e1cc243db" category="paragraph">與日誌服務以及整個 OpenShift 一樣，Ansible 也用於部署指標服務。此外，與日誌服務一樣，指標服務可以在叢集的初始設定期間或叢集運行後使用元件安裝方法進行部署。以下表格包含了為指標服務配置持久性儲存時重要的變數。</block>
  <block id="69aa4440020e49c654aeb910f38c6bb9" category="admonition">下表僅包含與指標服務相關的儲存配置變數。文件中還有許多其他選項，應根據您的部署情況進行檢視、配置和使用。</block>
  <block id="4f692d78f978a73b157571022c1d1ba7" category="cell"><block ref="87ee48b0bd9cbef625c9e58d29953bd9" prefix="" category="inline-code"></block></block>
  <block id="30da7e263c0cffc34933d24a07fb097a" category="cell"><block ref="03fe9d76b0b5aef27365ed846a7686c0" prefix="" category="inline-code"></block></block>
  <block id="7a6f34ea0b1eec52267ce30c62d910ba" category="cell">NFS主機的主機名稱或IP位址。這應該設定為你的 SVM 的 dataLIF。</block>
  <block id="3bafc264ad2a901d3be052a7f1cf2e44" category="cell"><block ref="30a3002c7df05045a0206d9273a384c6" prefix="" category="inline-code"></block></block>
  <block id="459859e54ba90bc4145c54d1f1deecff" category="cell">NFS導出掛載路徑。例如，如果體積連接為<block ref="84e465df2e745334cf363d2701acbc8c" prefix=" " category="inline-code"></block>你會將該路徑用於此變數。</block>
  <block id="ca0f0d82f9c7cbc36df652cddd4b2f35" category="cell"><block ref="2708722d0be9e759610930ca4ba0ccda" prefix="" category="inline-code"></block></block>
  <block id="eb10d02b22b02d7f543f867b8d31e7b0" category="cell">名稱，例如<block ref="346a344a8f42541e4f261b54ef920508" prefix=" " category="inline-code"></block>，用於建立 PV。</block>
  <block id="a3eeeafe923ac73e75b3bf33cdadb603" category="cell"><block ref="8085fdc8f39bb3d2c5b777041294d9bf" prefix="" category="inline-code"></block></block>
  <block id="a56c731cfe96d228c7c0bcc57bc80d3d" category="cell"><block ref="861e7642b92f41392f844c04bfffd5e0" prefix="" category="inline-code"></block></block>
  <block id="0da919d4045e4f38d294aaec73f5d57f" category="cell">用於指標 PVC 的前綴。</block>
  <block id="15bb3eef0b42a93e324977c289f2fd85" category="cell"><block ref="c3d37ddc32376761a7073bb028fe23f9" prefix="" category="inline-code"></block></block>
  <block id="75929c9d67f1407282b5618fca4589e7" category="cell">請求的捲冊數量。</block>
  <block id="8ebb493e0ffdf7c1e850c67bc22f15c7" category="cell"><block ref="d2744c21ee3a719be8d523f86c2d1538" prefix="" category="inline-code"></block></block>
  <block id="aab0ec84a4da1dfd2b63896453f1e05d" category="cell">用於指標的儲存類型，必須設定為動態，以便 Ansible 建立具有適當儲存類別的 PVC。</block>
  <block id="460aaf3805271ec2e5dc35755fe317b1" category="cell"><block ref="c79cb64517774919120c2dfa7c06e9a8" prefix="" category="inline-code"></block></block>
  <block id="0c55ca33e89539cd67eb0be3796547c5" category="cell">要使用的儲存類別的名稱。</block>
  <block id="6c13e62eb53f29e7794d3807369299d2" category="section-title">部署指標服務</block>
  <block id="e8b2e1fd32346fcd38f11f84cd51d409" category="paragraph">在 hosts/inventory 檔案中定義了對應的 Ansible 變數後，使用 Ansible 部署服務。如果您在安裝 OpenShift 時進行部署，則 PV 將自動建立和使用。如果您使用元件 playbook 進行部署，則在 OpenShift 安裝之後，Ansible 會建立所需的任何 PVC，並在Trident為其配置儲存之後部署服務。</block>
  <block id="95c7854cff26589ad1555baa8672c001" category="inline-link-macro">紅帽 OpenShift 部署指南</block>
  <block id="757eaf1f1a551aabeb24f57705261f85" category="paragraph">上述變數以及部署過程可能會隨著 OpenShift 的每個版本而改變。請務必查看並遵循<block ref="1b29818189b1aff318eccaee960b09cb" category="inline-link-macro-rx"></block>請根據您的環境配置您的版本。</block>
  <block id="9560d298aea880d389acf56a45410c4b" category="summary">您可以設定加密來保護Trident和您的儲存後端之間的流量。</block>
  <block id="c994f1e00d22f7d8d4e7b3e7f50f8002" category="doc">Kerberos 飛行中加密</block>
  <block id="c8ea4672c0efc6fee26c8648f609a829" category="paragraph">使用 Kerberos 傳輸中加密，您可以對託管叢集和儲存後端之間的流量啟用加密，從而提高資料存取安全性。</block>
  <block id="420bac2406e93da0c7c791aca209017d" category="paragraph">Trident支援以ONTAP作為儲存後端的 Kerberos 加密：</block>
  <block id="796f801ad41f96aeb2e1a1950ed629e4" category="list-text">*本地ONTAP* - Trident支援透過 NFSv3 和 NFSv4 連線對來自 Red Hat OpenShift 和上游 Kubernetes 叢集的本機ONTAP磁碟區進行 Kerberos 加密。</block>
  <block id="0a710c309a5f6dc65b056833a5208521" category="paragraph">您可以建立、刪除、調整大小、建立快照、複製、只讀複製和匯入使用 NFS 加密的磁碟區。</block>
  <block id="2aff02c8ceb99a9445937af9d4d8f286" category="section-title">配置本地ONTAP磁碟區的飛行中 Kerberos 加密</block>
  <block id="330282591e8caa9814eb88ec524b89cf" category="paragraph">您可以為託管叢集和本機ONTAP儲存後端之間的儲存流量啟用 Kerberos 加密。</block>
  <block id="daf34fb0fcb74d9bcf85abcebcc8e1f2" category="admonition">僅使用以下方式支援對本地ONTAP儲存後端的 NFS 流量進行 Kerberos 加密：<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block>儲存驅動程式。</block>
  <block id="0ff02d27ae5cac1a12c6c403fd55443c" category="list-text">確保您可以訪問<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>公用事業。</block>
  <block id="bef890ed7cc869346d4b483cd3e3ab00" category="list-text">請確保您擁有ONTAP儲存後端的管理員權限。</block>
  <block id="160b05c1b85ce34d702a3568614baec1" category="list-text">請確保您知道要從ONTAP儲存後端共用的磁碟區的名稱。</block>
  <block id="65066f84c75170b9c4abad6591a73548" category="inline-link">在資料 LIF 上啟用 Kerberos</block>
  <block id="3d2c78553d28b3786f4ec9e513e0adba" category="list-text">請確保您已準備好ONTAP儲存 VM，以支援 NFS 磁碟區的 Kerberos 加密。請參閱<block ref="27faba9d44bb486b2290a75aafcee5c1" category="inline-link-rx"></block>以取得說明。</block>
  <block id="9fe985de654739fa6f48edb0d49059b4" category="inline-link">NetApp NFSv4 增強功能與最佳實務指南</block>
  <block id="9c6a0d551d50340cca48e6cfa4355566" category="list-text">請確保所有與 Kerberos 加密一起使用的 NFSv4 磁碟區都已正確設定。請參閱NetApp NFSv4 網域設定部分（第 13 頁）。<block ref="fcbfe3012009d21ef9ba8407142f85b6" category="inline-link-rx"></block> 。</block>
  <block id="7c67bfc9153da2055f6d09209f9853c7" category="section-title">新增或修改ONTAP匯出策略</block>
  <block id="3afa4a2a4546fcf1b9a361d1bff9763b" category="paragraph">您需要為現有的ONTAP匯出策略新增規則，或建立新的匯出策略，以支援對ONTAP儲存 VM 根磁碟區以及與上游 Kubernetes 叢集共用的任何ONTAP磁碟區進行 Kerberos 加密。您新增的匯出策略規則或您建立的新匯出策略需要支援以下存取協定和存取權限：</block>
  <block id="e21233a7f0d7fedb5883aea1dfed27cf" category="paragraph-title">訪問協定</block>
  <block id="e10f51f4d0eb1b58929237c03db4b832" category="paragraph">配置導出策略，支援 NFS、NFSv3 和 NFSv4 存取協定。</block>
  <block id="baedff73fdfff23f65e8b80727cd3088" category="paragraph-title">訪問詳情</block>
  <block id="892969be437eb53b05f372cc0ae74d6c" category="paragraph">您可以根據磁碟區的需求配置三種不同版本的 Kerberos 加密之一：</block>
  <block id="fda32d078836aa6e69a3497be5f9cdca" category="list-text">*Kerberos 5* - （驗證和加密）</block>
  <block id="7d55fc39e32469f330297f866ec40e41" category="list-text">*Kerberos 5i* - （身份驗證和加密，具有身份保護功能）</block>
  <block id="ec7a355c2dad88f01ddce6c662ff507f" category="list-text">*Kerberos 5p* - （驗證和加密，提供身分和隱私保護）</block>
  <block id="43c969c43b32e3dd3bcf607fcbe4eb43" category="paragraph">配置ONTAP導出策略規則，使其具有適當的存取權限。例如，如果叢集將使用 Kerberos 5i 和 Kerberos 5p 混合加密方式掛載 NFS 卷，請使用下列存取設定：</block>
  <block id="0370275db54735bcb50d5bfce36de4e6" category="cell">只讀存取權限</block>
  <block id="dbdb2754b99a3cb725e62ef04c72ee06" category="cell">讀/寫權限</block>
  <block id="a3a9521b6675631e988004e7b8ffe7b4" category="cell">超級使用者存取權限</block>
  <block id="15395d0642f86c5992abbca5e56e2b29" category="cell">UNIX</block>
  <block id="00d23a76e43b46dae9ec7aa9dcbebb32" category="cell">已啟用</block>
  <block id="f22873ba6efee4accc10bd5a3d3ca9eb" category="cell">Kerberos 5i</block>
  <block id="a98fd9001be872cb9763c171625ee881" category="cell">Kerberos 5p</block>
  <block id="9a83b6e7170a551799b737b273fde5e1" category="paragraph">有關如何建立ONTAP匯出策略和匯出策略規則，請參閱以下文件：</block>
  <block id="bb53c6c29f127a298da7dd86bf00bb89" category="inline-link">建立導出策略</block>
  <block id="2065c7b470f4d228b592158785fc8c0b" category="list-text"><block ref="2065c7b470f4d228b592158785fc8c0b" category="inline-link-rx"></block></block>
  <block id="8c47b652d31bca921bb367b0e3c5ec6d" category="inline-link">在匯出策略中新增規則</block>
  <block id="249db3ace916cc1363d388978a8b6c5e" category="list-text"><block ref="249db3ace916cc1363d388978a8b6c5e" category="inline-link-rx"></block></block>
  <block id="c21c2b66c343dfe9db6298e59c2cc767" category="section-title">建立儲存後端</block>
  <block id="449396632614b1e0731c51704890f8bd" category="paragraph">您可以建立包含 Kerberos 加密功能的Trident儲存後端設定。</block>
  <block id="0848c0a5d21711a3f8967a344553c492" category="paragraph">建立配置 Kerberos 加密的儲存後端設定檔時，可以使用下列方式指定三種不同版本的 Kerberos 加密之一：<block ref="21f59c061af833af5de20556ce76052d" prefix=" " category="inline-code"></block>範圍：</block>
  <block id="619885da64e4ba4b0df04a00d78079b7" category="list-text"><block ref="47587c842cb0a2574a5a4c7c644b006d" prefix="" category="inline-code"></block>（身份驗證和加密）</block>
  <block id="aa734ef649b1255faccfc198980bf49a" category="list-text"><block ref="600550ee922e257041b75142ddab2319" prefix="" category="inline-code"></block>（身份驗證和加密，以及身份保護）</block>
  <block id="4197df0e0ac8f9480069ee1e0dc22543" category="list-text"><block ref="b148e7f5a01830ae530070588af5e9e6" prefix="" category="inline-code"></block>（身份驗證和加密，以及身分和隱私保護）</block>
  <block id="c99e9f5ade1b20705438ad6882d112c2" category="paragraph">只能指定一個 Kerberos 等級。如果在參數清單中指定多個 Kerberos 加密級別，則僅使用第一個選項。</block>
  <block id="926a7d5402fb3ed0da8fcd630e3a8f8c" category="list-text">在託管叢集上，使用以下範例建立儲存後端設定檔。將方括號 &lt;&gt; 中的值替換為您環境中的資訊：</block>
  <block id="2cd636101227e18554e5c5351bf5bbe3" category="list-text">使用上一步建立的設定檔建立後端：</block>
  <block id="a61ed3c1ecae587dbee1f2c0ace81e3b" category="paragraph">如果後端建立失敗，則後端配置存在問題。您可以透過執行以下命令查看日誌以確定原因：</block>
  <block id="8427b84145b88f048d5caa532324cd11" category="paragraph">在您發現並修正設定檔中的問題後，您可以再次執行建立命令。</block>
  <block id="3204b0a88f0c8e6cb89ef2653173ddf1" category="paragraph">您可以建立儲存類別來配置具有 Kerberos 加密的磁碟區。</block>
  <block id="03111bbdda72125f143e084557265c1c" category="paragraph">建立儲存類別物件時，可以使用下列方式指定三種不同版本的 Kerberos 加密之一：<block ref="e1d3d66c5926aa7fbc3186da8f9b476b" prefix=" " category="inline-code"></block>範圍：</block>
  <block id="85eee746a5d30d5149d419a3dfd2fe4e" category="list-text"><block ref="ebd2fabd7ee9d78e670334fba38c5a6b" prefix="" category="inline-code"></block>（身份驗證和加密）</block>
  <block id="24dac19871e9929a42267b538a60ebe5" category="list-text"><block ref="82f5845550ca9ab77ce797c16bd7bca1" prefix="" category="inline-code"></block>（身份驗證和加密，以及身份保護）</block>
  <block id="c36d9d41da2e174bfa8b3338450fb45c" category="list-text"><block ref="7a1dedb8f6c22fd4833b45267ad3b01a" prefix="" category="inline-code"></block>（身份驗證和加密，以及身分和隱私保護）</block>
  <block id="4a2e7c9ecf75ac18d4daec2783256280" category="paragraph">只能指定一個 Kerberos 等級。如果在參數清單中指定多個 Kerberos 加密級別，則僅使用第一個選項。如果在儲存後端設定中指定的加密等級與在儲存類別物件中指定的加密等級不同，則以儲存類別物件為準。</block>
  <block id="0bae6577bb0c45b6f2d82896713df9f9" category="list-text">建立一個 StorageClass Kubernetes 對象，請參考下列範例：</block>
  <block id="bd9c5e9bd5f130a6fbdbcaeb04656652" category="list-text">建立儲存類別：</block>
  <block id="2472867b1c2b8a486fe64cfc08afeba5" category="list-text">請確保已建立儲存類別：</block>
  <block id="0a44f30bac4e15e0464a80627bef5882" category="section-title">供應量</block>
  <block id="37bd6ab74d66efd877ea77c0e69e593c" category="paragraph">建立儲存後端和儲存類別之後，現在可以設定捲了。有關說明，請參閱<block ref="70405bfb2744633a336a6c9abdd1df6e" category="inline-link-rx"></block>。</block>
  <block id="fe10ad21eb1ce607c403a8d609d5ab3e" category="section-title">使用Azure NetApp Files磁碟區設定飛行中 Kerberos 加密</block>
  <block id="cd21e25bc313d3805456542eac624499" category="paragraph">您可以為託管叢集與單一Azure NetApp Files儲存後端或Azure NetApp Files儲存後端虛擬池之間的儲存流量啟用 Kerberos 加密。</block>
  <block id="04379b5e9a5ec6b970752d2b8d0341c8" category="list-text">請確保已在受管 Red Hat OpenShift 叢集上啟用Trident 。</block>
  <block id="6c32a3d0f1a665987b98dde5a0f96d7d" category="inline-link">Azure NetApp Files文檔</block>
  <block id="aa63a31f222305a4ce10d8c1020ab1fd" category="list-text">請確保您已按照以下說明準備好Azure NetApp Files儲存後端以進行 Kerberos 加密：注意相關要求並按照說明進行操作。<block ref="54b351b1767d2d50eb8c87e19c20164c" category="inline-link-rx"></block> 。</block>
  <block id="4f07c8d51fef64025d4b746305177733" category="paragraph">您可以建立包含 Kerberos 加密功能的Azure NetApp Files儲存後端設定。</block>
  <block id="5c6eaa8dd4c4134f6ad836e97ffdee13" category="paragraph">建立配置 Kerberos 加密的儲存後端設定檔時，您可以將其定義為套用於下列兩個層級之一：</block>
  <block id="bc0557be41ea94e344d7ece1f311b7d4" category="list-text">使用*儲存後端等級*<block ref="6a60a6d9955ef9fce24cf4e86efed7af" prefix=" " category="inline-code"></block>場地</block>
  <block id="e30ee9a2b9976217a5fe28b412fe04d6" category="list-text">使用*虛擬池層級*<block ref="533988f6253fcffab6270c1aafb50970" prefix=" " category="inline-code"></block>場地</block>
  <block id="64864cec765a0e5c421369098904873c" category="paragraph">在虛擬池層級定義配置時，使用儲存類別中的標籤選擇池。</block>
  <block id="082ccae8192fda90d271d92200b3a7dd" category="paragraph">無論在哪個級別，您都可以指定三種不同版本的 Kerberos 加密之一：</block>
  <block id="853434fc4aabccb1e3341f56ef2a9424" category="list-text"><block ref="9ce0da43b8420d1a89f0d00da04312a2" prefix="" category="inline-code"></block>（身份驗證和加密）</block>
  <block id="44ea74e03aa9994870273996b8770ef6" category="list-text"><block ref="6bbaa5deea5e26abf8837d31bd265b6f" prefix="" category="inline-code"></block>（身份驗證和加密，以及身份保護）</block>
  <block id="e22427c81cd5155061fad66ed3f13f52" category="list-text"><block ref="42b55bed7d0514cd2e2189a3edc9d87b" prefix="" category="inline-code"></block>（身份驗證和加密，以及身分和隱私保護）</block>
  <block id="c51fc706f0eb21d747d3ff2e2bb6c38b" category="list-text">在託管叢集上，根據您需要定義儲存後端的位置（儲存後端等級或虛擬池層級），使用下列範例之一建立儲存後端設定檔。將方括號 &lt;&gt; 中的值替換為您環境中的資訊：</block>
  <block id="d51a5db438981d465f8fecc7ecbeb054" category="open-title">儲存後端範例</block>
  <block id="83aab9b6ffc8c65b79350e009c49e5f4" category="open-title">虛擬池層級範例</block>
  <block id="d6e925b1fae42b853ba04f3810c28628" category="summary">您可以啟用 Linux 統一密鑰設定 (LUKS) 來加密Trident上的ONTAP SAN 和ONTAP SAN ECONOMY 磁碟區。  Trident支援 LUKS 加密磁碟區的磁碟區大小調整和金鑰（口令）輪替。</block>
  <block id="b6969fa89b54a37ee3628194aebbbea3" category="doc">Linux 統一金鑰設定 (LUKS)</block>
  <block id="3d987bdfee54b4cc132665887eab7b60" category="paragraph">您可以啟用 Linux 統一密鑰設定 (LUKS) 來加密Trident上的ONTAP SAN 和ONTAP SAN ECONOMY 磁碟區。  Trident支援 LUKS 加密磁碟區的密碼短語輪換和磁碟區擴展。</block>
  <block id="a44b6b00e5eebd7494e1fd00658685e2" category="inline-link-macro">美國國家標準與技術研究院</block>
  <block id="35ae21817657169af402c244d1974dfd" category="paragraph">在Trident中，LUKS 加密磁碟區使用 aes-xts-plain64 密碼和模式，這是建議的。<block ref="79a538d5fda32e1565131ca044d589f6" category="inline-link-macro-rx"></block> 。</block>
  <block id="e995d56efd9e31d97825dd79be4d1383" category="inline-link-macro">了解ASA r2 儲存系統</block>
  <block id="19bf8687ff63071d6f6661c290cba7c2" category="admonition">ASA r2 系統不支援 LUKS 加密。有關ASA r2 系統的信息，請參閱<block ref="40f055dd42976ff294174231df35e37e" category="inline-link-macro-rx"></block>。</block>
  <block id="83188252104d97bbc732f23aa3b26ae2" category="inline-link-macro">GitLab：加密設定</block>
  <block id="525588be7f6bc2cf7b3b257ced2b19c7" category="list-text">工作節點必須安裝 cryptsetup 2.1 或更高版本（但低於 3.0）。欲了解更多信息，請訪問<block ref="39c06d5570d5dfd5c63abe15a0d8d2fb" category="inline-link-macro-rx"></block>。</block>
  <block id="1b5e17f09c6b94c6a943765fe4bf9d6c" category="list-text">出於效能方面的考慮， NetApp建議工作節點支援進階加密標準新指令 (AES-NI)。若要驗證是否支援 AES-NI，請執行下列命令：</block>
  <block id="0520b57116af979714f913239aa512a5" category="inline-link-macro">英特爾：高階加密標準指令集（AES-NI）</block>
  <block id="64e4c9865ee7451edfc34d72da12ee7d" category="paragraph">如果沒有回傳任何內容，則表示您的處理器不支援 AES-NI。有關 AES-NI 的更多信息，請訪問：<block ref="e77f47a78a9c4677daf14d5366b503b4" category="inline-link-macro-rx"></block> 。</block>
  <block id="83f59a8c99f92feae93c90d4f7bd0d68" category="section-title">啟用 LUKS 加密</block>
  <block id="b9a97083b1f9ee5d9d6fd1ec4025a836" category="paragraph">您可以使用 Linux 統一密鑰設定 (LUKS) 為ONTAP SAN 和ONTAP SAN ECONOMY 磁碟區啟用按磁碟區主機端加密。</block>
  <block id="06c4db929b729ddf158ceb5cc15b122b" category="inline-link-macro">ONTAP SAN 配置選項</block>
  <block id="d197aff07a41df5dbefcace33058435c" category="list-text">在後端配置中定義 LUKS 加密屬性。有關ONTAP SAN 後端配置選項的更多信息，請參閱<block ref="e87ded5ef8bc8adbc3c135528636f4f2" category="inline-link-macro-rx"></block>。</block>
  <block id="227eef96675ec0e7595951c060437608" category="list-text">使用<block ref="bed471c4a88e25ac9a7e4a7b980700a8" prefix=" " category="inline-code"></block>使用 LUKS 加密定義儲存池。例如：</block>
  <block id="a99f022d7515cf14d9d2e49a72198c5c" category="list-text">建立一個包含 LUKS 密碼短語的金鑰。例如：</block>
  <block id="e646e16bee8b32e6ea29e30d01970a6c" category="section-title">限制</block>
  <block id="6d8e596656bc0dc6684415f94bee7e6a" category="paragraph">LUKS 加密磁碟區無法利用ONTAP重複資料刪除和壓縮功能。</block>
  <block id="ab946346d7b6ebd4a84d96bb78dcd833" category="section-title">導入 LUKS 磁碟區的後端配置</block>
  <block id="32a9b32fc41708606002471c1eb3f55c" category="paragraph">若要匯入 LUKS 卷，您必須設定<block ref="0f179ba2bc32ab5d8f60692f5b800c86" prefix=" " category="inline-code"></block>到<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>在後端。這<block ref="0f179ba2bc32ab5d8f60692f5b800c86" prefix=" " category="inline-code"></block>此選項用於告知Trident該磁碟區是否符合 LUKS 標準。<block ref="b326b5062b2f0e69046810717534cb09" prefix="(" category="inline-code"></block>或不符合 LUKS 標準<block ref="68934a3e9455fa72420237eb05902327" prefix="(" category="inline-code"></block>）如下例所示。</block>
  <block id="64049136ec90cc479c7521e9b6e172eb" category="section-title">用於導入 LUKS 磁碟區的 PVC 配置</block>
  <block id="b49b86551096c421a3bc5d3b79eede84" category="paragraph">若要動態匯入 LUKS 卷，請設定註釋<block ref="36720d50814e4335401b2047257bfedf" prefix=" " category="inline-code"></block>到<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>並在 PVC 中包含一個支援 LUKS 的儲存類，如本例所示。</block>
  <block id="f9d3cd939395358ac0f0bd3a1043656c" category="section-title">輪換 LUKS 密碼短語</block>
  <block id="5173c14a913aecabc2aa4a398abfd3a1" category="paragraph">您可以輪換 LUKS 密碼短語並確認輪換。</block>
  <block id="870809044094847738d2e3b2d3490240" category="admonition">在您確認任何磁碟區、快照或金鑰不再引用該密碼短語之前，請勿忘記該密碼短語。如果引用的密碼短語遺失，您可能無法掛載卷，資料將保持加密狀態且無法存取。</block>
  <block id="623002c2cdb3e388098c78e4a56c5f74" category="paragraph">當指定新的 LUKS 密碼短語後建立掛載磁碟區的 pod 時，就會發生 LUKS 密碼短語輪替。當建立新的 pod 時， Trident會將磁碟區上的 LUKS 密碼短語與金鑰中的活動密碼短語進行比較。</block>
  <block id="a09edd6ec72e24ea93fe0643001ce09b" category="list-text">如果磁碟區上的密碼短語與金鑰中的活動密碼短語不匹配，則會發生輪換。</block>
  <block id="85341a765feac19c14ddb5733a16bb0f" category="list-text">如果磁碟區上的密碼短語與金鑰中的活動密碼短語匹配，則<block ref="4146f2b31b5baccc1599d6209e20b87f" prefix=" " category="inline-code"></block>參數被忽略。</block>
  <block id="e11fe3d05d72f7812c946ac80ae339ed" category="list-text">添加<block ref="c774c2255b7e3b1f75cd200c366d4148" prefix=" " category="inline-code"></block>和<block ref="59ab79bfd6177f0b40d74d58d4a94d89" prefix=" " category="inline-code"></block>StorageClass 參數。例如：</block>
  <block id="7fe288bcd08368971a3839f1de636c7c" category="list-text">識別磁碟區或快照上已存在的密碼短語。</block>
  <block id="bd7a9717d29c5ddcab1bc175eda1e298" category="listing-title">體積</block>
  <block id="c0526adc9b28d758d8fab9d4a5b998ef" category="list-text">更新磁碟區的 LUKS 金鑰，以指定新的和先前的密碼短語。確保<block ref="119d124de86f53dbdf015ff1809c10e1" prefix=" " category="inline-code"></block>和<block ref="4146f2b31b5baccc1599d6209e20b87f" prefix=" " category="inline-code"></block>與先前的密碼短語相符。</block>
  <block id="4f8a79fea6c3cc09f49769b8473808f7" category="list-text">建立一個新的 pod，掛載該磁碟區。這是啟動旋轉所必需的步驟。</block>
  <block id="bcf837455c951c49bd9138ead166c489" category="list-text">確認密碼短語已輪換。</block>
  <block id="fd69c5cf902969e6fb71d043085ddee6" category="paragraph-title">結果</block>
  <block id="0c7eac961f50eef2d0c82d382fdd18b3" category="paragraph">當磁碟區和快照上僅傳回新密碼短語時，密碼短語就會輪替。</block>
  <block id="6ff457ceee4568584dc3fd66c1ae658a" category="admonition">例如，如果傳回兩個密碼短語。<block ref="b5b0f81d5dbb45d3dd031f1b02af8bf3" prefix=" " category="inline-code"></block>旋轉不完整。您可以觸發一個新的機艙來嘗試完成輪換。</block>
  <block id="b3f9d5f1e12f2ba5ecd2ece1e9084f3f" category="section-title">啟用磁碟區擴充</block>
  <block id="e5307495a3aec6528b42d3f3e835a761" category="paragraph">您可以對 LUKS 加密磁碟區啟用磁碟區擴充。</block>
  <block id="aeec1a5a7dc7624995570096ce8156ef" category="inline-link-macro">Kubernetes 1.25：使用金鑰實作 CSI 磁碟區的節點驅動擴展</block>
  <block id="1282398415278cc77bc47970640d4188" category="list-text">啟用<block ref="b0e105de2a2f0820528649fee8d2e331" prefix=" " category="inline-code"></block>功能門（beta 1.25+）。參考 <block ref="35e3bd84b2522e04fd4ead86130c9227" category="inline-link-macro-rx"></block> 了解詳情。</block>
  <block id="e4de718025be845e2dec22064bb4eece" category="list-text">添加<block ref="91985ce21cd787a6ab2a13cc97f58968" prefix=" " category="inline-code"></block>和<block ref="641c8d6753dd78e60ebb61a20e6a2742" prefix=" " category="inline-code"></block>StorageClass 參數。例如：</block>
  <block id="e718558948d1441cf3873df6fb7b10c3" category="paragraph">啟動線上儲存擴充功能時，kubelet 會將對應的憑證傳遞給驅動程式。</block>
  <block id="0cf736e750e01f7d7ddbc08fe8297576" category="summary">請按照此處列出的建議，確保您的Trident安裝安全可靠。</block>
  <block id="2fae32629d4ef4fc6341f1751b405e45" category="doc">安全</block>
  <block id="e047f381a9811c1d60a8a3750b2d0cda" category="paragraph">請按照此處列出的建議，確保您的Trident安裝安全可靠。</block>
  <block id="2d40d7a116d252bb16ef5b074c9c28ee" category="section-title">在Trident自身的命名空間中運行它</block>
  <block id="7d4a55ae858dcca9ad616f33e6035cc6" category="paragraph">防止應用程式、應用程式管理員、使用者和管理應用程式存取Trident物件定義或 pod 非常重要，以確保可靠的儲存並封鎖潛在的惡意活動。</block>
  <block id="59eb6cc525324355d85d541c963c8697" category="paragraph">為了將其他應用程式和使用者與Trident隔離，請務必將Trident安裝在其自身的 Kubernetes 命名空間中。<block ref="47cb44be55a0dffa15dfc900a4c687be" prefix="(" category="inline-code"></block> ）。將Trident放在自己的命名空間中，可以確保只有 Kubernetes 管理員才能存取Trident pod 和儲存在命名空間 CRD 物件中的工件（例如後端和 CHAP 金鑰，如果適用）。您應該確保只允許管理員存取Trident命名空間，從而獲得存取權限。<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>應用。</block>
  <block id="f40aef657c875e42158050f63dcfbb6f" category="section-title">使用 CHAP 驗證與ONTAP SAN 後端配合使用</block>
  <block id="9d9837d692b44e524c96b427964bea85" category="paragraph">Trident支援基於 CHAP 的ONTAP SAN 工作負載驗證（使用<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block>和<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block>司機）。  NetApp建議使用Trident的雙向 CHAP 進行主機與儲存後端之間的驗證。</block>
  <block id="5f82f4ab2783617b6e62bdd43d4a4e49" category="inline-link-macro">準備配置後端ONTAP SAN 驅動程式</block>
  <block id="10c80ca6b662fb62c61b4f3551fa4460" category="paragraph">對於使用 SAN 儲存驅動程式的ONTAP後端， Trident可以透過以下方式設定雙向 CHAP 並管理 CHAP 使用者名稱和金鑰：<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block> 。請參閱<block ref="647d5f494fdd01a14f263aa1b49a3db4" category="inline-link-macro-rx"></block>了解Trident如何在ONTAP後端設定 CHAP。</block>
  <block id="d4e0ad8fd8e11d87eb431051692db344" category="section-title">使用 CHAP 驗證連線NetApp HCI和SolidFire後端</block>
  <block id="a77f6a8d6a33d8d8102cdeed9631b96d" category="paragraph">NetApp建議部署雙向 CHAP，以確保主機與NetApp HCI和SolidFire後端之間的驗證。 Trident使用一個包含每個租用戶兩個 CHAP 密碼的秘密物件。安裝Trident後，它會管理 CHAP 金鑰並將其儲存在一個位置。<block ref="3ddc70b4b408f6dd5bbd5fe7d6008993" prefix=" " category="inline-code"></block>對應 PV 的 CR 物件。在建立 PV 時， Trident使用 CHAP 金鑰啟動 iSCSI 會話，並透過 CHAP 與NetApp HCI和SolidFire系統通訊。</block>
  <block id="99dfe9c8c9bd791b7382d67a440c38be" category="admonition">Trident建立的磁碟區不會與任何磁碟區存取群組關聯。</block>
  <block id="9559c7656e8a28d235478856aa8e44ce" category="section-title">將Trident與 NVE 和 NAE 結合使用</block>
  <block id="c638f77e97a62d0d11f775816222d62a" category="inline-link-macro">配置NetApp卷加密概述</block>
  <block id="b65b10bf779c45e4940c255ecf83bdc3" category="paragraph">NetApp ONTAP提供靜態資料加密，以保護敏感數據，防止磁碟被盜、退回或重新利用。有關詳細信息，請參閱<block ref="e0b51490e5d435c82abc702d0a4ca15c" category="inline-link-macro-rx"></block>。</block>
  <block id="4a8deb2ba46901e5599a8d9ca85ca254" category="list-text">如果後端啟用了 NAE，則在Trident中配置的任何磁碟區都會啟用 NAE。</block>
  <block id="8ef3114bf1395e8f04d7b3404982499e" category="list-text">您可以將 NVE 加密標誌設定為<block ref="9d4568c009d203ab10e33ea9953a0264" prefix=" " category="inline-code"></block>建立支援 NAE 的磁碟區。</block>
  <block id="351e2b20bd9ea864b69cd832f3a4a5df" category="list-text">如果後端未啟用 NAE，則在Trident中配置的任何磁碟區都會啟用 NVE，除非 NVE 加密標誌設為 。<block ref="68934a3e9455fa72420237eb05902327" prefix=" " category="inline-code"></block> （後端配置中的預設值）。</block>
  <block id="6fd5fcab13431f04cede0c124a46282a" category="paragraph">在啟用 NAE 的後端上使用Trident建立的磁碟區必須使用 NVE 或 NAE 加密。</block>
  <block id="1bb1c0791a9e9cff8de216ed44b1de31" category="list-text">您可以將 NVE 加密標誌設定為<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>在Trident後端設定中，可以覆蓋 NAE 加密，並按磁碟區使用特定的加密金鑰。</block>
  <block id="18eea8a0000e827a336c57c06568e4d5" category="list-text">將 NVE 加密標誌設為<block ref="68934a3e9455fa72420237eb05902327" prefix=" " category="inline-code"></block>在啟用 NAE 的後端上建立啟用 NAE 的磁碟區。您無法透過將 NVE 加密標誌設為 來停用 NAE 加密。<block ref="68934a3e9455fa72420237eb05902327" prefix=" " category="inline-code"></block> 。</block>
  <block id="9feef6eaebf84b29639dd7c179735c8c" category="list-text">您可以透過明確設定 NVE 加密標誌，在Trident中手動建立 NVE 磁碟區。<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block> 。</block>
  <block id="b6c7fef7b7bcf035a4f4ad02ff8808c2" category="paragraph">有關後端配置選項的更多信息，請參閱：</block>
  <block id="e87ded5ef8bc8adbc3c135528636f4f2" category="list-text"><block ref="e87ded5ef8bc8adbc3c135528636f4f2" category="inline-link-macro-rx"></block></block>
  <block id="676ad90ce2543d29917d8a5a6fc02e01" category="inline-link-macro">ONTAP NAS 設定選項</block>
  <block id="fce586d9f649fb529d0a1846495ba259" category="list-text"><block ref="fce586d9f649fb529d0a1846495ba259" category="inline-link-macro-rx"></block></block>
  <block id="6e8775bd755a8835ce86806d669677ea" category="doc">儲存配置</block>
  <block id="ecd7650a65b79124ad23fb7eed8faa7e" category="paragraph">NetApp產品組合中的每個儲存平台都具有獨特的功能，無論應用程式是否採用容器化，都能從中受益。</block>
  <block id="e6dc22cf3c59dda6e09524b2b133f336" category="section-title">平台概覽</block>
  <block id="050fb8b0306d7532dbf8c15b8cba9745" category="paragraph">Trident可與ONTAP和 Element 搭配使用。沒有哪個平台比其他平台更適合所有應用和場景，但是，在選擇平台時，應該考慮應用程式的需求以及管理設備的團隊的需求。</block>
  <block id="ac5112696fd64ee051846c666ebebebe" category="paragraph">您應該遵循您所使用協定的主機作業系統的最佳實務。  （可選）您可以考慮將應用程式最佳實踐（如果可用）與後端、儲存類別和 PVC 設定結合，以優化特定應用程式的儲存。</block>
  <block id="efc9d085ca2f3a152c786357e9359c03" category="section-title">ONTAP和Cloud Volumes ONTAP最佳實踐</block>
  <block id="a3f99d5d44515cf922e6b525de736173" category="paragraph">了解配置ONTAP和Cloud Volumes ONTAP for Trident 的最佳實務。</block>
  <block id="76d50c7d0f100e6264e0d57727d099f1" category="paragraph">以下建議是為容器化工作負載配置ONTAP的指導原則，這些工作負載使用由Trident動態配置的磁碟區。每項都應根據您的環境進行考慮和評估，以確定其適用性。</block>
  <block id="3fb21976d2729216782dd61ffed84a54" category="section-title">使用專用於Trident 的SVM。</block>
  <block id="fa4e21d3612a3f737c7a4ac7ebf24950" category="paragraph">儲存虛擬機器 (SVM) 為ONTAP系統上的租用戶提供隔離和管理分離。將 SVM 專用於應用程式可以實現權限委派，並可以應用限制資源消耗的最佳實踐。</block>
  <block id="3dc5510a67688b81f0d6d0db440da909" category="paragraph">SVM的管理有多種選擇：</block>
  <block id="fe425a9419fa4d05d42131c26306e4f1" category="list-text">在後端配置中提供叢集管理接口，以及相應的憑證，並指定 SVM 名稱。</block>
  <block id="e2160df70bcda0ee43cb3c66dc22c719" category="list-text">使用ONTAP系統管理員或 CLI 為 SVM 建立專用管理介面。</block>
  <block id="2bf2fa2c1c3a6e10095db72759cc9983" category="list-text">與 NFS 資料介面共用管理角色。</block>
  <block id="5cf4c2e89b362842d77f4e4209c4ef99" category="paragraph">在每種情況下，介面都應該在 DNS 中，並且在設定Trident時應該使用 DNS 名稱。這有助於實現某些災難復原場景，例如無需網路身分保留的 SVM-DR。</block>
  <block id="6a392b5e005fffe32231c94dc96a1605" category="inline-link">SVM-DR</block>
  <block id="2b4a6ee2db063653d6076884295a3854" category="paragraph">對於 SVM 而言，採用專用管理 LIF 或共享管理 LIF 沒有偏好，但是，您應該確保您的網路安全策略與您選擇的方法保持一致。無論如何，管理 LIF 應該可以透過 DNS 訪問，以實現最大的靈活性。<block ref="f5e9502989ce78934689806ebb69606a" category="inline-link-rx"></block>可與Trident配合使用。</block>
  <block id="4a0ee008d3379206a925ade3a9e707dd" category="section-title">限制最大體積數</block>
  <block id="e5e09031843479ef9ef8cbbd4c2f404c" category="inline-link">NetAppHardware Universe</block>
  <block id="cd41030284d3ee7b99fc16831ed79650" category="paragraph">ONTAP儲存系統有最大卷數限制，此限制會根據軟體版本和硬體平台而有所不同。請參閱<block ref="bb9c67b5a4c15a85b5e6aa6c9afd0285" category="inline-link-rx"></block>請根據您的特定平台和ONTAP版本確定確切的限制。當磁碟區計數耗盡時，不僅Trident的設定操作會失敗，而且所有儲存請求的設定操作都會失敗。</block>
  <block id="39da19b7dd55941b6cdabf34befc0b4c" category="paragraph">三叉戟的<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block>和<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block>驅動程式為每個建立的 Kubernetes 持久性磁碟區 (PV) 提供 FlexVolume。這<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block>驅動程式大約每 200 個 PV 建立一個 FlexVolume（可在 50 到 300 之間配置）。這<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block>驅動程式大約每 100 個 PV 建立一個 FlexVolume（可在 50 到 200 之間配置）。為了防止Trident消耗儲存系統上所有可用的磁碟區，您應該對 SVM 設定限制。您可以從命令列執行此操作：</block>
  <block id="f36680e3d3cb96c74d2f1a54c3c4a0fa" category="paragraph">價值<block ref="1829fafb02997aa2b4d309a69b7cdbfa" prefix=" " category="inline-code"></block>價格會根據您所在環境的幾個具體因素而有所不同：</block>
  <block id="5f6d1abb6889904ee0375b2fc6c8f078" category="list-text">ONTAP叢集中現有磁碟區的數量</block>
  <block id="029383c13d9ad2c5ba18a16f8fbe2002" category="list-text">您預計在Trident之外為其他應用程式配置的捲數</block>
  <block id="02f4ac473b944a63551d51d727b5bb49" category="list-text">Kubernetes 應用程式預計使用的持久卷數量</block>
  <block id="1d3555f20ac0a2897a1596631b5fb27a" category="paragraph">這<block ref="1829fafb02997aa2b4d309a69b7cdbfa" prefix=" " category="inline-code"></block>該值是ONTAP叢集中所有節點上配置的總磁碟區數，而不是單一ONTAP節點上的磁碟區數。因此，您可能會遇到某些情況，即ONTAP叢集節點的Trident配置磁碟區可能比其他節點多得多或少得多。</block>
  <block id="46710fe77f663864a23e02a880a9ae53" category="inline-link">聚合體</block>
  <block id="8d102642e270f6e890338a2cfc4a188d" category="paragraph">例如，一個雙節點ONTAP叢集最多可以託管 2000 個FlexVol磁碟區。將最大音量計數設為 1250 似乎非常合理。然而，如果僅僅<block ref="acf6cbef6ee0ef07ee3fe13269233be8" category="inline-link-rx"></block>如果從一個節點指派給 SVM，或無法從一個節點指派的聚合進行配置（例如，由於容量不足），則另一個節點將成為所有Trident組態磁碟區的目標。這意味著該節點的容量限制可能在達到上限之前就已經達到。<block ref="1829fafb02997aa2b4d309a69b7cdbfa" prefix=" " category="inline-code"></block>達到值後，將影響Trident和使用該節點的其他磁碟區操作。  *您可以透過確保叢集中每個節點的聚合資料以相等的數量分配給Trident使用的SVM來避免這種情況。 *</block>
  <block id="8e1b080c70f6bd5a6a7f2755f82fb95b" category="paragraph">NetApp Trident在使用時支援克隆卷<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block>，<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> ，<block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block> ， 和<block ref="5935ea92cdd7d975b4e764b429f21c01" prefix=" " category="inline-code"></block>儲存驅動程式。使用時<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block>或者<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block>驅動程式不支援克隆。從現有磁碟區建立新磁碟區將建立一個新的快照。</block>
  <block id="9470f4768dd90ef0be0fb76cb2f6e04b" category="admonition">避免複製與不同儲存類別關聯的PVC。在同一個 StorageClass 內執行複製操作，以確保相容性並防止意外行為。</block>
  <block id="7ef3217c984ef7f973d389e434be312c" category="section-title">限制Trident建立的最大體積。</block>
  <block id="031b203330c3abb94f6fa406ff721de4" category="paragraph">若要設定Trident可建立的磁碟區的最大大小，請使用下列方法：<block ref="e083f2ed1275af0ce4336a068ebee72a" prefix=" " category="inline-code"></block>參數<block ref="9c15d32711e9ef8c6f76deda35452e13" prefix=" " category="inline-code"></block>定義。</block>
  <block id="1c19414de17c9992b25b0a1b02a52715" category="paragraph">除了控制儲存陣列的磁碟區大小之外，您還應該利用 Kubernetes 功能。</block>
  <block id="1b75c146ff0568d5fc11072b08cfe580" category="section-title">限制Trident創建的FlexVols的最大尺寸。</block>
  <block id="913d5950907a31c9d3ea6cd0a3b6a524" category="paragraph">若要配置用作 ontap-san-economy 和 ontap-nas-economy 驅動程式集區的 FlexVols 的最大大小，請使用下列方法：<block ref="c8f83e727d4a4255a6485c24776e86bb" prefix=" " category="inline-code"></block>參數<block ref="9c15d32711e9ef8c6f76deda35452e13" prefix=" " category="inline-code"></block>定義。</block>
  <block id="85c0f9773e01224a56713ea4e6d83b86" category="section-title">設定Trident使用雙向 CHAP</block>
  <block id="2ae7281d275fb0db889e8ad073e94629" category="paragraph">您可以在後端定義中指定 CHAP 發起方和目標使用者名稱和密碼，並讓Trident在 SVM 上啟用 CHAP。使用<block ref="099cb468880f266cba40b49391fa46bc" prefix=" " category="inline-code"></block>在後端設定中設定參數， Trident使用 CHAP 對ONTAP後端的 iSCSI 連線進行驗證。</block>
  <block id="2596e59ce5cd0d1b0066656f191365d0" category="section-title">建立並使用 SVM QoS 策略</block>
  <block id="560417d4f795b7e1176a40db8e4ccca8" category="inline-link">阻止霸凌行為</block>
  <block id="4870168b0713fe3089cf587858fc3b40" category="paragraph">利用應用於 SVM 的ONTAP QoS 策略，可以限制Trident已配置磁碟區可消耗的 IOPS 數量。這有助於<block ref="1b59d76842e8b78d6111d3e73e9cd404" category="inline-link-rx"></block>或失控的容器影響Trident SVM 以外的工作負載。</block>
  <block id="d6ab867679686745d96bea839929a6de" category="paragraph">只需幾個步驟即可為 SVM 建立 QoS 策略。請參閱您所使用ONTAP版本的文件以取得最準確的資訊。下面的範例建立了一個 QoS 策略，將 SVM 可用的總 IOPS 限制為 5000。</block>
  <block id="c790de304b7ca0097f2133cf9da4e657" category="paragraph">此外，如果您的ONTAP版本支持，您可以考慮使用 QoS 最低要求來確保容器化工作負載的吞吐量。自適應QoS與SVM層策略不相容。</block>
  <block id="38c0b69f6b2ee691e1ba568134513414" category="paragraph">分配給容器化工作負載的 IOPS 數量取決於許多方面。其中包括：</block>
  <block id="ddbd18591c9b7378c6187dbd9179e1f0" category="list-text">使用該儲存陣列的其他工作負載。如果還有其他與 Kubernetes 部署無關的工作負載正在使用儲存資源，則應注意確保這些工作負載不會意外受到不利影響。</block>
  <block id="5da5727b396cee5b024364d989fe253b" category="list-text">預期工作負載將在容器中運作。如果對 IOPS 要求高的工作負載將在容器中運行，則低 QoS 策略會導致糟糕的使用者體驗。</block>
  <block id="e6f229b5d5d2421c4306920759828212" category="paragraph">需要注意的是，在 SVM 層級指派的 QoS 策略會導致所有指派給 SVM 的磁碟區共用同一個 IOPS 池。如果一個或少數幾個容器化應用程式對 IOPS 有很高的要求，它可能會欺負其他容器化工作負載。如果情況屬實，您可能需要考慮使用外部自動化工具來指派按磁碟區劃分的 QoS 策略。</block>
  <block id="ac2167b1e02d575eb6ddfe4e58f5cdcf" category="admonition">只有當您的ONTAP版本低於 9.8 時，才應將 QoS 策略群組指派給 SVM。</block>
  <block id="9992cae6c17055c750a849c5f6135eb2" category="section-title">為Trident建立 QoS 策略組</block>
  <block id="76a3e54f72b3a7224429f111e58f836c" category="inline-link">透過服務品質 (QoS) 保證吞吐量。</block>
  <block id="ed108e0380671c3131e1a4795b982a45" category="paragraph">服務品質 (QoS) 保證關鍵工作負載的效能不會因競爭工作負載而降低。 ONTAP QoS 策略群組為磁碟區提供 QoS 選項，並允許使用者為一個或多個工作負載定義吞吐量上限。有關 QoS 的更多信息，請參閱<block ref="721a1778a2025ec5868484b3888c0186" category="inline-link-rx"></block>。您可以在後端或儲存池中指定 QoS 策略群組，這些策略群組將套用於在該池或後端中建立的每個磁碟區。</block>
  <block id="0394fb1288eac4cd3d40bcd991e079e9" category="paragraph">ONTAP有兩種類型的 QoS 策略群：傳統型和自適應型。傳統策略群組在 IOPS 中提供固定的最大（或最小，在後續版本中）吞吐量。自適應 QoS 可根據工作負載大小自動調整吞吐量，隨著工作負載大小的變化，保持 IOPS 與 TB|GB 的比率不變。在大型部署中管理數百上千個工作負載時，這提供了顯著的優勢。</block>
  <block id="f5acc65a21daed9bb8e91cb5cdd0ae52" category="paragraph">建立QoS策略群組時，請考慮以下事項：</block>
  <block id="6d5fcf300cd9e9239c26ce37b0919fca" category="list-text">你應該設定<block ref="36c38058d66835923c982c773a817f0b" prefix=" " category="inline-code"></block>關鍵在於<block ref="a4a918a45181164207929d52aec36aec" prefix=" " category="inline-code"></block>後端配置塊。請參閱以下後端設定範例：</block>
  <block id="32160c2368452bf7d86bcffae7f142be" category="list-text">您應該按卷應用策略群組，以便每個磁碟區都能獲得策略群組指定的全部吞吐量。不支援共享策略組。</block>
  <block id="f3497351aae46692e603fedb2f2cd146" category="inline-link">ONTAP指令參考</block>
  <block id="94ac1e66ef8b79949d7fe240ca1fc49e" category="paragraph">有關 QoS 策略組的更多信息，請參閱<block ref="c7075dcfeceb3e1e55c7a25ddec6d166" category="inline-link-rx"></block>。</block>
  <block id="d5d2a5bc92eea85a4dd11a642ed8a170" category="section-title">限制對 Kubernetes 叢集成員的儲存資源訪問</block>
  <block id="6146d9e1c8e067801be76f7b7027b42f" category="paragraph">限制對Trident建立的 NFS 磁碟區、iSCSI LUN 和 FC LUN 的存取是 Kubernetes 部署安全態勢的關鍵組成部分。這樣做可以防止不屬於 Kubernetes 叢集的主機存取磁碟區並可能意外修改資料。</block>
  <block id="9602ec8691c1a564016f9fd8086139f1" category="paragraph">重要的是要理解命名空間是 Kubernetes 中資源的邏輯邊界。假設同一命名空間內的資源可以共享，但是，重要的是，沒有跨命名空間的功能。這意味著，即使 PV 是全域對象，當綁定到 PVC 時，它們也只能被同一命名空間中的 pod 存取。  *務必確保在適當情況下使用命名空間來實現程式碼分離。 *</block>
  <block id="1162be0546226cff2cbd973cd2140d33" category="paragraph">對於大多數組織而言，在 Kubernetes 環境中資料安全的主要擔憂是容器中的進程可以存取掛載到主機上的存儲，但該存儲並非為容器所預期的。<block ref="962cfea7b49ca7b2d398d891b4313cb5" category="inline-link-rx"></block>旨在防止此類妥協。但是，特權容器是一個例外。</block>
  <block id="7b10e929cc2e0061dfb50042a0203c79" category="inline-link">Pod 安全策略</block>
  <block id="76db1afb772160283f7f86cdd67c35f8" category="paragraph">特權容器是指擁有比普通容器高得多的主機級權限的容器。這些功能預設不會被停用，因此請確保使用以下命令停用該功能：<block ref="e5ab4ede40a4a6a5f5684247585b5fb0" category="inline-link-rx"></block> 。</block>
  <block id="5fabba1d91abcfb09b6049897727e91c" category="paragraph">對於需要從 Kubernetes 和外部主機存取的磁碟區，儲存應以傳統方式管理，PV 由管理員引入，而不是由Trident管理。這樣可以確保只有當 Kubernetes 和外部主機都已斷開連接並且不再使用該磁碟區時，才會銷毀儲存磁碟區。此外，還可以應用自訂匯出策略，從而允許從 Kubernetes 叢集節點和 Kubernetes 叢集外部的目標伺服器進行存取。</block>
  <block id="8a6112da5167fe6f44136715f1d86c36" category="paragraph">對於具有專用基礎架構節點（例如 OpenShift）或其他無法調度使用者應用程式的節點的部署，應使用單獨的匯出策略來進一步限制對儲存資源的存取。這包括為部署到這些基礎設施節點的服務（例如，OpenShift Metrics 和 Logging 服務）以及部署到非基礎設施節點的標準應用程式建立匯出策略。</block>
  <block id="e38f5be5ff6a8a362870a032acdf5d2f" category="section-title">使用專門的出口政策</block>
  <block id="8f971d8f40dd91f1f3041a0d7faf5f85" category="paragraph">您應該確保每個後端都存在匯出策略，該策略僅允許存取 Kubernetes 叢集中的節點。Trident可以自動建立和管理出口政策。這樣， Trident將其提供的磁碟區的存取權限限製到 Kubernetes 叢集中的節點，並簡化了節點的新增/刪除。</block>
  <block id="28af9e32119f59018dd5d887ad93ccd4" category="paragraph">或者，您也可以手動建立匯出策略，並向其中填入一條或多條匯出規則，以處理每個節點存取請求：</block>
  <block id="4ae1e64986504dce6897746ebc9d2786" category="list-text">使用<block ref="7d47f98e53b93d7fb8a050185d494363" prefix=" " category="inline-code"></block>ONTAP CLI 指令建立匯出策略。</block>
  <block id="cd0a9fca1fb3ba0fcdd98d0e87cb78a9" category="list-text">使用以下方式為出口策略新增規則：<block ref="729c5e15acc8b31618fe3265de1c624b" prefix=" " category="inline-code"></block> ONTAP CLI 指令。</block>
  <block id="bc3a2f6421da1e870583cfb0b9cf4a91" category="paragraph">執行這些命令可以限制哪些 Kubernetes 節點可以存取資料。</block>
  <block id="74257eabdceb63f8522f7c68b103da3a" category="section-title">停用<block ref="d51321f13693d09d4a9cbb2758b42d12" prefix=" " category="inline-code"></block>對於 SVM 應用</block>
  <block id="fdbf43c52ad3e72902872b8ada5c6dde" category="paragraph">這<block ref="d51321f13693d09d4a9cbb2758b42d12" prefix=" " category="inline-code"></block>此功能使 NFS 用戶端能夠向 SVM 查詢可用 NFS 匯出清單。部署到 Kubernetes 叢集的 pod 可以發出<block ref="55fb64f15dd3d0c53de3a4d095218569" prefix=" " category="inline-code"></block>針對該目標執行指令，並接收可用掛載點列表，包括它沒有存取權限的掛載點。雖然這本身並不構成安全隱患，但它確實提供了不必要的信息，可能會幫助未經授權的用戶連接到 NFS 匯出。</block>
  <block id="08f1d9a2f49f56965b640bc15796cd61" category="paragraph">您應該禁用<block ref="d51321f13693d09d4a9cbb2758b42d12" prefix=" " category="inline-code"></block>透過使用 SVM 等級ONTAP CLI 指令：</block>
  <block id="648e0e1a6a98e76bdfe9780c42dacb6b" category="section-title">SolidFire最佳實踐</block>
  <block id="89f93e411a40f5c6365a4703e004f15b" category="paragraph">了解配置Trident的SolidFire儲存的最佳實務。</block>
  <block id="52f311b56fcd9d4fb074918af9b7c7f9" category="section-title">建立 Solidfire 帳戶</block>
  <block id="b0dd2707e9f12b5e1fda314748ffa386" category="paragraph">每個SolidFire帳戶代表一個唯一的磁碟區擁有者，並接收自己的一組質詢握手身分驗證協定 (CHAP) 憑證。您可以透過帳戶名稱和對應的 CHAP 憑證或透過磁碟區存取群組來存取指派給帳戶的磁碟區。一個帳戶最多可以分配兩千卷，但一卷只能屬於一個帳戶。</block>
  <block id="eaf4b71058f7db58997dfe694c62a96a" category="section-title">建立 QoS 策略</block>
  <block id="fd640dfd679c3a7e40aa99c3e08c8294" category="paragraph">如果您想要建立並儲存可套用於多個磁碟區的標準化服務品質設置，請使用SolidFire服務品質 (QoS) 策略。</block>
  <block id="41be5238fc563c2aac0a0e6ee4cf6e96" category="paragraph">您可以按磁碟區設定 QoS 參數。透過設定定義 QoS 的三個可設定參數，可以確保每個磁碟區的效能：最小 IOPS、最大 IOPS 和突發 IOPS。</block>
  <block id="48e4bd34fd7a9e1233ea82bc818a3161" category="paragraph">以下是 4Kb 區塊大小的可能最小、最大和突發 IOPS 值。</block>
  <block id="8e4988a1e5f387efce6f20e4f25a8e40" category="cell">IOPS 參數</block>
  <block id="0b890b1926b90387673882e6ccae7fdc" category="cell">定義</block>
  <block id="96a22bf638896c990d26e043087fb6b0" category="cell">最小值</block>
  <block id="c9fb55be94277b8390352c215f32d44c" category="cell">最大值（4Kb）</block>
  <block id="b05f9ccd772b396ac1f5a05345a9d4f8" category="paragraph">最小 IOPS</block>
  <block id="2b30c179facf62f8a2bdbd1b09b37b96" category="paragraph">保證一定容量的性能水準。</block>
  <block id="c0c7c76d30bd3dcaefc96f40275bdc0a" category="cell">50</block>
  <block id="3f74a886c7f841699690962c497d4f30" category="paragraph">15000</block>
  <block id="4f5a6f8b41826526724ba294b8e056bd" category="paragraph">最大 IOPS</block>
  <block id="4e41c5ccaf1affa697729ea4d1e88554" category="paragraph">性能不會超過此限制。</block>
  <block id="e05695d29cb4a9339534e5a9c273fa14" category="paragraph">200,000</block>
  <block id="affd4aba1c5f696e972368c9eb698c65" category="paragraph">突發IOPS</block>
  <block id="2734923c054f38d8ca66133414af4469" category="paragraph">短時突發場景下允許的最大IOPS。</block>
  <block id="e2eb05f1ef7720127ac371ceddc6f433" category="admonition">儘管最大 IOPS 和突發 IOPS 可以設定為高達 200,000，但磁碟區的實際最大效能受叢集使用情況和每個節點效能的限制。</block>
  <block id="fa9b1a3006e0ba9ad904c059c0b9add6" category="inline-link">SolidFire服務品質</block>
  <block id="acd73d692aa90cacfe480ba8ba39cd5d" category="paragraph">資料區塊大小和頻寬對 IOPS 數量有直接影響。隨著資料塊大小的增加，系統會將頻寬增加到足以處理更大資料塊大小的水平。隨著頻寬的增加，系統能夠達到的IOPS數量會減少。請參閱<block ref="c8976c50ed9f016849fdce232777cd31" category="inline-link-rx"></block>有關服務品質和性能的更多資訊。</block>
  <block id="b4657825f74ed622384dddf3a1d7d3b7" category="section-title">SolidFire身份驗證</block>
  <block id="9d3b5ff1cde828a63203f0465a34a967" category="paragraph">Element 支援兩種驗證方法：CHAP 和磁碟區存取群組 (VAG)。 CHAP 使用 CHAP 協定對主機進行後端驗證。磁碟區存取群組控制對其所配置磁碟區的存取。  NetApp建議使用 CHAP 進行身份驗證，因為它更簡單且沒有擴充限制。</block>
  <block id="fc9e812321a3f9b0eab1b702a08bab4e" category="admonition">具有增強型 CSI 設定器的Trident支援使用 CHAP 驗證。  VAG 只能在傳統的非 CSI 模式下使用。</block>
  <block id="d23eaa75b7bd1405526da0e18b7290ac" category="paragraph">CHAP 驗證（驗證發起者是否為預期的磁碟區使用者）僅在基於帳戶的存取控制中支援。如果您使用 CHAP 進行身份驗證，則有兩種選擇：單向 CHAP 和雙向 CHAP。單向 CHAP 透過使用SolidFire帳戶名稱和發起方金鑰來驗證磁碟區存取。雙向 CHAP 選項提供了最安全的磁碟區身份驗證方式，因為磁碟區透過帳戶名稱和發起方金鑰驗證主機身份，然後主機透過帳戶名稱和目標金鑰驗證磁碟區身份。</block>
  <block id="42d135bea104c1079cebd1543c89e970" category="paragraph">但是，如果無法啟用 CHAP 並且需要 VAG，則建立存取群組並將主機啟動器和磁碟區新增至存取群組。新增至存取群組的每個 IQN 都可以使用或不使用 CHAP 驗證來存取群組中的每個磁碟區。如果 iSCSI 發起程序配置為使用 CHAP 驗證，則使用基於帳戶的存取控制。如果 iSCSI 發起程序未設定為使用 CHAP 驗證，則使用磁碟區存取群組存取控制。</block>
  <block id="b4931a42b69dbf4e721e7b97873b1ebb" category="section-title">哪裡可以找到更多資訊？</block>
  <block id="2c3a4d5c923121574c10ea22c0474a01" category="inline-link">NetApp函式庫</block>
  <block id="65840df7365892d2abe1280cb6cdb1d2" category="paragraph">下面列出了一些最佳實踐文件。搜尋<block ref="4caccef7312f2c398bfbb419629c1a78" category="inline-link-rx"></block>適用於最新版本。</block>
  <block id="d911b17f4f4cdcca62a04ad77aa9403d" category="paragraph">ONTAP</block>
  <block id="f9dd52d280693dc59e53b6e1fb7bd801" category="inline-link">NFS最佳實務與實施指南</block>
  <block id="190dbae19c88b1e68bf03f7783c5d5d1" category="list-text"><block ref="190dbae19c88b1e68bf03f7783c5d5d1" category="inline-link-rx"></block></block>
  <block id="fe7898282075be6913421f0b11f5c0e1" category="inline-link">SAN 管理</block>
  <block id="cd2793aaeed5e7f0429f516ecf5eb130" category="list-text"><block ref="8a4b824281db82475bec9857f32bde41" category="inline-link-rx"></block>（適用於 iSCSI）</block>
  <block id="5ca34d6ffc2a555b689542e3fbeeb7af" category="inline-link">RHEL 的 iSCSI Express 配置</block>
  <block id="36588ac65dcdb9b93916fb0ab708edb3" category="list-text"><block ref="36588ac65dcdb9b93916fb0ab708edb3" category="inline-link-rx"></block></block>
  <block id="ca7ab5ec4cba84fbef55956bb38759ce" category="paragraph">*Element軟體*</block>
  <block id="e809d9f88c2933195c4d2ab379c1b5dc" category="inline-link">配置適用於 Linux 的SolidFire</block>
  <block id="ce0470e08aa854a8f93fa119434e8422" category="list-text"><block ref="ce0470e08aa854a8f93fa119434e8422" category="inline-link-rx"></block></block>
  <block id="d64280eb12d42bb67976ffba6d268e7b" category="paragraph">NetApp HCI</block>
  <block id="3bc72bedcc42d144356d4f933c48485d" category="inline-link">NetApp HCI部署先決條件</block>
  <block id="85bfffc1a1f7aaabd6cf58841640c308" category="list-text"><block ref="85bfffc1a1f7aaabd6cf58841640c308" category="inline-link-rx"></block></block>
  <block id="b52e411998b7d3a95ad5bd8a320bf271" category="inline-link">存取NetApp部署引擎</block>
  <block id="9d0da73b02655dd7861121905db229e2" category="list-text"><block ref="9d0da73b02655dd7861121905db229e2" category="inline-link-rx"></block></block>
  <block id="9aaca8cfd79770bc4944ccc477e37141" category="paragraph">*應用最佳實務資訊*</block>
  <block id="27a5e02bc2fadee43ace94805739a0c8" category="inline-link">ONTAP上 MySQL 的最佳實踐</block>
  <block id="430c6bcb8516befc45fb8173b0ca4e1f" category="list-text"><block ref="430c6bcb8516befc45fb8173b0ca4e1f" category="inline-link-rx"></block></block>
  <block id="17efdd7d210511985714be299d595292" category="inline-link">SolidFire上 MySQL 的最佳實踐</block>
  <block id="d03b53d8ec563c37e16ee8c900a75b96" category="list-text"><block ref="d03b53d8ec563c37e16ee8c900a75b96" category="inline-link-rx"></block></block>
  <block id="3aefe1a041af945f1fe8673bf775057b" category="inline-link">NetApp SolidFire和 Cassandra</block>
  <block id="d7d36869f2f4aa1eb99a10008e153f20" category="list-text"><block ref="d7d36869f2f4aa1eb99a10008e153f20" category="inline-link-rx"></block></block>
  <block id="6e580111d3a8c12cdcd9522a4d3484c6" category="inline-link">Oracle 在SolidFire的最佳實踐</block>
  <block id="f8b52d963f246a75dc6c8b78c954a4fd" category="list-text"><block ref="f8b52d963f246a75dc6c8b78c954a4fd" category="inline-link-rx"></block></block>
  <block id="6448cf37496207be126495e5b05851de" category="inline-link">SolidFire上的PostgreSQL最佳實踐</block>
  <block id="b6780b7b2561935ff862fe7126cde751" category="list-text"><block ref="b6780b7b2561935ff862fe7126cde751" category="inline-link-rx"></block></block>
  <block id="b062996d6ca590abe798d3db75561f79" category="paragraph">並非所有應用程式都有具體的指導原則，因此與您的NetApp團隊合作並使用以下方法至關重要：<block ref="4caccef7312f2c398bfbb419629c1a78" category="inline-link-rx"></block>尋找最新文檔。</block>
  <block id="5ee08ab883e000ce6b739dbb0b6ff376" category="summary">了解更多關於 Kubernetes 系統組成部分的資訊。</block>
  <block id="607ae6360b32f1bd6e559e915d414fab" category="doc">Kubernetes 概念</block>
  <block id="d60f0fff1c23a02458849862f593357e" category="inline-link">Kubernetes系統</block>
  <block id="a7018a5fd7b610274c7786aa5402e64d" category="paragraph">了解更多關於各個部分的信息<block ref="f01a74527fa0343e793eb393c9d4809a" category="inline-link-rx"></block>。</block>
  <block id="04333ff788951193122a833ecd614950" category="summary">有幾個資源物件決定了 Kubernetes 與Trident、 Trident與儲存以及 Kubernetes 與儲存之間的關係。其中一些物件透過 Kubernetes 進行管理，有些物件則透過Trident進行管理。</block>
  <block id="da1e63dd673a1932cebb48b6a81bbbb1" category="doc">Kubernetes 和Trident對象</block>
  <block id="d107eefb0ce66911b186b03b9e9c337e" category="paragraph">您可以使用 REST API 透過讀取和寫入資源物件與 Kubernetes 和Trident進行互動。有幾個資源物件決定了 Kubernetes 與Trident、 Trident與儲存以及 Kubernetes 與儲存之間的關係。其中一些物件透過 Kubernetes 進行管理，有些物件則透過Trident進行管理。</block>
  <block id="62499e0de79c4d07c7915a36f9faa0d8" category="section-title">這些物體之間是如何相互作用的？</block>
  <block id="b9ea565816618011ca591fc191fe5e63" category="paragraph">要了解這些物件、它們的用途以及它們如何交互，最簡單的方法或許是追蹤 Kubernetes 用戶發出的單一儲存請求：</block>
  <block id="ec7d6500a82a56ee8f5fff02eafa7af7" category="list-text">使用者創建<block ref="2b3f8e4d49589c4452db0a07d619d824" prefix=" " category="inline-code"></block>請求一個新的<block ref="858e55ea2e6429120a862313c50a9f5f" prefix=" " category="inline-code"></block>來自 Kubernetes 的特定大小<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block>這是管理員之前配置好的。</block>
  <block id="6b25cc026b6f29464d3fce0f6ec67805" category="list-text">Kubernetes<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block>將其配置器標識為Trident ，並包含告訴Trident如何為請求的類別配置磁碟區的參數。</block>
  <block id="5b078d6b19593ee6c55f428e2c85faa7" category="list-text">Trident審視自身<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block>名稱相同，用於標識匹配項<block ref="b81146e6af95bf6e22cf57459890216f" prefix=" " category="inline-code"></block>和<block ref="a410a2a085f482e6dc04e225e54ee323" prefix=" " category="inline-code"></block>它可以用來為該類別配置磁碟區。</block>
  <block id="ff099186f912c7abb21bcf68690c98d7" category="list-text">Trident在匹配的後端配置儲存並建立兩個物件：a<block ref="858e55ea2e6429120a862313c50a9f5f" prefix=" " category="inline-code"></block>在 Kubernetes 中，它告訴 Kubernetes 如何尋找、掛載和處理磁碟區；在Trident中，它維護著兩者之間的關係。<block ref="858e55ea2e6429120a862313c50a9f5f" prefix=" " category="inline-code"></block>以及實際儲存。</block>
  <block id="6d2ae40bc02e88464563ae42ae22d54c" category="list-text">Kubernetes 綁定了<block ref="2b3f8e4d49589c4452db0a07d619d824" prefix=" " category="inline-code"></block>新的<block ref="858e55ea2e6429120a862313c50a9f5f" prefix=" " category="inline-code"></block>。包含下列部件的艙體<block ref="2b3f8e4d49589c4452db0a07d619d824" prefix=" " category="inline-code"></block>將該持久性磁碟區掛載到它執行的任何主機上。</block>
  <block id="490c1b0e3a604c81abb3db1b778ec07b" category="list-text">使用者創建<block ref="310a3378435f31620fbc3e7831ac7286" prefix=" " category="inline-code"></block>利用現有的PVC管材，<block ref="19476662cd814e0aa085eca121de89b8" prefix=" " category="inline-code"></block>這顯示Trident有問題。</block>
  <block id="9f4e11d34d158ebd365226367c8b15d9" category="list-text">Trident識別與 PVC 關聯的磁碟區，並在其後端建立該磁碟區的快照。它也創造了一個<block ref="d6a1ae997b76c43d7aaf3b22e620401e" prefix=" " category="inline-code"></block>指示 Kubernetes 如何辨識快照。</block>
  <block id="c6a606bdd6882cd42de13f2ba3614285" category="list-text">使用者可以創建<block ref="2b3f8e4d49589c4452db0a07d619d824" prefix=" " category="inline-code"></block>使用<block ref="310a3378435f31620fbc3e7831ac7286" prefix=" " category="inline-code"></block>作為來源。</block>
  <block id="8ecb92f33c033b00fcf3c18e59c4b177" category="list-text">Trident會識別所需的快照，並執行與建立快照相同的步驟。<block ref="858e55ea2e6429120a862313c50a9f5f" prefix=" " category="inline-code"></block>和<block ref="bd7a9717d29c5ddcab1bc175eda1e298" prefix=" " category="inline-code"></block>。</block>
  <block id="428895404a5e57e01a138a5df672d0fc" category="inline-link">持久卷</block>
  <block id="173423532ed9a565a05f32db2c8f8172" category="admonition">如需進一步了解 Kubernetes 對象，我們強烈建議您閱讀以下內容：<block ref="92dc8ed82beb7484ab6097a3e91b0deb" category="inline-link-rx"></block> Kubernetes 文件的這一部分。</block>
  <block id="c4e2f712f33e39883cdadc27311ff798" category="section-title">Kubernetes<block ref="2b3f8e4d49589c4452db0a07d619d824" prefix=" " category="inline-code"></block>物件</block>
  <block id="794a32773794ee6c545794c065d1a88b" category="paragraph">Kubernetes<block ref="2b3f8e4d49589c4452db0a07d619d824" prefix=" " category="inline-code"></block> object 是 Kubernetes 叢集使用者發出的儲存請求。</block>
  <block id="43cf8e1465c61efc8b1b9bf71aa9931c" category="paragraph">除了標準規格之外， Trident還允許使用者指定以下磁碟區特定的註釋，以便覆寫您在後端設定中設定的預設值：</block>
  <block id="1527fede1d561a899313c8cb3eb1e7bf" category="cell">成交量選擇權</block>
  <block id="db8a0bbeae97b94338c1b7a61e2a1ec3" category="cell">支援的驅動程式</block>
  <block id="f3780100617165ed98557e3a6d2be72d" category="cell">trident.netapp.io/fileSystem</block>
  <block id="44d4d4eb1f08d8eb29766160086f61dd" category="cell">檔案系統</block>
  <block id="19ab49765cdd2c8ab592eb40eeff08cf" category="cell">ontap-san、solidfire-san、ontap-san-economy</block>
  <block id="979f70bf9da982ee97ac075df4f048c3" category="cell">trident.netapp.io/cloneFromPVC</block>
  <block id="b4ead50a5ca4f307f7d61da7763ad204" category="cell">克隆源磁碟區</block>
  <block id="cca7544fa2044ea81b43c1e0896bf58e" category="cell">ontap-nas、ontap-san、solidfire-san、azure-netapp-files、gcp-cvs、ontap-san-economy</block>
  <block id="46ec89aa5290ead7b514dd5182caa0a7" category="cell">trident.netapp.io/splitOnClone</block>
  <block id="58c1c86186ef8de4f6e12d8f3aed8b64" category="cell">splitOnClone</block>
  <block id="80f05e749a4f524e8c8a05fa19d5df0e" category="cell">ontap-nas，ontap-san</block>
  <block id="d6f010e4b4bf9748dcaa34feb70188ce" category="cell">trident.netapp.io/protocol</block>
  <block id="81788ba0d7d02d81c063dbca621ba11b" category="cell">協定</block>
  <block id="100b8cad7cf2a56f6df78f171f97a1ec" category="cell">任何</block>
  <block id="e9898504ff0569325d48acaee7e9ced9" category="cell">trident.netapp.io/exportPolicy</block>
  <block id="647ce4e5394e2e595e46b4fc50a628e9" category="cell">出口政策</block>
  <block id="61396290e72fa7d707996351c8815bd6" category="cell">ontap-nas、ontap-nas-economy、ontap-nas-flexgroup</block>
  <block id="2902d12b1fe6d9ef5bd1a3474f2356e9" category="cell">trident.netapp.io/snapshotPolicy</block>
  <block id="0a236e7685e50a59df980d0a30929d6c" category="cell">快照策略</block>
  <block id="7f3bf2672240703dc69740ce11443cf2" category="cell">ontap-nas、ontap-nas-economy、ontap-nas-flexgroup、ontap-san</block>
  <block id="6224177007fc13e9e0d3789985ed165a" category="cell">trident.netapp.io/snapshotReserve</block>
  <block id="bb0d75280f9b683f2f1f0767fd0aff9b" category="cell">快照儲備</block>
  <block id="870594bba77423ccae9ad70861e02951" category="cell">ontap-nas、ontap-nas-flexgroup、ontap-san、gcp-cvs</block>
  <block id="1cb43054bed661d8c8457ddbb43e1b1b" category="cell">trident.netapp.io/snapshotDirectory</block>
  <block id="1ae33c448502ac3d326593aee304c21f" category="cell">快照目錄</block>
  <block id="ec1739ebad429a70f25efc292c347f8e" category="cell">trident.netapp.io/unixPermissions</block>
  <block id="c005e78d4bd808038335c32dd84cf7da" category="cell">unix權限</block>
  <block id="69d900d222446aab8591b45a7363c9e7" category="cell">trident.netapp.io/blockSize</block>
  <block id="480d1b61a0432d1319f7504a3d7318dd" category="cell">區塊大小</block>
  <block id="c0d2a793e71b152662b3e8cd2da00620" category="cell">solidfire-san</block>
  <block id="fc5f8320f80474f09bdd1e3c3849123e" category="paragraph">如果創建的PV具有<block ref="f2a6c498fb90ee345d997f888fce3b18" prefix=" " category="inline-code"></block>根據回收策略，當 PV 被釋放時（即用戶刪除 PVC 時）， Trident會同時刪除 PV 和支援卷。如果刪除操作失敗， Trident會將 PV 標記為失敗，並定期重試該操作，直到操作成功或手動刪除 PV 為止。如果光伏發電使用<block ref="8d6d1e80894475845ded00dcd1f8cc41" prefix=" " category="inline-code"></block>策略方面， Trident會忽略它，並假定管理員會從 Kubernetes 和後端清理它，從而允許在刪除磁碟區之前對其進行備份或檢查。請注意，刪除 PV 不會導致Trident刪除備份磁碟區。您應該使用 REST API 將其刪除。<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix="(" category="inline-code"></block> ）。</block>
  <block id="5dad99bb31feaed11fecbe29cf682e51" category="paragraph">Trident支援使用 CSI 規範建立磁碟區快照：您可以建立磁碟區快照並將其用作資料來源來複製現有的 PVC。這樣，就可以將 PV 的特定時間點副本以快照的形式暴露給 Kubernetes。然後可以使用這些快照建立新的PV。看看<block ref="e9de36458dcd95988ba2d0b4f6d8ee2f" prefix=" " category="inline-code"></block>看看這種方法是否可行。</block>
  <block id="a03c5f2c1a3d118d44bc3e92d52663bb" category="paragraph">Trident也提供<block ref="77167d63af133b47bca3bbacd580fa44" prefix=" " category="inline-code"></block>和<block ref="58c1c86186ef8de4f6e12d8f3aed8b64" prefix=" " category="inline-code"></block>用於建立克隆的註釋。您可以使用這些註解來克隆 PVC，而無需使用 CSI 實作。</block>
  <block id="96e0288ecc3c91f97de46420e70a4f8f" category="paragraph">例如：如果使用者已經有一個名為 PVC 的<block ref="81c3b080dad537de7e10e0987a4bf52e" prefix=" " category="inline-code"></block>用戶可以建立一個名為「新PVC」的<block ref="f68f5a5c173ec94fcc1da047d933d613" prefix=" " category="inline-code"></block>透過使用註釋，例如<block ref="dd145212234939588777c41b78a948b2" prefix=" " category="inline-code"></block>。有了這組註釋， Trident會克隆與 mysql PVC 對應的捲，而不是從頭開始配置卷。</block>
  <block id="ff0fa770e22db25a156c5e2d7f017283" category="paragraph">請考慮以下幾點：</block>
  <block id="23db1fababbb1ae99bf5bf19e6f6f47b" category="list-text">NetApp建議克隆空閒磁碟區。</block>
  <block id="f89d76e06e88814705882a1faad838fb" category="list-text">PVC 及其克隆應該位於同一個 Kubernetes 命名空間中，並且具有相同的儲存類別。</block>
  <block id="f769a6b54b1d1476b6628ebd1c4b98c4" category="list-text">隨著<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block>和<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block>對於驅動程式來說，設定 PVC 註釋可能是有益的。<block ref="46ec89aa5290ead7b514dd5182caa0a7" prefix=" " category="inline-code"></block>與<block ref="979f70bf9da982ee97ac075df4f048c3" prefix=" " category="inline-code"></block>。和<block ref="46ec89aa5290ead7b514dd5182caa0a7" prefix=" " category="inline-code"></block>設定為<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>Trident將克隆卷與父卷分離，從而將克隆卷的生命週期與其父卷完全解耦，但代價是損失了一些儲存效率。未設定<block ref="46ec89aa5290ead7b514dd5182caa0a7" prefix=" " category="inline-code"></block>或將其設為<block ref="68934a3e9455fa72420237eb05902327" prefix=" " category="inline-code"></block>這樣做可以減少後端空間佔用，但代價是在父捲和克隆卷之間建立依賴關係，使得除非先刪除克隆卷，否則無法刪除父卷。在克隆空資料庫磁碟區時，拆分克隆是有意義的，因為預計該磁碟區及其克隆磁碟區將有很大的不同，並且無法從ONTAP提供的儲存效率中受益。</block>
  <block id="5f117d85f5b23527c781bb26a4b15109" category="paragraph">這<block ref="75e4a0ceb294a9d74374c938e4e8ddc8" prefix=" " category="inline-code"></block>目錄包含可用於Trident的 PVC 定義範例。請參閱<block ref="62155edb2842dfbdb69802620baa3865" category="inline-xref-macro-rx"></block>有關Trident音量相關參數和設定的完整說明。</block>
  <block id="40f23ed795a1a88d4da7ac2ef847ff7f" category="section-title">Kubernetes<block ref="858e55ea2e6429120a862313c50a9f5f" prefix=" " category="inline-code"></block>物件</block>
  <block id="6cb5412cc2fe8210c4d14d6d6b08ab79" category="paragraph">Kubernetes<block ref="858e55ea2e6429120a862313c50a9f5f" prefix=" " category="inline-code"></block>此物件代表一塊可供 Kubernetes 叢集使用的儲存空間。它的生命週期與使用它的艙等無關。</block>
  <block id="292289b7334983e53d9fb9bd00d30820" category="admonition">Trident創造<block ref="858e55ea2e6429120a862313c50a9f5f" prefix=" " category="inline-code"></block>根據其配置的捲，自動將物件註冊到 Kubernetes 叢集。您無需自行管理它們。</block>
  <block id="443f09ca4d0d1cc13b5baa064b90c0b7" category="paragraph">當您建立 PVC 時，指的是基於 Trident 的<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block>Trident使用對應的儲存類別來設定一個新磁碟區，並為該磁碟區註冊一個新的 PV。在配置已設定磁碟區和對應的 PV 時， Trident遵循以下規則：</block>
  <block id="b27c91fe87605abbb0d5240430518a1c" category="list-text">Trident會為 Kubernetes 產生一個 PV 名稱，以及一個用於設定儲存的內部名稱。無論哪種情況，名稱在其範圍內都是獨一無二的，這一點都令人放心。</block>
  <block id="9c2f88a5c4297bd88ead0cd6314fe886" category="list-text">容量大小與 PVC 中要求的容量大小盡可能接近，但可能會向上取整到最接近的可分配數量，具體取決於平台。</block>
  <block id="7df5b64daec466033329296995f05735" category="section-title">Kubernetes<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block>物件</block>
  <block id="0d35625a483152791f4e2d0b751a09cc" category="paragraph">Kubernetes<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block>物件透過名稱指定。<block ref="455385b545189aa1f74511b5dc40d1eb" prefix=" " category="inline-code"></block>為儲存配置一組屬性。儲存類別本身標識要使用的配置器，並以配置器能夠理解的方式定義該群組屬性。</block>
  <block id="f7738d717849274e5992d460fd2c0a75" category="paragraph">它是管理員需要建立和管理的兩個基本物件之一。另一個是Trident後端物件。</block>
  <block id="e51377a773f4713e536b061eaa2d4b04" category="paragraph">Kubernetes<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block>使用Trident的物件看起來像這樣：</block>
  <block id="39edc8618b50008d4cb2050414d6921f" category="paragraph">這些參數是 Trident 特有的，用於告訴Trident如何為該類別配置磁碟區。</block>
  <block id="b16da8ed7f6c8cce3011dc2b6c7bd1a4" category="paragraph">儲存類別參數如下：</block>
  <block id="f2bbdf9f72c085adc4d0404e370f0f4c" category="cell">屬性</block>
  <block id="b651efdb98a5d6bd2b3935d0c3f4a5e2" category="cell">必需的</block>
  <block id="736b91750e516139acc13c5eb6564f92" category="cell">屬性</block>
  <block id="59a1e7292a0114529fb1b3401b37bc28" category="cell">映射[字串]字串</block>
  <block id="7fa3b767c460b54a2be4d49030b349c7" category="cell">不</block>
  <block id="1b40216e6fe613bd013bf8710182e650" category="cell">請參閱以下屬性部分。</block>
  <block id="c614017642b6cfd9e6a25c7df122d917" category="cell">儲存池</block>
  <block id="b8f32852327d2ffce86ae3ead4fdfb52" category="cell">map[string]StringList</block>
  <block id="bdd0ddb870ed9de6f6e7d3a75200e9f7" category="cell">後端名稱到儲存池清單的映射</block>
  <block id="145d1b89a9f9ed8bdc16d1f7a814cace" category="cell">附加儲存池</block>
  <block id="6907a73ad9068ddf5f99d022102220bb" category="cell">後端名稱到儲存池清單的映射</block>
  <block id="7df974d787ead594df017a11672f2f0e" category="cell">排除儲存池</block>
  <block id="99ba77776c83983f5ecbd2b51f2b43ef" category="cell">後端名稱到儲存池清單的映射</block>
  <block id="f74d4b2b456fb453c0980710290f66eb" category="paragraph">儲存屬性及其可能的值可以分為儲存池選擇屬性和 Kubernetes 屬性。</block>
  <block id="2fdf10f3f64b631cd3a137740de02f8b" category="section-title">儲存池選擇屬性</block>
  <block id="1f5912cd581dba393d5eecc43059adf4" category="paragraph">這些參數決定了應使用哪些 Trident 管理的儲存池來配置給定類型的磁碟區。</block>
  <block id="c82a6100dace2b41087ba6cf99a5976a" category="cell">價值觀</block>
  <block id="6bb24468956384c482a8b5a901fb6383" category="cell">提供</block>
  <block id="15c2d85f1fae22a3c3a0594510a1f611" category="cell">要求</block>
  <block id="7aa57840938d59b415c1e10dcd1f7173" category="cell">由…支持</block>
  <block id="0e72be2e13bf8a2ff8078d3435e5aa7c" category="cell">媒體^1^</block>
  <block id="9ccd7f94313a98beb95801927907a0ab" category="cell">機械式硬碟、混合式硬碟、固態硬碟</block>
  <block id="9bf3032f6854fb376cd8e3e92e11b077" category="cell">Pool 包含此類媒體；混合型媒體是指兩者兼具。</block>
  <block id="5c79c761bae4c27e96c04e54d1da1e91" category="cell">指定的媒體類型</block>
  <block id="c9cb5e737e2746339fd0b462332c8740" category="cell">ontap-nas、ontap-nas-economy、ontap-nas-flexgroup、ontap-san、solidfire-san</block>
  <block id="b713baf75bcf13859037b5274d27d4b8" category="cell">供應類型</block>
  <block id="6026fbd9abd05590949de220154e3262" category="cell">薄的，厚的</block>
  <block id="3064025fe3541bec9942e14fcaedfab7" category="cell">池支援這種配置方法</block>
  <block id="cf65591e3da90317fc132ea7464105d8" category="cell">指定的配置方法</block>
  <block id="054b5072368dea4f8748909c16c7de98" category="cell">厚：全部 ontap；薄：全部 ontap 和 solidfire-san</block>
  <block id="55b56fb238360663afa6230ad82e74a0" category="cell">後端類型</block>
  <block id="dbdc06f8742b98dcacdf7fdb1af111ea" category="paragraph">ontap-nas、ontap-nas-economy、ontap-nas-flexgroup、ontap-san、solidfire-san、gcp-cvs、azure-netapp-files、ontap-san-economy</block>
  <block id="0e1201d4d96df2d9d03c9c66b90874a1" category="cell">池屬於這種類型的後端</block>
  <block id="c4efe19137f43450149d48fddbab6c28" category="cell">指定的後端</block>
  <block id="a04622349b3ede0d4176ca2c2e161763" category="cell">所有司機</block>
  <block id="695633290d050f31cec0c9d4bd4a57fe" category="cell">快照</block>
  <block id="c506ff134babdd6e68ab3e6350e95305" category="cell">布林值</block>
  <block id="ac1ffb15effdc77a86029972670d022f" category="cell">真，假</block>
  <block id="4ac43bef181074fbd4a1f3620b46f77f" category="cell">儲存池支援帶快照的磁碟區</block>
  <block id="13410bff9f7871113a6af273e2a1b97f" category="cell">已啟用快照的磁碟區</block>
  <block id="33dece0bdda0f88a645c739f3714c038" category="cell">ontap-nas、ontap-san、solidfire-san、gcp-cvs</block>
  <block id="bc3832c405ec6cb9c831849328240f3b" category="cell">複製</block>
  <block id="609d32aa243917905f282544b543752a" category="cell">儲存池支援磁碟區克隆</block>
  <block id="bcb81802de31cf9c717de3c1d6c2f610" category="cell">已啟用克隆的磁碟區</block>
  <block id="5bdf74912a51c34815f11e9a3d20b609" category="cell">加密</block>
  <block id="5f2f2cc138a8bc7067c7f61ab4db0f4d" category="cell">儲存池支援加密磁碟區</block>
  <block id="0bda31a93b84fd2b45a90df39c4c8049" category="cell">已啟用加密的磁碟區</block>
  <block id="dcc09b4a72e31323b652676ce4677771" category="cell">ontap-nas、ontap-nas-economy、ontap-nas-flexgroups、ontap-san</block>
  <block id="79073619fba8242703524f16870ff858" category="cell">每秒輸入/輸出次數</block>
  <block id="fa7153f7ed1cb6c0fcf2ffb2fac21748" category="cell">整數</block>
  <block id="86e5d65893929e5d38b4bdcb9fb48ecd" category="cell">正整數</block>
  <block id="bf57d1db8292b2855fa998a86562cfa7" category="cell">Pool 能夠保證在此範圍內的 IOPS</block>
  <block id="342a7ce5bb7debc6ba84dc2a3bced587" category="cell">容量保證了這些IOPS</block>
  <block id="895f3d78c77292d9761bdabdc3cf0c99" category="paragraph">^1^： ONTAP Select系統不支援此系統</block>
  <block id="5b3c68bde0b3658758a8ebf47ec6abf1" category="paragraph">在大多數情況下，所要求的值會直接影響配置；例如，請求厚配置會導致厚配置磁碟區的產生。但是，Element 儲存池使用其提供的最小和最大 IOPS 來設定 QoS 值，而不是使用請求的值。在這種情況下，請求的值僅用於選擇儲存池。</block>
  <block id="311fa7e17587a62a6fdcb110253feed7" category="paragraph">理想情況下，你可以使用<block ref="736b91750e516139acc13c5eb6564f92" prefix=" " category="inline-code"></block>單獨建模，以滿足特定類別的需求所需的儲存品質。  Trident會自動發現並選擇符合所有條件的儲存池<block ref="736b91750e516139acc13c5eb6564f92" prefix=" " category="inline-code"></block>您指定的。</block>
  <block id="d0c865b74e0c4b4b387506e9e95d22b2" category="paragraph">如果您發現自己無法使用<block ref="736b91750e516139acc13c5eb6564f92" prefix=" " category="inline-code"></block>若要自動為類別選擇合適的池，您可以使用<block ref="c614017642b6cfd9e6a25c7df122d917" prefix=" " category="inline-code"></block>和<block ref="145d1b89a9f9ed8bdc16d1f7a814cace" prefix=" " category="inline-code"></block>參數用於進一步細化池子，甚至選擇一組特定的池子。</block>
  <block id="06a87a25fa98442cf561762851213f7e" category="paragraph">您可以使用<block ref="c614017642b6cfd9e6a25c7df122d917" prefix=" " category="inline-code"></block>參數用於進一步限制與任何指定參數相符的池集合。<block ref="736b91750e516139acc13c5eb6564f92" prefix=" " category="inline-code"></block> 。換句話說， Trident使用了由以下方式識別的池的交集：<block ref="736b91750e516139acc13c5eb6564f92" prefix=" " category="inline-code"></block>和<block ref="c614017642b6cfd9e6a25c7df122d917" prefix=" " category="inline-code"></block>配置參數。您可以單獨使用其中一個參數，也可以同時使用兩個參數。</block>
  <block id="0c66a737e57eb6ac0885d2ba6d87cc12" category="paragraph">您可以使用<block ref="145d1b89a9f9ed8bdc16d1f7a814cace" prefix=" " category="inline-code"></block>此參數用於擴展Trident用於配置的池集，而不管 Trident 選擇的任何池。<block ref="736b91750e516139acc13c5eb6564f92" prefix=" " category="inline-code"></block>和<block ref="c614017642b6cfd9e6a25c7df122d917" prefix=" " category="inline-code"></block>參數。</block>
  <block id="2ed95c63c6e58641d710e098e7e23154" category="paragraph">您可以使用<block ref="7df974d787ead594df017a11672f2f0e" prefix=" " category="inline-code"></block>用於篩選Trident用於資源配置的池集合的參數。使用此參數會移除所有符合的池。</block>
  <block id="9f8bfd75f7eb5b95503bb0abedf83b40" category="paragraph">在<block ref="c614017642b6cfd9e6a25c7df122d917" prefix=" " category="inline-code"></block>和<block ref="145d1b89a9f9ed8bdc16d1f7a814cace" prefix=" " category="inline-code"></block>參數，每個條目都採用以下形式<block ref="54b40b3e6f1384da4e4c920869e31d56" prefix=" " category="inline-code"></block>， 在哪裡<block ref="f6beb3e72ef13817e534adfcb53abf8d" prefix=" " category="inline-code"></block>是指定後端儲存池的逗號分隔清單。例如，一個值<block ref="145d1b89a9f9ed8bdc16d1f7a814cace" prefix=" " category="inline-code"></block>可能看起來像<block ref="f4f4f3be41d583caff484e84868faa12" prefix=" " category="inline-code"></block>。這些清單接受後端值和清單值的正規表示式值。您可以使用<block ref="de7f24c692bef12dc6db5ad320f2f284" prefix=" " category="inline-code"></block>取得後端及其連線池的清單。</block>
  <block id="c087dddd46fcf0fbbf390abeff2216c3" category="section-title">Kubernetes屬性</block>
  <block id="d05956159ee82aafaaacfe08d33d3be6" category="paragraph">這些屬性對Trident在動態設定期間選擇儲存池/後端沒有任何影響。相反，這些屬性只是提供 Kubernetes 持久卷支援的參數。工作節點負責檔案系統建立操作，可能需要檔案系統實用程序，例如 xfsprogs。</block>
  <block id="0e6ac0d7fca9c59e6545312a071555b6" category="cell">相關驅動因素</block>
  <block id="ae6b2a160dd2fafdee385c348edee0c1" category="cell">Kubernetes 版本</block>
  <block id="7cfbb6f07899c8071ff38e69dca190e2" category="cell">檔案系統類型</block>
  <block id="010e61d0b40eeb84b96a1321e8f0bab7" category="cell">ext4、ext3、xfs</block>
  <block id="7928a56d4874d982a06a59e3f30f6935" category="cell">區塊卷的檔案系統類型</block>
  <block id="f888aa18c19e41f8c1263fa99ca8b94c" category="cell">solidfire-san、ontap-nas、ontap-nas-economy、ontap-nas-flexgroup、ontap-san、ontap-san-economy</block>
  <block id="b1c94ca2fbc3e78fc30069c8d0f01680" category="cell">全部</block>
  <block id="6add71a247c8f4513060920be14857bc" category="cell">允許卷擴展</block>
  <block id="675e3f37a9adfd7ab6433906c490fa06" category="cell">啟用或停用對增大PVC尺寸的支持</block>
  <block id="2e647c10640a301eccdc45d7ad72507d" category="cell">ontap-nas、ontap-nas-economy、ontap-nas-flexgroup、ontap-san、ontap-san-economy、solidfire-san、gcp-cvs、azure-netapp-files</block>
  <block id="c791531450eeeb073b30215d9c306a00" category="cell">1.11+</block>
  <block id="086b513e7d83c4cf32a8bd3550679276" category="cell">容量綁定模式</block>
  <block id="fd656a4f359aa12808a6d0ceb5792342" category="cell">立即，等待第一位消費者</block>
  <block id="5e7777e1f9cfa3a93159ee44cf3f1f5a" category="cell">選擇何時進行磁碟區綁定和動態配置</block>
  <block id="741970ef3d523752ab543427956bb1b8" category="cell">1.19 - 1.26</block>
  <block id="8264769021597389583b0a7d1fa7e076" category="inline-link-macro">Kubernetes：為 Pod 或容器設定安全上下文</block>
  <block id="9ec97307849e95766ab72c5a34828c08" category="list-text">這<block ref="7cfbb6f07899c8071ff38e69dca190e2" prefix=" " category="inline-code"></block>此參數用於控制 SAN LUN 所需的檔案系統類型。此外，Kubernetes 還利用了以下資訊：<block ref="7cfbb6f07899c8071ff38e69dca190e2" prefix=" " category="inline-code"></block>在儲存類別中表示檔案系統存在。可以透過以下方式控製卷所有權：<block ref="c7a6c0ee60c6f68dfe700feaacf15703" prefix=" " category="inline-code"></block>僅當<block ref="7cfbb6f07899c8071ff38e69dca190e2" prefix=" " category="inline-code"></block>已設定。請參閱<block ref="7940a62969e5aeae7f6e32b04e7a11e3" category="inline-link-macro-rx"></block>有關如何使用設定卷所有權的概述<block ref="c7a6c0ee60c6f68dfe700feaacf15703" prefix=" " category="inline-code"></block>情境.  Kubernetes 將會應用<block ref="c7a6c0ee60c6f68dfe700feaacf15703" prefix=" " category="inline-code"></block>僅當滿足以下條件時才有值：</block>
  <block id="6dd29ca7439e52dcf2fbc569066b3d67" category="list-text"><block ref="7cfbb6f07899c8071ff38e69dca190e2" prefix="" category="inline-code"></block>設定在儲存類別中。</block>
  <block id="45d2174daba36b76955e69d2eddf26ca" category="list-text">PVC接取方式為RWO。</block>
  <block id="ba5b62efad4f90a8f4bb806cba4a3ea4" category="paragraph">對於 NFS 儲存驅動程序，檔案系統已作為 NFS 匯出的一部分存在。為了使用<block ref="c7a6c0ee60c6f68dfe700feaacf15703" prefix=" " category="inline-code"></block>儲存類別仍然需要指定一個<block ref="7cfbb6f07899c8071ff38e69dca190e2" prefix=" " category="inline-code"></block>您可以將其設定為<block ref="2521ef5d58fc027d3121662b7d8f9ac2" prefix=" " category="inline-code"></block>或任何非空值。</block>
  <block id="c2b0df577877e25491f6e1ed397c87df" category="list-text">請參閱<block ref="7c28a1514d14039d3824999236c4890d" category="inline-link-macro-rx"></block>有關擴容的更多詳情。</block>
  <block id="2435c5eb0d842c13f635d4b1d6667a52" category="list-text">Trident安裝程式包提供了幾個範例儲存類別定義，可供Trident使用。<block ref="532e65fde9b7cd84dd9a7a9be1e1ddbb" prefix="" category="inline-code"></block> 。刪除 Kubernetes 儲存類別會導致對應的Trident儲存類別也被刪除。</block>
  <block id="db36743614e87531d560fe8ae0bc6c7d" category="section-title">Kubernetes<block ref="19476662cd814e0aa085eca121de89b8" prefix=" " category="inline-code"></block>物件</block>
  <block id="65d18b5db5d5f35e4ddc5c696687d1bd" category="paragraph">Kubernetes<block ref="19476662cd814e0aa085eca121de89b8" prefix=" " category="inline-code"></block>物體類似於<block ref="f652904c3bfb48fb25a0a75f485f0ff6" prefix=" " category="inline-code"></block>。它們有助於定義多種儲存類別，並被磁碟區快照引用，以將快照與所需的快照類別關聯起來。每個磁碟區快照都與一個磁碟區快照類別相關聯。</block>
  <block id="031e09713b698739db52cb150ef97605" category="paragraph">一個<block ref="19476662cd814e0aa085eca121de89b8" prefix=" " category="inline-code"></block>應由管理員定義以建立快照。建立卷宗快照類別時，定義如下：</block>
  <block id="879cd061c6bf448cd6fc39dd56947611" category="paragraph">這<block ref="e2d45d57c7e2941b65c6ccd64af4223e" prefix=" " category="inline-code"></block>向 Kubernetes 指定請求卷快照的<block ref="6c7238e4718cba62616087e70f5e30ec" prefix=" " category="inline-code"></block>類別由Trident處理。這<block ref="98e7d6463271d7848db255ae6467817a" prefix=" " category="inline-code"></block>指定必須刪除快照時要執行的操作。什麼時候<block ref="98e7d6463271d7848db255ae6467817a" prefix=" " category="inline-code"></block>設定為<block ref="f2a6c498fb90ee345d997f888fce3b18" prefix=" " category="inline-code"></block>當刪除快照時，儲存叢集上的磁碟區快照物件以及底層快照也會被刪除。或者，將其設為<block ref="afece4245269582cb2f1009d4fb52047" prefix=" " category="inline-code"></block>意味著<block ref="d6a1ae997b76c43d7aaf3b22e620401e" prefix=" " category="inline-code"></block>並保留實體快照。</block>
  <block id="63f2f0978770be469911c5f1722d82ca" category="section-title">Kubernetes<block ref="310a3378435f31620fbc3e7831ac7286" prefix=" " category="inline-code"></block>物件</block>
  <block id="7ba558df52a052235cf288011e5d667c" category="paragraph">Kubernetes<block ref="310a3378435f31620fbc3e7831ac7286" prefix=" " category="inline-code"></block> object 是建立磁碟區快照的請求。  PVC 代表使用者對磁碟區的請求，磁碟區快照則是使用者對現有 PVC 建立快照的請求。</block>
  <block id="f67af493d1fd83b472d5f27307b2f3d9" category="paragraph">當收到磁碟區快照請求時， Trident會自動在後端建立磁碟區快照，並透過建立唯一識別碼來公開該快照。<block ref="d6a1ae997b76c43d7aaf3b22e620401e" prefix=" " category="inline-code"></block>目的。您可以從現有的​​ PVC 建立快照，並在建立新的 PVC 時將這些快照用作資料來源。</block>
  <block id="0f3fb6e27b9de1539a220130039ade03" category="admonition">VolumeSnapshot 的生命週期與來源 PVC 無關：即使來源 PVC 被刪除，快照仍然會存在。刪除具有關聯快照的 PVC 時， Trident會將此 PVC 的後備卷標記為「正在刪除」狀態，但不會完全刪除。當所有關聯的快照都被刪除後，該磁碟區也會被移除。</block>
  <block id="1ca312948dba5b1321da24bc362f4148" category="section-title">Kubernetes<block ref="d6a1ae997b76c43d7aaf3b22e620401e" prefix=" " category="inline-code"></block>物件</block>
  <block id="e562bdcf97dce6973a736651f45eb054" category="paragraph">Kubernetes<block ref="d6a1ae997b76c43d7aaf3b22e620401e" prefix=" " category="inline-code"></block>該物件表示從已配置的磁碟區中取得的快照。它類似於<block ref="858e55ea2e6429120a862313c50a9f5f" prefix=" " category="inline-code"></block>表示儲存叢集上已配置的快照。類似<block ref="2b3f8e4d49589c4452db0a07d619d824" prefix=" " category="inline-code"></block>和<block ref="858e55ea2e6429120a862313c50a9f5f" prefix=" " category="inline-code"></block>當創建快照時，物件會…<block ref="d6a1ae997b76c43d7aaf3b22e620401e" prefix=" " category="inline-code"></block>物件與…保持一對一的映射關係<block ref="310a3378435f31620fbc3e7831ac7286" prefix=" " category="inline-code"></block>該物件請求建立快照。</block>
  <block id="af741aec1c66e51c00d35a38f92471de" category="paragraph">這<block ref="d6a1ae997b76c43d7aaf3b22e620401e" prefix=" " category="inline-code"></block>物件包含唯一標識快照的詳細信息，例如：<block ref="39133e4ee9648ecb1a2dae934a22788a" prefix=" " category="inline-code"></block> 。這<block ref="39133e4ee9648ecb1a2dae934a22788a" prefix=" " category="inline-code"></block>是PV名稱和名稱的獨特組合<block ref="d6a1ae997b76c43d7aaf3b22e620401e" prefix=" " category="inline-code"></block>目的。</block>
  <block id="b22c73e808eef321ee9941ec2e58b64f" category="paragraph">當收到快照請求時， Trident會在後端建立快照。快照建立完成後， Trident會配置一個<block ref="d6a1ae997b76c43d7aaf3b22e620401e" prefix=" " category="inline-code"></block>對象，從而將快照暴露給 Kubernetes API。</block>
  <block id="aea10b5a282698ad4477a7113234ae65" category="inline-link-macro">匯入磁碟區快照</block>
  <block id="4551cdad3ae48d3a807028a224a3617f" category="admonition">通常情況下，你不需要管理<block ref="d6a1ae997b76c43d7aaf3b22e620401e" prefix=" " category="inline-code"></block>目的。但也有例外情況，例如你想…<block ref="0b4cdf17ac3e4123330cb8e51ec533a2" category="inline-link-macro-rx"></block>在Trident之外建立。</block>
  <block id="24cf288d698c32f6be78d78ed4ae2da4" category="section-title">Kubernetes<block ref="b05416d74805ad470e82fbd185a80f60" prefix=" " category="inline-code"></block>物件</block>
  <block id="03925a5c554c5613d08fccbd8b32b9f8" category="paragraph">Kubernetes<block ref="b05416d74805ad470e82fbd185a80f60" prefix=" " category="inline-code"></block>物體類似於<block ref="19476662cd814e0aa085eca121de89b8" prefix=" " category="inline-code"></block>。它們有助於定義多種儲存類別，並被磁碟區組快照引用，以將快照與所需的快照類別關聯起來。每個磁碟區組快照都與一個磁碟區組快照類別相關聯。</block>
  <block id="fff4777b7ca5b9c8c8cf5e2bcba4f07c" category="paragraph">一個<block ref="b05416d74805ad470e82fbd185a80f60" prefix=" " category="inline-code"></block>應由管理員定義以建立快照群組。使用下列定義建立磁碟區組快照類別：</block>
  <block id="8245adeb076e6d9db9f6ac77dfb4c7e3" category="paragraph">這<block ref="e2d45d57c7e2941b65c6ccd64af4223e" prefix=" " category="inline-code"></block>向 Kubernetes 指定請求卷宗組快照的權限。<block ref="122a52194c4daa3ace072fcb995c4dca" prefix=" " category="inline-code"></block>類別由Trident處理。這<block ref="98e7d6463271d7848db255ae6467817a" prefix=" " category="inline-code"></block>指定必須刪除群組快照時要執行的操作。什麼時候<block ref="98e7d6463271d7848db255ae6467817a" prefix=" " category="inline-code"></block>設定為<block ref="f2a6c498fb90ee345d997f888fce3b18" prefix=" " category="inline-code"></block>當刪除快照時，磁碟區組快照物件以及儲存叢集上的基礎快照也會被刪除。或者，將其設為<block ref="afece4245269582cb2f1009d4fb52047" prefix=" " category="inline-code"></block>意味著<block ref="4a238bd658ede8bc190a54f7df8c3483" prefix=" " category="inline-code"></block>並保留物理快照。</block>
  <block id="0eb0a72ef062acee4c89d5b3ff32da7f" category="section-title">Kubernetes<block ref="7afb2b9a0abcf6292858fe2f3450e700" prefix=" " category="inline-code"></block>物件</block>
  <block id="94d3b435d2b11531835e041026e7588f" category="paragraph">Kubernetes<block ref="7afb2b9a0abcf6292858fe2f3450e700" prefix=" " category="inline-code"></block>該物件是建立多個磁碟區的快照的請求。就像 PVC 代表使用者對磁碟區的請求一樣，磁碟區組快照是使用者對現有 PVC 建立快照的請求。</block>
  <block id="317c0b5a54de9fa8dd62802a550228c3" category="paragraph">當收到磁碟區組快照請求時， Trident會自動在後端管理磁碟區的群組快照創建，並透過建立唯一識別碼來公開該快照。<block ref="4a238bd658ede8bc190a54f7df8c3483" prefix=" " category="inline-code"></block>目的。您可以從現有的​​ PVC 建立快照，並在建立新的 PVC 時將這些快照用作資料來源。</block>
  <block id="3edcdec1ed853ba69f1224c7c43702c5" category="admonition">VolumeGroupSnapshot 的生命週期與來源 PVC 無關：即使來源 PVC 被刪除，快照仍然會保留。刪除具有關聯快照的 PVC 時， Trident會將此 PVC 的後備卷標記為「正在刪除」狀態，但不會完全刪除。當所有關聯的快照都被刪除時，磁碟區組快照也會被刪除。</block>
  <block id="8ea50d112474393280399a928479890a" category="section-title">Kubernetes<block ref="4a238bd658ede8bc190a54f7df8c3483" prefix=" " category="inline-code"></block>物件</block>
  <block id="bf0839da8b1efda893b043a219a1630e" category="paragraph">Kubernetes<block ref="4a238bd658ede8bc190a54f7df8c3483" prefix=" " category="inline-code"></block>該物件表示從已配置的磁碟區中取得的群組快照。它類似於<block ref="858e55ea2e6429120a862313c50a9f5f" prefix=" " category="inline-code"></block>表示儲存叢集上已配置的快照。類似<block ref="2b3f8e4d49589c4452db0a07d619d824" prefix=" " category="inline-code"></block>和<block ref="858e55ea2e6429120a862313c50a9f5f" prefix=" " category="inline-code"></block>當創建快照時，物件會…<block ref="d6a1ae997b76c43d7aaf3b22e620401e" prefix=" " category="inline-code"></block>物件與…保持一對一的映射關係<block ref="310a3378435f31620fbc3e7831ac7286" prefix=" " category="inline-code"></block>該物件請求建立快照。</block>
  <block id="85cb66a45776909e333f8847ee91255d" category="paragraph">這<block ref="4a238bd658ede8bc190a54f7df8c3483" prefix=" " category="inline-code"></block>物件包含用於標識快照組的詳細信息，例如：<block ref="e8dbdd2405d28658285ebd383044be1a" prefix=" " category="inline-code"></block>以及儲存系統上存在的各個 volumeSnapshotHandles。</block>
  <block id="a4314d759b2ba28d3d385366f2595052" category="paragraph">當收到快照請求時， Trident會在後端建立磁碟區組快照。卷冊組快照建立完成後， Trident會進行設定。<block ref="4a238bd658ede8bc190a54f7df8c3483" prefix=" " category="inline-code"></block>對象，從而將快照暴露給 Kubernetes API。</block>
  <block id="4171707fb2a131f0fae96196310c5e3b" category="section-title">Kubernetes<block ref="99bc4b850e05bafd67cf5f5f49344c1e" prefix=" " category="inline-code"></block>物件</block>
  <block id="7c43d52062b795d2d8e7f33b9dbbf671" category="paragraph">Kubernetes 自訂資源是 Kubernetes API 中的端點，由管理員定義，用於對類似物件進行分組。 Kubernetes 支援建立自訂資源來儲存物件集合。您可以透過執行以下命令來取得這些資源定義。<block ref="1201c6fb7452320c42006b3c6341e824" prefix=" " category="inline-code"></block> 。</block>
  <block id="09d4c17e4e0e002375326eee41d0f77f" category="paragraph">Kubernetes 將自訂資源定義 (CRD) 及其關聯的物件元資料儲存在其元資料儲存中。這樣就無需為Trident單獨開設商店了。</block>
  <block id="805098fafaaebe033d70c80fe542e3af" category="paragraph">Trident的使用<block ref="99bc4b850e05bafd67cf5f5f49344c1e" prefix=" " category="inline-code"></block>用於保存Trident物件識別的對象，例如Trident後端、 Trident儲存類別和Trident磁碟區。這些物件由Trident管理。此外，CSI 卷快照框架引入了一些定義卷快照所需的 CRD。</block>
  <block id="9f59afd5e4687b9960361128f049dae4" category="paragraph">CRD 是 Kubernetes 的一種建構。上述資源的物件由Trident建立。舉個簡單的例子，當使用以下方式建立後端時<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>相應的<block ref="0509578b4c12ac2fc745903388753e2c" prefix=" " category="inline-code"></block>建立 CRD 物件供 Kubernetes 使用。</block>
  <block id="7cdfd680fe492e028cde251c38475469" category="paragraph">關於Trident的CRD，需要記住以下幾點：</block>
  <block id="adecfe476427253e9c680a7c5150a9cc" category="list-text">安裝Trident時，會建立一組 CRD，可以像使用任何其他資源類型一樣使用這些 CRD。</block>
  <block id="d7b7b183151bdcc8d68efef8a53c02cb" category="list-text">使用以下方式卸載Trident時<block ref="ac8650577d1b744589a6a11b60ac38c7" prefix=" " category="inline-code"></block>使用指令後， Trident pod 會被刪除，但已建立的 CRD 不會被清理。請參閱<block ref="3e5b286354565ddfee44ed92d763b424" category="inline-link-macro-rx"></block>了解如何將Trident完全移除並從頭開始重新配置。</block>
  <block id="a8a62fe3b16797ce253b78f83dc73a18" category="section-title">Trident<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block>物件</block>
  <block id="cfc01756266d8d0e43eb3a9f2753f472" category="paragraph">Trident為 Kubernetes 建立相符的儲存類<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block>指定對象<block ref="08044207e9f63bb0fd474dab347a776c" prefix=" " category="inline-code"></block>在他們的供應領域。儲存類別名稱與 Kubernetes 的名稱相符。<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block>它所代表的對象。</block>
  <block id="64cf33bfeab6c6bd8aa626b86fda9cbd" category="admonition">使用 Kubernetes 時，這些物件會在 Kubernetes 叢集啟動時自動建立。<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block>已註冊使用Trident作為設定器的設定器。</block>
  <block id="51fa0a833f47d8f00ee2677c6fa7b075" category="paragraph">儲存類別包含對磁碟區的一系列要求。  Trident會將這些要求與每個儲存池中存在的屬性進行匹配；如果匹配，則該儲存池是使用該儲存類別配置磁碟區的有效目標。</block>
  <block id="04d84bba5a5e103ae9c192c03a7ad2f3" category="paragraph">您可以使用 REST API 建立儲存類別配置，直接定義儲存類別。但是，對於 Kubernetes 部署，我們期望在註冊新的 Kubernetes 執行個體時建立它們。<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block>物體。</block>
  <block id="21283df20640a21f468122a427ef1bfc" category="section-title">Trident後端對象</block>
  <block id="3c244b984a2188556c1115a5a27dbe1b" category="paragraph">後端代表儲存提供者， Trident在其上配置磁碟區；單一Trident實例可以管理任意數量的後端。</block>
  <block id="d71c5fad4769c19422c07158e24510ba" category="admonition">這是您可以自行建立和管理的兩種物件類型之一。另一個是 Kubernetes。<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block>目的。</block>
  <block id="6386b0f17b85463db72887bca8ae2bb7" category="inline-link-macro">配置後端</block>
  <block id="7a82af4e68a9aca0b21f107f4c0836ee" category="paragraph">有關如何建構這些物件的更多信息，請參閱：<block ref="2e76dfee6bc1b5ee4173b3c5bbcd99e5" category="inline-link-macro-rx"></block> 。</block>
  <block id="8a4410d54113ca147b35c633207444b7" category="section-title">Trident<block ref="5e5d444b688db40e013a7d0b8b3c0898" prefix=" " category="inline-code"></block>物件</block>
  <block id="54fd1dc39c3eecd913b4c9140522996c" category="paragraph">儲存池代表每個後端可用於配置的不同位置。對於ONTAP而言，這些對應於 SVM 中的聚合。對於NetApp HCI/ SolidFire，這些對應於管理員指定的 QoS 頻段。對於Cloud Volumes Service，這些對應於雲端提供者區域。每個儲存池都有一組獨特的儲存屬性，這些屬性定義了其效能特徵和資料保護特徵。</block>
  <block id="4ab1440e71a70a97c4966bcc0095f02b" category="paragraph">與此處的其他物件不同，儲存池候選對象始終會自動發現和管理。</block>
  <block id="f08d82cd2f4fa097db43220a04f62434" category="section-title">Trident<block ref="bd7a9717d29c5ddcab1bc175eda1e298" prefix=" " category="inline-code"></block>物件</block>
  <block id="3ca0a694ceba360e6f67566a611b37fb" category="paragraph">磁碟區是配置的基本單元，包括後端端點（例如 NFS 共用）以及 iSCSI 和 FC LUN。在 Kubernetes 中，這些直接對應於<block ref="3f91308865b7567ae097573f6d0519e9" prefix=" " category="inline-code"></block>。建立磁碟區時，請確保它具有儲存類別（決定磁碟區的部署位置）和大小。</block>
  <block id="2e53db54827c8c05b7bfe9cb31f299d9" category="list-text">在 Kubernetes 中，這些物件是自動管理的。您可以查看這些信息，以了解Trident 的部署情況。</block>
  <block id="22fcc98910d0241e9835f502b7cb2398" category="list-text">刪除帶有關聯快照的 PV 時，對應的Trident磁碟區將更新為 *正在刪除* 狀態。若要刪除Trident磁碟區，您應該刪除該磁碟區的快照。</block>
  <block id="05353bc86910df31b2da9c8d3d26aad1" category="paragraph">卷配置定義了已配置磁碟區應具有的屬性。</block>
  <block id="ce9af1e3f0493eb7d5ffdf584ed763ba" category="cell">Trident API 版本（「1」）</block>
  <block id="a6105c0a611b41b08f1209506350279e" category="cell">是的</block>
  <block id="017dbd2b0a2195c3e8052cdff67bad39" category="cell">要建立的磁碟區的名稱</block>
  <block id="78ec9b60245b46a4f05158076962ace9" category="cell">儲存類別</block>
  <block id="fa00f346deccdbebef2b3cc0702d41de" category="cell">配置磁碟區時要使用的儲存類</block>
  <block id="f7bd60b75b29d79b660a2859395c1a24" category="cell">尺寸</block>
  <block id="264c52ca068dfed30f5826bb054839f4" category="cell">要配置的磁碟區的大小（以位元組為單位）</block>
  <block id="4f18882934f0472b4bfa32928bf92f14" category="cell">使用的協定類型：“檔案”或“區塊”</block>
  <block id="252c6d364cc1a0437939a4f01b0717ae" category="cell">內部名稱</block>
  <block id="2857a43e58983276d059c0e6e2fcb0e9" category="cell">儲存系統中物件的名稱；由Trident產生</block>
  <block id="051fb2c3f62667c87a197ae412a4dbeb" category="cell">ontap（nas、san）和 solidfire-*：要克隆的捲的名稱</block>
  <block id="e94d46d7c89bcb7e6ac2e2df4d21bafb" category="cell">ontap（nas，san）：將克隆體從其父體中分離出來</block>
  <block id="819549a86d14e849e1d0042c9156d781" category="cell">ontap-*：要使用的快照策略</block>
  <block id="e38882545bfedafc7e8ec5973b2e6dd8" category="cell">ontap-*：為快照預留的磁碟區百分比</block>
  <block id="fc86db1233bfa77d5143dcaae9842cb1" category="cell">ontap-nas*：要使用的匯出策略</block>
  <block id="48e1d8180a61943f438c259b2b6715f8" category="cell">ontap-nas*：快照目錄是否可見</block>
  <block id="3f7c94eec4bbf43962e1667f5a334469" category="cell">ontap-nas*：初始 UNIX 權限</block>
  <block id="4b2d5d83aef608a3fb59ec6eda8bea26" category="cell">solidfire-*：塊/扇區大小</block>
  <block id="62fe71ae4f6a04a6937feb48ba5dc4f4" category="cell">檔案系統類型</block>
  <block id="c12963ed77d398c8f97e09be58a20fed" category="paragraph">Trident生成<block ref="252c6d364cc1a0437939a4f01b0717ae" prefix=" " category="inline-code"></block>建立卷時。這包括兩個步驟。首先，它會添加儲存前綴（預設值）。<block ref="47cb44be55a0dffa15dfc900a4c687be" prefix=" " category="inline-code"></block>或後端配置中的前綴）加到磁碟區名稱，從而得到如下形式的名稱<block ref="c1698e7d39f974847e6db255afc061d7" prefix=" " category="inline-code"></block>。然後它會對名稱進行清理，替換後端不允許的字元。對於ONTAP後端，它會將連字號替換為底線（因此，內部名稱變為<block ref="1edd19f408fb01912396584374aad28a" prefix=" " category="inline-code"></block>）。對於 Element 後端，它會將下劃線替換為連字符。</block>
  <block id="49539689cebb34166a417b3b666818e5" category="paragraph">您可以使用磁碟區配置透過 REST API 直接設定卷，但在 Kubernetes 部署中，我們預計大多數使用者將使用標準的 Kubernetes 管理配置。<block ref="2b3f8e4d49589c4452db0a07d619d824" prefix=" " category="inline-code"></block>方法。  Trident會在設定過程中自動建立此磁碟區物件。</block>
  <block id="9b53117639a1995b2872ed6bca3dec8e" category="section-title">Trident<block ref="d4e2713d1b1725a1592f9268589f990d" prefix=" " category="inline-code"></block>物件</block>
  <block id="a1b3787bbd275b7ed5812d022dd36932" category="paragraph">快照是磁碟區在特定時間點的副本，可用於設定新磁碟區或復原狀態。在 Kubernetes 中，這些直接對應於<block ref="d6a1ae997b76c43d7aaf3b22e620401e" prefix=" " category="inline-code"></block>物體。每個快照都與一個磁碟區相關聯，該磁碟區是快照資料的來源。</block>
  <block id="cdf5c8d3dd31e49b82a5b3e2c4a65280" category="paragraph">每個<block ref="d4e2713d1b1725a1592f9268589f990d" prefix=" " category="inline-code"></block>物件包含以下屬性：</block>
  <block id="27118326006d3829667a400ad23d5d98" category="cell">細繩</block>
  <block id="de73fbae2864dd61c921cf0648a9717a" category="cell">Trident快照物件的名稱</block>
  <block id="8e744456fb3d02d69442038d3e771460" category="cell">儲存系統上Trident快照物件的名稱</block>
  <block id="617a43eb0446f84414df73cce2997fa1" category="cell">卷名</block>
  <block id="b58c8ff1e837af6dafa971bf3d320646" category="cell">建立快照的持久磁碟區的名稱</block>
  <block id="2c2aed4b417a0f9c189d7ad6414ae28c" category="cell">volumeInternalName</block>
  <block id="db1a117103c348ebaec41f9e249554c3" category="cell">儲存系統上關聯的Trident磁碟區物件的名稱</block>
  <block id="73f3d5934fdd36989f24cbae94ab423b" category="paragraph">當 Kubernetes<block ref="310a3378435f31620fbc3e7831ac7286" prefix=" " category="inline-code"></block>建立物件請求後， Trident 的工作原理是在後端儲存系統上建立快照物件。這<block ref="252c6d364cc1a0437939a4f01b0717ae" prefix=" " category="inline-code"></block>此快照物件是透過組合前綴產生的。<block ref="9df5757552a92dfd36506c9ef1ef6553" prefix=" " category="inline-code"></block>和<block ref="e7d22294bdcb7133967c3548ece982e5" prefix=" " category="inline-code"></block>的<block ref="310a3378435f31620fbc3e7831ac7286" prefix=" " category="inline-code"></block>物件（例如，<block ref="c0d30538d15b43e0140bcf4251703864" prefix=" " category="inline-code"></block> ）。<block ref="617a43eb0446f84414df73cce2997fa1" prefix=" " category="inline-code"></block>和<block ref="2c2aed4b417a0f9c189d7ad6414ae28c" prefix=" " category="inline-code"></block>透過取得支援卷的詳細資訊來填入。</block>
  <block id="7eff879bfca572dbfc347fa226402a22" category="section-title">Trident<block ref="0b79951d94d2a7fc1f7ba55091959bda" prefix=" " category="inline-code"></block>目的</block>
  <block id="554741cc944c4e5f022fcbc0fa74e635" category="paragraph">Trident守護程式消耗一個<block ref="e2c3c5140d40bff7c63d42afa55e20cb" prefix=" " category="inline-code"></block>優先等級——Kubernetes 中可用的最高優先等級——以確保Trident能夠在節點優雅關閉期間識別和清理卷，並允許Trident daemonset pod 在資源壓力高的叢集中搶佔優先順序較低的工作負載。</block>
  <block id="ee17e6c68211ace703b5692f81c2e6c4" category="paragraph">為了實現這一目標， Trident採用了一種<block ref="0b79951d94d2a7fc1f7ba55091959bda" prefix=" " category="inline-code"></block>確保Trident守護程式集上的「system-node-critical」優先權類別已滿足。在部署和建立守護程序集之前， Trident會查找<block ref="0b79951d94d2a7fc1f7ba55091959bda" prefix=" " category="inline-code"></block>對象，如果未發現，則應用它。</block>
  <block id="253c5669d0ddb02485528df359bfb37d" category="paragraph">如果您需要對預設資源配額和優先類別進行更多控制，您可以產生一個<block ref="21b1223568b2ae7cd1db3ffddbe3b3fd" prefix=" " category="inline-code"></block>或配置<block ref="0b79951d94d2a7fc1f7ba55091959bda" prefix=" " category="inline-code"></block>使用 Helm Chart 的物件。</block>
  <block id="b6ba871f235b09a3d76844b7b5901586" category="paragraph">以下是一個 `ResourceQuota` 物件優先考慮Trident守護程式集的範例。</block>
  <block id="4f4b1cca8d1c78f8ba309694d46d80f2" category="inline-link-macro">Kubernetes：資源配額</block>
  <block id="1894d1b67a8b86d7f876f515c238d5a6" category="paragraph">有關資源配額的更多信息，請參閱<block ref="1fb556021be57083646a3e3c0079c64c" category="inline-link-macro-rx"></block>。</block>
  <block id="4f89992961c018acecad7b373dcce336" category="section-title">清理<block ref="0b79951d94d2a7fc1f7ba55091959bda" prefix=" " category="inline-code"></block>如果安裝失敗</block>
  <block id="222924a66611c61f2a2192a2bab92ecf" category="inline-link-macro">解除安裝</block>
  <block id="dbcf7f603282c175a634104f7dbd55f2" category="paragraph">在極少數情況下，如果安裝失敗，<block ref="0b79951d94d2a7fc1f7ba55091959bda" prefix=" " category="inline-code"></block>物件已創建，首次嘗試<block ref="3bd802fb95da78515b3c3d98916ee73c" category="inline-link-macro-rx"></block>然後重新安裝。</block>
  <block id="c4af59b1638f70f51816423f72df4dba" category="paragraph">如果這樣不行，就手動刪除。<block ref="0b79951d94d2a7fc1f7ba55091959bda" prefix=" " category="inline-code"></block>目的。</block>
  <block id="b9984d1eca39b86eb39cedf7db8f8c62" category="section-title">消除<block ref="0b79951d94d2a7fc1f7ba55091959bda" prefix=" " category="inline-code"></block></block>
  <block id="b09f29e72667c7bbfee7df15e0918219" category="paragraph">如果您希望自行控制資源分配，您可以移除Trident。<block ref="0b79951d94d2a7fc1f7ba55091959bda" prefix=" " category="inline-code"></block>使用以下命令物件：</block>
  <block id="6f9b6f4ef23610d31af9db2f8015cd91" category="summary">Kubernetes Pod 安全標準 (PSS) 和 Pod 安全性原則 (PSP) 定義了權限等級並限制了 Pod 的行為。 OpenShift 安全性情境限制 (SCC) 類似地定義了 OpenShift Kubernetes Engine 特有的 pod 限制。為了實現這種自訂功能， Trident會在安裝過程中啟用某些權限。</block>
  <block id="bc3c69459955aa51e6720ee4098db2c2" category="doc">Pod 安全標準 (PSS) 和安全情境約束 (SCC)</block>
  <block id="75f5ed582d115d8da9d2b70f7279ae9c" category="paragraph">Kubernetes Pod 安全標準 (PSS) 和 Pod 安全性原則 (PSP) 定義了權限等級並限制了 Pod 的行為。 OpenShift 安全性情境限制 (SCC) 類似地定義了 OpenShift Kubernetes Engine 特有的 pod 限制。為了實現這種自訂功能， Trident會在安裝過程中啟用某些權限。以下各節詳細介紹了Trident設定的權限。</block>
  <block id="80af9ab2cf8f28973d329b09a2aa3bf3" category="inline-link-macro">Kubernetes：安全性</block>
  <block id="bf490af1c404d2415dfe93c23b646bfb" category="admonition">PSS 取代了 Pod 安全性策略 (PSP)。 PSP 在 Kubernetes v1.21 中已被棄用，並將於 v1.25 中移除。更多信息，請參閱<block ref="18a97095ea40d42decd22f31a2040afe" category="inline-link-macro-rx"></block>。</block>
  <block id="92699490afddc06ebad285ff002fc80d" category="section-title">必需的 Kubernetes 安全上下文和相關字段</block>
  <block id="ed5dea09095f671b801bee34ea28a319" category="cell">允許</block>
  <block id="b315e1c68490baab38c1a28e00fe0f5a" category="cell">特權</block>
  <block id="62868c5d24fd89e2fd8046454e18b6c4" category="inline-link-macro">Kubernetes：掛載傳播</block>
  <block id="8711d10d95f02e2915623a51693eaaac" category="cell">CSI 要求掛載點是雙向的，這表示Trident節點 pod 必須執行特權容器。更多信息，請參閱<block ref="36e6e997c8e1e33355ee35fb5cf65f2b" category="inline-link-macro-rx"></block>。</block>
  <block id="92a5c8ffa6bee2a9377f18499950da23" category="cell">主機網路</block>
  <block id="154cdce0e5451a5578085caa8a7e7a3e" category="cell">iSCSI守護程式需要此元件。<block ref="f88921f58beaaae5bcb9dffac54bf5ad" prefix=" " category="inline-code"></block>管理 iSCSI 掛載點，並使用主機網路與 iSCSI 守護程式通訊。</block>
  <block id="2ff982b19c53a275ae05f015dafe166d" category="cell">主機 IPC</block>
  <block id="eac6730a7bdbb0156f167d1a073b4a7c" category="cell">NFS 使用進程間通訊 (IPC) 與 NFSD 進行通訊。</block>
  <block id="b25a60a6190808e0d6e849ca6325b91c" category="cell">主機 PID</block>
  <block id="81f58ff2750ef607f5ace37340e32983" category="cell">開始需要<block ref="3fc52a01383634d8618b7d25147b3990" prefix=" " category="inline-code"></block>適用於 NFS。  Trident會查詢主機進程以確定是否<block ref="3fc52a01383634d8618b7d25147b3990" prefix=" " category="inline-code"></block>在掛載 NFS 磁碟區之前運行。</block>
  <block id="82ec2cd6fda87713f588da75c3b1d0ed" category="cell">功能</block>
  <block id="4aeb7a1484240b8d479aee0a012de3a4" category="cell">這<block ref="89e03940e064509cce675def4874338e" prefix=" " category="inline-code"></block>此功能作為特權容器的預設功能的一部分提供。例如，Docker 為特權容器設定了以下功能：<block ref="279f844076697173760b840190800fa7" prefix=" " category="inline-code"></block><block ref="ca9d7807fbdd864698fc848190c05c7a" prefix=" " category="inline-code"></block></block>
  <block id="b2dbe899d8bf9b4c25f337efe8b1ce7c" category="cell">賽康普</block>
  <block id="8c4d735e96caff70ec2fb4b6da0b8647" category="cell">在特權容器中，Seccomp 設定檔始終為「Unconfined」；因此，它無法在Trident中啟用。</block>
  <block id="1a3d8802d280d4ec910f54042cd62998" category="cell">SELinux</block>
  <block id="55067c9b7862cdb9b724bac1e11f114e" category="cell">在 OpenShift 上，特權容器運行在<block ref="4c6c95436260ecf7ab3cf7558410a157" prefix=" " category="inline-code"></block>（「超級特權容器」）域，而非特權容器則是運行在…域中。<block ref="ce0991860b118fa3ab777cbb62c7caa5" prefix=" " category="inline-code"></block>領域。在<block ref="34c54dce528ae11502f7c2908c0e4a21" prefix=" " category="inline-code"></block>， 和<block ref="c42c2c095fe432fac047b16b37a0c05c" prefix=" " category="inline-code"></block>安裝完成後，所有容器都在運作。<block ref="4c6c95436260ecf7ab3cf7558410a157" prefix=" " category="inline-code"></block>域，這實際上禁用了 SELinux。因此， Trident不會增加<block ref="0221dccbaacc71551feb621f4ebfae36" prefix=" " category="inline-code"></block>到容器中。</block>
  <block id="52a8b954485e8bf8ebe32865d17563a6" category="cell">DAC</block>
  <block id="6ddc0f1aebd745677bb51e725f080883" category="cell">特權容器必須以 root 使用者身分執行。非特權容器以 root 使用者身分執行，以存取 CSI 所需的 Unix 套接字。</block>
  <block id="479f0a2e760ff0014bb53fcbe4b5dfbf" category="section-title">艙體安全標準 (PSS)</block>
  <block id="b021df6aac4654c454f46c77646e745f" category="cell">標籤</block>
  <block id="ede4d9142f78c8313ce1ea912023214a" category="cell"><block ref="c50055ec8e6213f61bd81cfda31f072f" prefix="" category="inline-code"></block> <block ref="76404c03a86906ee3beb617ed963367c" prefix=" " category="inline-code"></block></block>
  <block id="0ccd226f7ad098ef19857dcf15eed611" category="cell">允許將Trident控制器和節點新增至安裝命名空間。請勿變更命名空間標籤。</block>
  <block id="0634b3cd8d233df0b38fe73154f03a86" category="cell"><block ref="65f4d8e6b012530443d6a9f6f2b9ce47" prefix="" category="inline-code"></block> <block ref="c9618b80f22dd4422aedf605ca48825e" prefix=" " category="inline-code"></block></block>
  <block id="830d087702172a8173337c2f014f24b3" category="admonition">更改命名空間標籤可能會導致 Pod 無法調度，出現「建立時發生錯誤：...」或「警告：trident-csi-...」等錯誤。如果發生這種情況，請檢查命名空間標籤是否為<block ref="bd638b36d2814f488c1497cfe49eceea" prefix=" " category="inline-code"></block>已更改。如果是這樣，請重新安裝Trident。</block>
  <block id="a2e4b41e2525b6345ec43bbfe91c66fb" category="section-title">Pod 安全策略 (PSP)</block>
  <block id="6f16a5f8ff5d75ab84c018adacdfcbb7" category="cell">場地</block>
  <block id="0c3c80a8b192c50af55549addaec04e9" category="cell"><block ref="18dfe779aeef79958856ed305c2bdf2c" prefix="" category="inline-code"></block></block>
  <block id="13d1281eff2b6a57e6fe877e0379a8f0" category="cell">特權容器必須允許權限提升。</block>
  <block id="f3acfbe4d2b93ab163024b31a31b1a6e" category="cell"><block ref="320921b707f3348e6c98b4280fa1a31d" prefix="" category="inline-code"></block></block>
  <block id="e4938c724a08c7ba91677f8cb5e069f0" category="cell">Trident不使用內嵌 CSI 臨時磁碟區。</block>
  <block id="ce2c8aed9c2fa0cfbed56cbda4d8bf07" category="cell">空的</block>
  <block id="2eb7a988516ab2e49fd1dd1d0f505ba4" category="cell"><block ref="cdefa1888948b5a72fea2994aeca2cab" prefix="" category="inline-code"></block></block>
  <block id="7f18f0f8e3ec21ef031ae007e78292f1" category="cell">非特權Trident容器不需要比預設集更多的功能，而特權容器將被授予所有可能的功能。</block>
  <block id="577f713a1a3fd5fe6851754c1e780b62" category="cell"><block ref="5439f69262a770a5f83afbdcce16c7e8" prefix="" category="inline-code"></block></block>
  <block id="5a40ff04e0748fc5c56343bfccb1bf43" category="inline-link-macro">FlexVolume驅動器</block>
  <block id="117394bda9c12e1ab1e0ddefda7340f6" category="cell">Trident不使用<block ref="5cf2fb2d9c4de828b06e030ea5b9ff75" category="inline-link-macro-rx"></block>因此，它們不包含在允許的音量列表中。</block>
  <block id="e26fd3e84b999df4093d0b9f1cf8bbdb" category="cell"><block ref="5ecb32286b22ea1d317e0328f6ca17f3" prefix="" category="inline-code"></block></block>
  <block id="87c065485525cde8c75f60bd233a546b" category="cell">Trident節點 pod 會掛載節點的根檔案系統，因此設定此清單沒有任何好處。</block>
  <block id="88e5e12dbdeac08e751e562ed902d6af" category="cell"><block ref="c503c5204b219327ad1ec993eafeb60b" prefix="" category="inline-code"></block></block>
  <block id="b989e7796e7fe01d9a48795f499ee3e8" category="cell">Trident不使用任何<block ref="9b2836a126a08612261801d15525c966" prefix=" " category="inline-code"></block>。</block>
  <block id="2cc90cbcd409b90ed2d4270b587b4611" category="cell"><block ref="1f5590dd9e5fe118cb2d0fafdd4a2c76" prefix="" category="inline-code"></block></block>
  <block id="6784c364453355e4499a625166f9d76e" category="cell">Trident不需要任何不安全措施<block ref="005b1e0eff7e0d04731c1a9c38e1645f" prefix=" " category="inline-code"></block>。</block>
  <block id="43dbe35647dc1ec91f9ab70bb9c67eb7" category="cell"><block ref="11ed1e398eb4fb87f6dd82eb0c2c484b" prefix="" category="inline-code"></block></block>
  <block id="21b6f9c280cf0efb8619e386208ee181" category="cell">特權容器無需添加任何功能。</block>
  <block id="782434a33bb3747f8aa86293dc2ae86c" category="cell"><block ref="3262227f241b5104dae49e3b6794a48e" prefix="" category="inline-code"></block></block>
  <block id="4e1db4d4f52542bf76625bb1724050ca" category="cell">權限提升權限是在每個Trident pod 中處理的。</block>
  <block id="7b18008579516cbef313996f0c7a3f5e" category="cell"><block ref="8de935bade437bae01a87d360814f8b2" prefix="" category="inline-code"></block></block>
  <block id="1507e7ba036aa98fd30589e618a7a4eb" category="cell">不<block ref="005b1e0eff7e0d04731c1a9c38e1645f" prefix=" " category="inline-code"></block>允許。</block>
  <block id="042337cb48219589a279b3bf0ba9107a" category="cell"><block ref="c7a6c0ee60c6f68dfe700feaacf15703" prefix="" category="inline-code"></block></block>
  <block id="07556f620d0b827238e3ef0142c49b78" category="cell">Trident容器以root權限運作。</block>
  <block id="ac0f2e366ea63da20af91efebbac6563" category="cell"><block ref="9510eecf0d7bfd6ddcc0af8dcab468c3" prefix="" category="inline-code"></block></block>
  <block id="0041ceee5434032966a8b03eae8738ac" category="cell"><block ref="caa805d341a15bff93c4a9a29f49b191" prefix="" category="inline-code"></block></block>
  <block id="41c30833eb5d5997e9b7a31ee0c66616" category="cell">掛載 NFS 磁碟區需要主機 IPC 與主機通訊<block ref="040547f5d1afb7594b15ac44c8996d28" prefix=" " category="inline-code"></block></block>
  <block id="9bffb5bb38918d1a1d3ae47e97dfc0c4" category="cell"><block ref="e3b493bcbdc62af28f127a151a9fb487" prefix="" category="inline-code"></block></block>
  <block id="42a138ad382896646a09fac2eb0167c6" category="cell">iscsiadm 需要主機網路才能與 iSCSI 守護程式通訊。</block>
  <block id="13135fc0519a6dd0521fa0c0e2445184" category="cell"><block ref="d5eeda68602776a6cc184dc06e8008fb" prefix="" category="inline-code"></block></block>
  <block id="608c4a2fdcf8e14356058df9005ae8ad" category="cell">需要主機 PID 來進行檢查<block ref="3fc52a01383634d8618b7d25147b3990" prefix=" " category="inline-code"></block>正在節點上運行。</block>
  <block id="7d820b24ee2bfd41495fba608bfe1fb0" category="cell"><block ref="79602710f0451e93a37a68d73146cdfd" prefix="" category="inline-code"></block></block>
  <block id="7afcaaf2763ecc0e6dee9f0b63026a58" category="cell">Trident不使用任何主機連接埠。</block>
  <block id="cb8c6f5ff29df99724d3704d1af54bbd" category="cell"><block ref="bd638b36d2814f488c1497cfe49eceea" prefix="" category="inline-code"></block></block>
  <block id="aadb34687d099e9a40c9ad3bbaca9b52" category="cell">Trident節點 pod 必須運行特權容器才能掛載磁碟區。</block>
  <block id="cd8e4b4bb856b53433b1d0369136d7c3" category="cell"><block ref="a36ad2513fd5bed82000a11cd072c70c" prefix="" category="inline-code"></block></block>
  <block id="7621dbe4e923ccb1331f44e5fc326954" category="cell">Trident節點 pod 必須寫入節點檔案系統。</block>
  <block id="7214fd778499c002452dfa1de7a63694" category="cell"><block ref="8ef4c526d5dbf854568be0215948562b" prefix="" category="inline-code"></block></block>
  <block id="0a687403dd751d7bcf9d36eb39b73187" category="cell">Trident節點 pod 運作的是特權容器，無法放棄任何功能。</block>
  <block id="e0cfa7f1a22bfc61e3c23d9b472cb229" category="cell"><block ref="24f066518afeea78c9e3e1935e2b4afa" prefix="" category="inline-code"></block></block>
  <block id="72a9e1b9b252e5cf0980f359420147d4" category="cell"><block ref="e70b97e1fe755b3b63eee3148167d06a" prefix="" category="inline-code"></block></block>
  <block id="0be043db3067cfba9e355c71f0d47963" category="cell"><block ref="a1933ffc7c56d4bad559d4aada4b5cf4" prefix="" category="inline-code"></block></block>
  <block id="2b13c797fbca116e0445fe9ed04aa753" category="cell"><block ref="119a538c01fd566d2c6b0a773680c029" prefix="" category="inline-code"></block></block>
  <block id="90eaf8074aef1d40fdd4ebb096ba3445" category="cell">Trident不使用<block ref="578e49a043cd014389265d3d5745237b" prefix=" " category="inline-code"></block>。</block>
  <block id="af697e6f277a737b01025e1b3ac8fd44" category="cell"><block ref="35fa9c57956b497d442646153f18643f" prefix="" category="inline-code"></block></block>
  <block id="b2fe00f20eadde0a1ed6fcbd7f899a41" category="cell">Trident不設定<block ref="0221dccbaacc71551feb621f4ebfae36" prefix=" " category="inline-code"></block>因為目前容器運行時和 Kubernetes 發行版在處理 SELinux 方面有差異。</block>
  <block id="07b8b968ede124e1134951b502139223" category="cell"><block ref="69ca32a3f2c3aed6de1cc5ea72ab45eb" prefix="" category="inline-code"></block></block>
  <block id="707325d27093188691659cc218115f02" category="cell"><block ref="078831e29f354e83fac6da3db6ed6b7b" prefix="" category="inline-code"></block></block>
  <block id="fd284b15eb12231bdce65744e6704677" category="cell">Trident pods 需要這些音量外掛。</block>
  <block id="c28fb07c7c2463112f74e84cdea6df77" category="cell"><block ref="7af598b967dfa9a65aa6bc1172ac2793" prefix="" category="inline-code"></block></block>
  <block id="12ed56c889a6b18b5fce1be5bd30b1c8" category="section-title">安全上下文約束 (SCC)</block>
  <block id="244a3eb95cc1438e96d275b17eaa5bca" category="cell"><block ref="34f1a1024ebe43028f3959a44bacfc6b" prefix="" category="inline-code"></block></block>
  <block id="bdf1cf802b14a9ec8b930e1603663b2a" category="cell">Trident節點 pod 會掛載節點的根檔案系統。</block>
  <block id="bb46f3196a53f2e3664f53addee28df1" category="cell"><block ref="96a892a9f3eea0ca79b145a0eaf9dbb2" prefix="" category="inline-code"></block></block>
  <block id="040a3e4977d39efd21138ca276545e91" category="cell">掛載 NFS 磁碟區需要主機 IPC 與主機通訊<block ref="040547f5d1afb7594b15ac44c8996d28" prefix=" " category="inline-code"></block>。</block>
  <block id="75a4305006cbe99edf6e6ec43424a3f9" category="cell"><block ref="90837134a0fa2189e147709cb1c8ee73" prefix="" category="inline-code"></block></block>
  <block id="3dc9b606cf3a7a8fc44c8489687131d1" category="cell"><block ref="1f50d8422285f1e4485caf89884871d1" prefix="" category="inline-code"></block></block>
  <block id="31773567f0268170ecfa4c74f91c5b74" category="cell"><block ref="e3370203a64857bb982dfad1f53f32dd" prefix="" category="inline-code"></block></block>
  <block id="606a5f1c705c363af0a1f97e60feaddc" category="cell"><block ref="2290fe08023a5a24bfa0749418021ce3" prefix="" category="inline-code"></block></block>
  <block id="5be47a456f397efee757d8dd4e0c8726" category="cell"><block ref="1471e4e05a4db95d353cc867fe317314" prefix="" category="inline-code"></block></block>
  <block id="c2ca437ef2abb914a8fc2ebb1b926ef6" category="cell">此 SCC 專為Trident而設，並與其使用者綁定。</block>
  <block id="fae56626a2743154c04411ee3d701833" category="cell"><block ref="64ed99ed2cd72b59717e6297314edfc3" prefix="" category="inline-code"></block></block>
  <block id="5987c8a1437c5254a436c29c94220b55" category="cell"><block ref="5c9160146b43f9e1879772881e219a6a" prefix="" category="inline-code"></block></block>
  <block id="2c8f9f1b9abdfa728b8f5d50686e4da0" category="cell">特權容器始終以“非限制”模式運作。</block>
  <block id="f94a437fb7858e092079378f93ef2c71" category="cell"><block ref="9bc65c2abec141778ffaa729489f3e87" prefix="" category="inline-code"></block></block>
  <block id="402b7d2d5aea5e79576f9a964df89a32" category="cell">提供了一個條目，用於將此 SCC 綁定到Trident命名空間中的Trident用戶。</block>
  <block id="274b68192b056e268f128ff63bfcd4a4" category="cell">無</block>
  <block id="50af2a553c2117ddd78da33865c6e35b" category="cell"><block ref="05b8f3cd42ccc5f3a4847a902e506823" prefix="" category="inline-code"></block></block>
  <block id="1b1944fe544c06f29c78d07fcfbf4683" category="summary">了解更多關於Trident通訊所使用的連接埠的資訊。</block>
  <block id="190c8d0a8c0f9d99e2a5cee87981451c" category="paragraph">了解更多關於Trident用於通訊的連接埠的資訊。</block>
  <block id="af4e755c6284fa61e563c93320e97aaa" category="paragraph">Trident使用下列連接埠在 Kubernetes 內部進行通訊：</block>
  <block id="60aaf44d4b562252c04db7f98497e9aa" category="cell">港口</block>
  <block id="261addf78c7b2c961032b3dd08ba0b1f" category="cell">目的</block>
  <block id="7e6b20d014d1c659e4eaf20dc2dcd7eb" category="cell">8443</block>
  <block id="69bbf3571db03f0487c04a8254d15c75" category="cell">反向通道 HTTPS</block>
  <block id="bc3c4a6331a8a9950945a1aa8c95ab8a" category="cell">8001</block>
  <block id="e5a4c481cc6f5935efb2c9d381f2e342" category="cell">Prometheus 指標端點</block>
  <block id="67ff32d40fb51f1a2fd2c4f1b1019785" category="cell">8000</block>
  <block id="10f5b805a46ea829cc3b9d8560a224ae" category="cell">Trident REST 伺服器</block>
  <block id="35cf0f704286108deb76366a16415140" category="cell">17546</block>
  <block id="fb1396f82d0096741ea1b06f8cee2340" category="cell">Trident守護程序集 pod 使用的存活/就緒偵測埠</block>
  <block id="2a531c1a1d290bb0e5f5a511bb48ad45" category="admonition">安裝過程中可以使用以下方法變更活性/就緒探針端口：<block ref="d2090696319f15a4c659a414db8cd2cd" prefix=" " category="inline-code"></block>旗幟。務必確保工作節點上的其他進程沒有使用該連接埠。</block>
  <block id="cf99312afccffdb3b97f892cb91990a0" category="summary">如果您喜歡與 Trident 的 REST API 進行交互，可以直接使用 REST 端點。</block>
  <block id="5eee484e5d1a379b56272cbb68f0b4a6" category="doc">Trident REST API</block>
  <block id="319c1a7b5479ffa2a028b658ad5b7033" category="inline-link-macro">tridentctl 指令和選項</block>
  <block id="01244d6a0ae311e8f26e37eff3b90b3a" category="paragraph">儘管<block ref="8321852d17a287399cb52ef30f4b21eb" category="inline-link-macro-rx"></block>這是與Trident REST API 互動的最簡單方法，如果您願意，也可以直接使用 REST 端點。</block>
  <block id="7a72a102c2990b674624e8b6ec834e4d" category="section-title">何時使用 REST API</block>
  <block id="d802062141c45c0c8ed9e54ff53f4878" category="paragraph">REST API 適用於在非 Kubernetes 部署中使用Trident作為獨立二進位的進階安裝。</block>
  <block id="daef2c20475904ee3d06d11ab5e5cc0a" category="paragraph">為了更好的安全性，Trident<block ref="aba3d4b49c454e1974970e7b5514b001" prefix=" " category="inline-code"></block>在 pod 內運作時，預設僅限於 localhost。要改變這種行為，你需要設定 Trident 的<block ref="38df54fe961fa2bf2a7f82a5854fabad" prefix=" " category="inline-code"></block>在其 pod 配置中設定參數。</block>
  <block id="eee97547fb40d9c4df018377ac6478bb" category="section-title">使用 REST API</block>
  <block id="4e1a255728b39675b43f116f4cfb488b" category="paragraph">若要查看這些 API 的呼叫範例，請傳遞偵錯資訊。<block ref="9b017020b9d48d433ec90c548e6b5c70" prefix="(" category="inline-code"></block> ） 旗幟。更多信息，請參閱<block ref="47a3478e106194126b8a4a249a182714" category="inline-link-macro-rx"></block>。</block>
  <block id="8b3c7aa88e751573c842f17535525f19" category="paragraph">API 的工作原理如下：</block>
  <block id="7528035a93ee69cedb1dbddb2f0bfcc8" category="section-title">得到</block>
  <block id="943c9b081b44587d874271006286d321" category="list-text"><block ref="22b708d2eccf39e1774f3e179bc6aee0" prefix="" category="inline-code"></block></block>
  <block id="0211fd9d40454137caed274c8b3d6054" category="list-text">列出該類型的所有物件。</block>
  <block id="a1ed61bb0432fb6b25e4789166744818" category="list-text"><block ref="57e9ee33b6310b193ba789f5dada20cc" prefix="" category="inline-code"></block></block>
  <block id="aa5aa416edde45fdd91bf4eff5a47d7f" category="list-text">取得指定物件的詳細資訊。</block>
  <block id="a02439ec229d8be0e74b0c1602392310" category="section-title">郵政</block>
  <block id="fe25634ce7a9cad53e5d4b1d7a3039a6" category="list-text"><block ref="bb2b5a5fa2bc8d2525063f1afa7571a5" prefix="" category="inline-code"></block></block>
  <block id="777bb10b09d21c1e8001a8a8aa5767d8" category="list-text">建立指定類型的物件。</block>
  <block id="e0fcace21bf76f1a9c21940cb093720e" category="list-text">建立物件需要 JSON 配置。有關每種物件類型的詳細說明，請參閱：<block ref="47a3478e106194126b8a4a249a182714" category="inline-link-macro-rx"></block> 。</block>
  <block id="5b2f45c3d098b61927afda859c9144f8" category="list-text">如果對像已存在，則行為會有所不同：後端會更新現有對象，而所有其他對象類型都會使操作失敗。</block>
  <block id="32f68a60cef40faedbc6af20298c1a1e" category="section-title">刪除</block>
  <block id="7f43e795c3bf1beb79462cd9164057e4" category="list-text"><block ref="051be5ede889caf3958ca683df6f8d5f" prefix="" category="inline-code"></block></block>
  <block id="99e18f16be02084849198b503c3e3c29" category="list-text">刪除指定的資源。</block>
  <block id="de7f4e4d8a5861d8381abc8bfafc64c2" category="admonition">與後端或儲存類別關聯的磁碟區將繼續存在；這些磁碟區必須單獨刪除。更多信息，請參閱<block ref="47a3478e106194126b8a4a249a182714" category="inline-link-macro-rx"></block>。</block>
  <block id="9cd971ecdea9d32fa28fcdca5951a02c" category="summary">Trident為Trident編排器提供了幾個命令列選項，並透過某些連接埠進行通訊。</block>
  <block id="7d4fab76513c90b603a722620cde60fe" category="doc">命令列選項</block>
  <block id="33649eaebf2b1cded3cfe2ae660b3db8" category="paragraph">Trident為Trident編排器提供了幾個命令列選項。您可以使用這些選項來修改您的部署。</block>
  <block id="8db7df66ab1d7ab5f1dc947acdb5fae4" category="section-title">日誌記錄</block>
  <block id="9b9ef5337f7c7fbad5389e8b34d3fb1f" category="list-text"><block ref="9b945915b0cddbee22047fd529d642f6" prefix="" category="inline-code"></block></block>
  <block id="f4078e4654ff3cac1121079492b0c3f4" category="list-text">啟用調試輸出。</block>
  <block id="ca4acdfba197b4053e99386e85bf4cc4" category="list-text"><block ref="818bc08a4822af612b7904cc24a4d3bf" prefix="" category="inline-code"></block></block>
  <block id="5c8767809eb386e1ab0473de8292544f" category="list-text">設定日誌等級（debug、info、warn、error、fatal）。預設顯示訊息。</block>
  <block id="4da29764ff4997096420f0ae6861b27c" category="list-text"><block ref="4012723fd7948507761ae4f00f8a6ce5" prefix="" category="inline-code"></block></block>
  <block id="7db7db05fbaa2896d81a59e8f38fc27a" category="list-text">使用此選項或<block ref="b88c1426ddf914ab0ed819649aed75fc" prefix=" " category="inline-code"></block>啟用 Kubernetes 支援。設定此項目後， Trident將使用其所在 pod 的 Kubernetes 服務帳戶憑證來聯絡 API 伺服器。只有當Trident作為 Pod 在啟用了服務帳戶的 Kubernetes 叢集中運行時，此方法才有效。</block>
  <block id="1d0a1baeeb99a2ab2b62995cd2ca3fc7" category="list-text"><block ref="b9d0a374603a1c8cc2464bf870d134f0" prefix="" category="inline-code"></block></block>
  <block id="df659a37411eac4669a05e25173aa8b7" category="list-text">使用此選項或<block ref="4012723fd7948507761ae4f00f8a6ce5" prefix=" " category="inline-code"></block>啟用 Kubernetes 支援。指定後， Trident將使用提供的不安全位址和連接埠連接到 Kubernetes API 伺服器。這使得Trident可以部署在 pod 之外；但是，它僅支援與 API 伺服器的不安全連線。為了安全連接，請將Trident部署在具有以下元件的 pod 中：<block ref="4012723fd7948507761ae4f00f8a6ce5" prefix=" " category="inline-code"></block>選項。</block>
  <block id="c5fd214cdd0d2b3b4272e73b022ba5c2" category="section-title">Docker</block>
  <block id="4248fc4f101e2b3fe6bdb19065701fa5" category="list-text"><block ref="5cc3c48cd4a7b7c28609e7cad16a63c6" prefix="" category="inline-code"></block></block>
  <block id="fc3445d927bff3ae43a549a8e6534c5c" category="list-text">註冊 Docker 外掛程式時使用的驅動程式名稱。預設為<block ref="16dfba14481ba8b67fd1c1d9e0f32d2a" prefix=" " category="inline-code"></block>。</block>
  <block id="fc9918a81547fe43ace70de85a7bebac" category="list-text"><block ref="3c296b703ef0b6971051fafa0adeec00" prefix="" category="inline-code"></block></block>
  <block id="65ec7391e16f9bd6e659149b86819a17" category="list-text">監聽此端口，而不是 UNIX 域套接字。</block>
  <block id="9489e1104464d83e0ce20703b6791e94" category="list-text"><block ref="5fe5cde67e990859d4973ee6fedbf6f0" prefix="" category="inline-code"></block></block>
  <block id="edd29d0afafb06480d68d40a7a22ffa5" category="list-text">必填項；您必須指定後端設定檔的路徑。</block>
  <block id="50780f47f6839d47d60bc4555ee00c3f" category="section-title">休息</block>
  <block id="668ae2bb5fbfb42f8d89e94482a4de47" category="list-text"><block ref="786783eafb02594c9668a3cbbc65d473" prefix="" category="inline-code"></block></block>
  <block id="46fedf27957de15ad13ad14b25adb901" category="list-text">指定 Trident REST 伺服器應該監聽的位址。預設為本機。當監聽本機主機並在 Kubernetes pod 內運作時，REST 介面無法從 pod 外部直接存取。使用<block ref="dfbd0635d992733a865e819be2cf08be" prefix=" " category="inline-code"></block>使 REST 介面可從 pod IP 位址存取。</block>
  <block id="99f1d9ee8daaf03f69217b44950e3442" category="list-text"><block ref="ca77c8464c642146b691455db7a16df6" prefix="" category="inline-code"></block></block>
  <block id="33be5112b1ca3c0147264576f7d2e571" category="list-text">指定 Trident REST 伺服器應監聽的連接埠。預設值為 8000。</block>
  <block id="a2714fafd1caea03119590a34bc711c6" category="list-text"><block ref="79d400f844e73cb6e88dabddc36edc38" prefix="" category="inline-code"></block></block>
  <block id="14d37f351bc2789fc70a93a3114308f0" category="list-text">啟用 REST 介面。預設為真。</block>
  <block id="e3ab8ff46f9c86474b01bf93b504507e" category="summary">NetApp不斷改進和增強其產品和服務。以下是Trident最新版本的一些最新功能、改進和錯誤修復。</block>
  <block id="490414e0366b091220802d406e52c076" category="doc">什麼是新的</block>
  <block id="fc679dfce4052095eac6de2f7f86cd16" category="paragraph">發行說明提供了有關NetApp Trident最新版本的新功能、增強功能和錯誤修復的資訊。</block>
  <block id="e4c4d344a524d21b898e4d04b6539aa7" category="admonition">這<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>安裝程式 zip 檔案中提供的 Linux 二進位檔案是經過測試和支援的版本。請注意，<block ref="43b9d8ea18c48c3a64c4e37338fc668f" prefix=" " category="inline-code"></block>提供的二進位文件<block ref="1e6add150fa42ebd470891f1547d31f0" prefix=" " category="inline-code"></block>壓縮文件中的部分內容未經測試或支援。</block>
  <block id="c70a7b422c141acedc1060dd737c17a5" category="section-title">25.06.2 中的新增功能</block>
  <block id="08f1535b065719df5968364b00b95026" category="paragraph">「新增功能」摘要提供了有關Trident和Trident Protect 版本增強功能、修復程序和棄用項目的詳細資訊。</block>
  <block id="41cf959adc98386b54829d71a6ed5d37" category="section-title">修復</block>
  <block id="3e49406f91b1756e000630d03496d0da" category="list-text">*Kubernetes*：修正了從 Kubernetes 節點分離磁碟區時發現不正確的 iSCSI 裝置的嚴重問題。</block>
  <block id="76adb46eab5f5dd5b58c3c8a62320c12" category="section-title">25.06.1 中的變更</block>
  <block id="b94d4c5305d8d32a875a24a5b1501274" category="admonition">對於使用SolidFire的客戶，請不要升級到 25.06.1，因為取消發布捲時有已知問題。25.06.2 即將發布以解決此問題。</block>
  <block id="f47cb8e173cabaf3981c7356253eaf5f" category="list-text">*Kubernetes*：</block>
  <block id="56f0b7f1d902abcea5e9a924acc8cf68" category="list-text">修正了從子系統取消映射之前未檢查 NQN 的問題。</block>
  <block id="74ede3b036d836536636c89ae6208dc1" category="list-text">修正了多次嘗試關閉 LUKS 裝置導致無法分離磁碟區的問題。</block>
  <block id="e593abd973cbfe8b821587be547d75a8" category="list-text">修正了當裝置路徑自建立以來發生變化時 iSCSI 磁碟區取消暫存的問題。</block>
  <block id="ba928ee331d175497be64b1981e81596" category="list-text">阻止跨儲存類別的磁碟區克隆。</block>
  <block id="4f8bdbf86c4afec9c1de4e403735e1df" category="list-text">*OpenShift*：修正了 OCP 4.19 中 iSCSI 節點準備失敗的問題。</block>
  <block id="d3c869af5d0f4ee5e35def393587ffea" category="inline-link-macro">第1008期</block>
  <block id="4437218698cd37b58221a09f0b779bab" category="list-text">增加了使用SolidFire後端克隆卷時的超時時間（<block ref="ff387119bc332768d9a3831513d005d5" category="inline-link-macro-rx"></block> ）。</block>
  <block id="3dca4d7450a120a0a20749c485d209b2" category="section-title">25.06 中的變化</block>
  <block id="c1748037d10cffabb8e95e4ccf77c613" category="section-title">增強功能</block>
  <block id="b73e3aa94514d51e32ca4c9fa306ce1e" category="inline-link-macro">使用磁碟區組快照</block>
  <block id="cbe74dc7c890979d924675df2fa27a35" category="list-text">新增對 CSI 磁碟區組快照的支持<block ref="ee21100dace47d83bcefcb7dea09cdd3" prefix=" " category="inline-code"></block>適用於ONTAP的磁碟區組快照 Kubernetes API - SAN iSCSI 驅動程式。看<block ref="b136941d5c2c98d5e9ff86fd07e97048" category="inline-link-macro-rx"></block>。</block>
  <block id="9c3e7c7a7d7349669946d43b4988c3ed" category="admonition">VolumeGroupSnapshot 是 Kubernetes 中的測試版功能，其 API 也處於測試版階段。  VolumeGroupSnapshot 所需的最低 Kubernetes 版本為 1.32。</block>
  <block id="5e93028f6e11493fcce0c15271413cc3" category="list-text">除了 iSCSI 之外，還增加了對ONTAP ASA r2 的 NVMe/TCP 支援。看<block ref="0ffed2115293f61a0df2b3c8f01851e1" category="inline-link-macro-rx"></block>。</block>
  <block id="d5bb517310bc551b239857e32401ac1f" category="inline-link-macro">啟用安全的 SMB</block>
  <block id="674d1c5daba14e57bb12199e316a830d" category="list-text">為ONTAP-NAS 和ONTAP-NAS-Economy 卷添加了安全的 SMB 支援。現在可以將 Active Directory 使用者和群組與 SMB 磁碟區一起使用，以增強安全性。看<block ref="4f989a35378d98430cb4c4899de0cc08" category="inline-link-macro-rx"></block>。</block>
  <block id="6bcdf917188bd0a976b410952a796d4b" category="list-text">增強Trident節點並發性，以提高 iSCSI 磁碟區節點作業的可擴充性。</block>
  <block id="03384ffa27aceef186890eaae584f3c4" category="list-text">額外<block ref="b5073479eb6368548b299ea4d08aa8b7" prefix=" " category="inline-code"></block>打開 LUKS 磁碟區時，允許執行 discard/TRIM 命令以回收空間。</block>
  <block id="f216940dceac21552e55089b0f450059" category="list-text">提高格式化 LUKS 加密磁碟區時的效能。</block>
  <block id="aca9eafb022610d731f3f94197f227fd" category="list-text">增強了對失​​敗但部分格式化的 LUKS 設備的 LUKS 清理功能。</block>
  <block id="fdba6fb56d2b6fb4d3d2af782f7f8e33" category="list-text">增強了Trident節點對NVMe卷掛載和分離的冪等性。</block>
  <block id="ab129514c6ec5bf9326f9283a0c4b73d" category="list-text">額外<block ref="93e2011fcb40991e51f3f8427fdcfb82" prefix=" " category="inline-code"></block>欄位到ONTAP -SAN-Economy 驅動程式的Trident磁碟區配置。</block>
  <block id="50e2eea9ba53d70147772db1c5d25f79" category="inline-link-macro">使用SnapMirror複製卷</block>
  <block id="68e904dfe8bbc558c556cc39aaca54b6" category="list-text">為 NVMe 後端添加了對SnapMirror磁碟區複製的支援。看<block ref="0837d9a30d067376d83aa60bb79334f8" category="inline-link-macro-rx"></block>。</block>
  <block id="99feca4f342726633c553b7037f4effd" category="section-title">實驗性增強</block>
  <block id="78eb403f568b0e64b07699199ebc4992" category="admonition">不可用於生產環境。</block>
  <block id="3dd4403c2b5ea69ecfbe030e29eee853" category="list-text">[技術預覽] 透過以下方式啟用並發的Trident控制器操作<block ref="663f61c1cf47f8a531c8d769e8bf59f4" prefix=" " category="inline-code"></block>功能標誌。這樣一來，控制器操作就可以並行運行，從而提高繁忙或大型環境的效能。</block>
  <block id="8a54b5275af086a6a2bb3983856d3f56" category="admonition">此功能為實驗性功能，目前僅支援使用ONTAP-SAN 驅動程式（iSCSI 和 FCP 協定）的有限平行工作流程。</block>
  <block id="969ab4db9d9d63b4573cc75a0b550b21" category="list-text">【技術預覽】為 ANF 驅動程式新增了手動 QOS 支援。</block>
  <block id="fa420d9ecbb50720fc93ab14f7943b42" category="list-text">修正了 CSI NodeExpandVolume 的一個問題，即當底層 SCSI 磁碟不可用時，多路徑設備的大小可能會不一致。</block>
  <block id="69e0fec3be54a3b91103c8c7b788339f" category="list-text">修正了ONTAP-NAS 和ONTAP-NAS-Economy 驅動程式的重複匯出策略清理失敗的問題。</block>
  <block id="6e02211c85412fa0d990bce8af9e671f" category="list-text">修正了 GCNV 磁碟區預設使用 NFSv3 的問題<block ref="e477739f39dbd2f1e1c5268912135e92" prefix=" " category="inline-code"></block>未設定；現在同時支援 NFSv3 和 NFSv4 協定。如果<block ref="e477739f39dbd2f1e1c5268912135e92" prefix=" " category="inline-code"></block>如果未提供，則將使用主機的預設 NFS 版本（NFSv3 或 NFSv4）。</block>
  <block id="aaa014969ef27003313b67f83fe7091d" category="inline-link-macro">第831期</block>
  <block id="cd620e798a4bbf9171d504843ebb70d0" category="list-text">修正了使用 Kustomize 安裝Trident時出現的部署問題（<block ref="ae3bb668f87d2aa74a2bfe43dedc0001" category="inline-link-macro-rx"></block> ）。</block>
  <block id="81a9708305846c55b26ba31f647ab071" category="inline-link-macro">第1016期</block>
  <block id="11cdedcfa10c010ee258407d4a2535c9" category="list-text">修正了從快照建立的 PVC 缺少匯出策略的問題（<block ref="dfbabc79dc25039e80d49a5ce74702bc" category="inline-link-macro-rx"></block> ）。</block>
  <block id="1e655d3e31833883db169632edf4c07d" category="list-text">修正了 ANF 磁碟區大小無法自動按 1 GiB 增量對齊的問題。</block>
  <block id="c2c862a452feb157ea36fc61c62cb6d5" category="list-text">修正了使用 Bottlerocket 時 NFSv3 出現的問題。</block>
  <block id="21a4addc7283b0fef748a52987809884" category="list-text">修正了使用SolidFire後端克隆卷時出現的逾時問題（<block ref="ff387119bc332768d9a3831513d005d5" category="inline-link-macro-rx"></block> ）。</block>
  <block id="1d85be817e7793c5b5423dbe7a618b9b" category="list-text">修正了ONTAP-NAS-Economy 磁碟區在調整大小失敗的情況下仍可擴充至 300 TB 的問題。</block>
  <block id="9bfdfc993711fd8c92649ae6040af106" category="list-text">修正了使用ONTAP REST API 時克隆分割操作同步執行的問題。</block>
  <block id="d7061136425214e6ed7ba38910be5772" category="section-title">棄用：</block>
  <block id="eb0a31990fe8d3afbb4177136e0a9c3b" category="list-text">*Kubernetes*：已將最低支援的 Kubernetes 版本更新至 v1.27。</block>
  <block id="cb1f1e88b6db83dc715d1cb1d8733445" category="section-title">Trident保護</block>
  <block id="b094c3f306a844e9e49992f69a84cfa4" category="paragraph">NetApp Trident Protect 提供進階應用程式資料管理功能，可增強由NetApp ONTAP儲存系統和NetApp Trident CSI 儲存設定器支援的有狀態 Kubernetes 應用程式的功能和可用性。</block>
  <block id="df6370ee6ad8bc05b4c28dc223a119ea" category="list-text">提高了復原速度，並提供了更頻繁執行完整備份的選項。</block>
  <block id="6d133839389fad9d044a57e7cd98852e" category="list-text">改進了應用程式定義的粒度，並可透過群組版本類型 (GVK) 篩選進行選擇性復原。</block>
  <block id="d22659d02ebeb222423ac210fcf66e17" category="list-text">使用 AppMirrorRelationship (AMR) 和NetApp SnapMirror時，可實現高效的重新同步和反向複製，從而避免完全 PVC 複製。</block>
  <block id="9f36be3db329921235443aaf292d3420" category="list-text">新增了使用 EKS Pod Identity 建立 AppVault 儲存桶的功能，無需為 EKS 叢集指定儲存桶憑證的金鑰。</block>
  <block id="608712f29e31abc332f5d43892969412" category="list-text">增加了在恢復命名空間時跳過恢復標籤和註釋的功能（如果需要）。</block>
  <block id="6d520f4b800d8a65184cb0662edd01eb" category="list-text">AppMirrorRelationship (AMR) 現在將檢查來源 PVC 是否擴展，並根據需要對目標 PVC 執行相應的擴展。</block>
  <block id="68782d548164f602a09d8cf18a70a1a6" category="list-text">修正了先前快照的快照註解值被套用到新快照的錯誤。所有快照註解現已正確應用。</block>
  <block id="dec377bcea0a22bcf50bcfa52f5bd102" category="list-text">預設情況下，為資料移動器加密（Kopia / Restic）定義了一個金鑰，如果未定義則不會定義。</block>
  <block id="2b587d6f0a98259d243f20158ba733b9" category="list-text">為 S3 應用程式庫建立新增了改進的驗證和錯誤訊息。</block>
  <block id="38ada36ef84c3af0ce6c4562c412938e" category="list-text">AppMirrorRelationship (AMR) 現在只複製處於綁定狀態的 PV，以避免複製失敗。</block>
  <block id="e06ab528ad98b563963e366c18280c8d" category="list-text">修正了在具有大量備份的 AppVault 上取得 AppVaultContent 時顯示錯誤的問題。</block>
  <block id="8009158785ac016dca3550bd3aadcf47" category="list-text">為避免故障，KubeVirt VMSnapshots 被排除在恢復和故障轉移操作之外。</block>
  <block id="96c54179d89a7223d86e09ea0181939b" category="list-text">修正了 Kopia 的一個問題，即由於 Kopia 的預設保留計劃覆蓋了使用者在計劃中設定的內容，因此導致快照過早刪除。</block>
  <block id="ccc6e323e1b274244c3180ae807ca261" category="section-title">25.02.1 中的變更</block>
  <block id="d72c3d84865c2955b89cbf6e0ec00ada" category="inline-link-macro">第983期</block>
  <block id="ac76c3fcac41a10bd5f709108875e6c6" category="list-text">修正了 trident-operator 在使用非預設鏡像倉庫時 sidecar 鏡像名稱和版本填充不正確的問題 (<block ref="524f95fe3800e5d3ef82e615d679c539" category="inline-link-macro-rx"></block> ）。</block>
  <block id="d6dc63ac67744b1aac236b69c66dfde2" category="inline-link-macro">第961期</block>
  <block id="7bc2d7846b2e95d3f64a4d4f4b53cc3c" category="list-text">修正了ONTAP故障轉移復原期間多路徑會話無法復原的問題（<block ref="0939f851f18acedadb7fdffdec6d140b" category="inline-link-macro-rx"></block> ）。</block>
  <block id="212dff1a74c955a52357c5a67478720d" category="section-title">25.02 中的變化</block>
  <block id="b343abb76f62f4eef4afa255e885eee4" category="paragraph">從Trident 25.02 開始，「新增功能」摘要提供了有關Trident和Trident Protect 版本的增強功能、修復程序和棄用項目的詳細資訊。</block>
  <block id="f732fd09d1f97b63aaad6d5a80382f0c" category="list-text">增加了對ONTAP ASA r2 的 iSCSI 支援。</block>
  <block id="87959ecf0c52ae4baca9f7e962286ec1" category="list-text">增加了在非正常節點關閉情況下強制分離ONTAP-NAS 卷的支援。新的ONTAP-NAS 磁碟區現在將使用Trident管理的按磁碟區匯出策略。為現有磁碟區提供升級路徑，使其在取消發佈時過渡到新的匯出策略模型，而不會影響正在運行的工作負載。</block>
  <block id="09abe7a508b1461d2b42cd082e9680aa" category="list-text">新增了 cloneFromSnapshot 註解。</block>
  <block id="9746cecbe2eafd28277700bbaea79ccf" category="list-text">增加了對跨命名空間卷克隆的支援。</block>
  <block id="1cd9d07d7ac9faf3b1d1e464094fed79" category="list-text">增強 iSCSI 自癒掃描修復功能，可透過精確的主機、通道、目標和 LUN ID 啟動重新掃描。</block>
  <block id="c2653fd16e9e4da4d4d738616dcb956a" category="list-text">增加了對 Kubernetes 1.32 的支援。</block>
  <block id="2e110255627afe2fff57458d9bb2205b" category="list-text">*OpenShift*：</block>
  <block id="ddbeca6e89eb34fdc94eeec79b9f6a43" category="list-text">為 ROSA 叢集上的 RHCOS 新增了自動 iSCSI 節點準備支援。</block>
  <block id="4e602d306baa843baf9ed9bd9ce452b1" category="list-text">為ONTAP驅動程式新增了對 OpenShift 虛擬化的支援。</block>
  <block id="e5f47a8bc4c6e320936843808b4b8392" category="list-text">ONTAP-SAN驅動程式新增了光纖通道支援。</block>
  <block id="00a0b47f2d2eb76897798a0b983daf88" category="list-text">新增NVMe LUKS支援。</block>
  <block id="890fc08a388302375744ade0476c1409" category="list-text">所有基礎影像均已切換為臨時影像。</block>
  <block id="35805c702a0d37de58fd020d28318c88" category="list-text">新增了 iSCSI 連線狀態發現和記錄功能，用於記錄 iSCSI 會話應該登入但實際未登入的情況（<block ref="0939f851f18acedadb7fdffdec6d140b" category="inline-link-macro-rx"></block> ）。</block>
  <block id="121a804f61cdaf83f9c80e5b2ecf5658" category="list-text">新增了對使用 google-cloud-netapp-volumes 驅動程式的 SMB 磁碟區的支援。</block>
  <block id="92ce3c86905470d0feaa428d8438bf74" category="list-text">增加了對ONTAP磁碟區在刪除時跳過復原佇列的支援。</block>
  <block id="7b97d5f955a87ceaab8fdc5ee542dd5d" category="list-text">新增了使用 SHA 值而非標籤覆寫預設影像的功能。</block>
  <block id="8064b658df7d1098fbc06c88a182a398" category="list-text">為 tridentctl 安裝程式新增了 image-pull-secrets 標誌。</block>
  <block id="a6b7ff9774a7997f58d8eeff9907ae1f" category="inline-link-macro">第965期</block>
  <block id="6cb0e6987f921e8d1b11fc9850d89d90" category="list-text">修正了自動匯出策略中缺少的節點 IP 位址（<block ref="54a0e12625c53fbb79b83159edf0dab4" category="inline-link-macro-rx"></block> ）。</block>
  <block id="2ad835ef65ba9fef1c3b178d86eb59b1" category="list-text">修正了ONTAP-NAS-Economy 的自動匯出策略過早切換到按磁碟區策略的問題。</block>
  <block id="a794d83b092a8031769c2bcf2a88ceb5" category="inline-link-macro">第913期</block>
  <block id="cfc9cd0ab1d20f67db270bed8d63126c" category="list-text">修復後端配置憑證，以支援所有可用的 AWS ARN 分割區（<block ref="00fe04b68c89d56b5fe9076943919a54" category="inline-link-macro-rx"></block> ）。</block>
  <block id="375e43b9a6d4ec413731b638ec0945b5" category="inline-link-macro">第924期</block>
  <block id="50da178eec9235ba0a85999374d51cba" category="list-text">在Trident運算子中新增了停用自動配置器協調的選項（<block ref="95579fcabb606a95f307c6ba89588c08" category="inline-link-macro-rx"></block> ）。</block>
  <block id="16aa6756a13a48723b3d2bc4bf50c104" category="inline-link-macro">第976期</block>
  <block id="60b04b91abae29736bd23b21579be5cb" category="list-text">為 csi-resizer 容器新增了 securityContext（<block ref="a97be45bfcdf3eeaee81dc9917811f8f" category="inline-link-macro-rx"></block> ）。</block>
  <block id="e516fe45e3db545de8d5d292a67f4990" category="list-text">為 KubeVirt / OpenShift 虛擬化虛擬機器添加了備份和復原支持，支援 volumeMode: File 和 volumeMode: Block（原始設備）儲存。此支援與所有Trident驅動程式相容，並在使用NetApp SnapMirror和Trident Protect 複製儲存時增強了現有的保護功能。</block>
  <block id="7df125a00671c08a40e0225c8e7bfe51" category="list-text">為 Kubevirt 環境增加了在應用程式層級控製凍結行為的功能。</block>
  <block id="bde8e1e3de96ead9884d920004bad3bf" category="list-text">增加了對配置AutoSupport代理連線的支援。</block>
  <block id="3a3a7f688efad3284b8088de98d9c990" category="list-text">增加了為資料移動加密（Kopia / Restic）定義金鑰的功能。</block>
  <block id="7bd24598cff0819911511e7a4114afc9" category="list-text">增加了手動運行執行鉤子的功能。</block>
  <block id="d8420a2285ade91fbb556a8705392d4e" category="list-text">增加了在Trident Protect 安裝過程中設定安全上下文約束 (SCC) 的功能。</block>
  <block id="397cc2a4d426cf97968c783f15ec2de3" category="list-text">增加了在Trident Protect 安裝過程中設定 nodeSelector 的支援。</block>
  <block id="b5b9bc3aab84e4b648c1432f95ac9294" category="list-text">為 AppVault 物件新增了對 HTTP / HTTPS 出口代理的支援。</block>
  <block id="e7ce2b289382a615113880a71867a2fb" category="list-text">擴展資源過濾器，以排除叢集範圍的資源。</block>
  <block id="230ae1ea7310e8fa80a6cd9e6208085e" category="list-text">為 S3 AppVault 憑證新增了對 AWS 會話令牌的支援。</block>
  <block id="639c61df343e77e3de0b8188942cb635" category="list-text">增加了對快照執行前鉤子之後資源收集的支援。</block>
  <block id="31ddfac7cfd4824f2708b4b925145a29" category="list-text">改進了臨時磁碟區的管理，使其跳過ONTAP磁碟區復原佇列。</block>
  <block id="b9b8b880b51afd88c2f4e04a85fe762e" category="list-text">SCC 註解現已恢復為原始值。</block>
  <block id="b045f8636f0c21a7fefb437149e20dc9" category="list-text">支援並行操作，提高了恢復效率。</block>
  <block id="8f35f1b8a50531165f36731d30906b11" category="list-text">增強了對大型應用程式執行鉤子超時的支援。</block>
  <block id="ef5363598e9b6f09c42a4f11b7798e31" category="section-title">24.10.1 中的變更</block>
  <block id="fe28e2a5f749261aca15de7b9e5841d0" category="list-text">*Kubernetes*：新增對 Kubernetes 1.32 的支援。</block>
  <block id="3da21bcb163e7e142caada3e22ac014f" category="list-text">更新了Trident和 Trident-ASUP 依賴項，以解決 CVE-2024-45337 和 CVE-2024-45310。</block>
  <block id="eeda04a5133a10ebd4956c7d83dfd389" category="list-text">在 iSCSI 自癒期間，移除間歇性不健康的非 CHAP 入口網站的註銷操作 (<block ref="0939f851f18acedadb7fdffdec6d140b" category="inline-link-macro-rx"></block> ）。</block>
  <block id="c7e79f1db15a592daab7f7427aef79d5" category="section-title">24.10 中的變化</block>
  <block id="f219960762ce1ea892bf48746515e583" category="list-text">Google Cloud NetApp Volumes驅動程式現已正式推出，適用於 NFS 卷，並支援區域感知配置。</block>
  <block id="09dc81fef04f949a006210deaff2f205" category="list-text">GCP Workload Identity 將用作Google Cloud NetApp Volumes與 GKE 的雲端身分。</block>
  <block id="179837f123bf751c03460e6d2e0927c2" category="list-text">額外<block ref="ef225248e79c14501d51a4941b5ae5d1" prefix=" " category="inline-code"></block>為ONTAP-SAN 和ONTAP-SAN-Economy 驅動程式新增配置參數，允許使用者指定 LUN 格式選項。</block>
  <block id="b500d40dfa3ea14369fdaf59d3b1c835" category="list-text">將Azure NetApp Files區的最小大小減少到 50 GiB。  Azure 新的最小系統規模預計將於 11 月正式推出。</block>
  <block id="2e6f95101e443ed93c211c35457a90e6" category="list-text">額外<block ref="80fd16da9d17abac4374b362f2e409fe" prefix=" " category="inline-code"></block>配置參數，用於將ONTAP-NAS-Economy 和ONTAP-SAN-Economy 驅動程式限制為預先存在的 Flexvol 池。</block>
  <block id="bf300dbe4f3e7fba7ef23cdf029d7f54" category="list-text">增加了對所有ONTAP驅動程式中 SVM 聚合的新增、刪除或重新命名的偵測。</block>
  <block id="193dc4f3e19f36ad5c6f2ad43ea53a42" category="list-text">在 LUKS LUN 中添加了 18 MiB 開銷，以確保報告的 PVC 大小可用。</block>
  <block id="b0587c4582678977a894feccef58eb73" category="list-text">改進了ONTAP-SAN 和ONTAP-SAN-Economy 節點階段和取消階段錯誤處理，允許取消階段操作在階段失敗後移除設備。</block>
  <block id="914e332f78206303c5897d6de3d31dc4" category="list-text">新增了自訂角色產生器，讓客戶在ONTAP中為Trident建立極簡角色。</block>
  <block id="54a5a20d9182724aeda126c68ff2d500" category="inline-link-macro">第792期</block>
  <block id="ae953ee35cc48d929d62cd63fe1a5db9" category="list-text">增加了額外的故障排除日誌記錄<block ref="2a18927ad567a1bf015ee23d2f7d416f" prefix=" " category="inline-code"></block>（<block ref="0ac90c45cb5e08b111534147dc8d07bf" category="inline-link-macro-rx"></block> ）。</block>
  <block id="c4407b1cc5192fe600872654a5ffe223" category="list-text">為 Kubernetes 原生工作流程新增了新的Trident功能：</block>
  <block id="7e7397a7b79323762c61941fc0e6b5f9" category="list-text">資料保護</block>
  <block id="5866b98c049a53ea6dc7f50f9349f434" category="list-text">資料遷移</block>
  <block id="645a84975202e30700b572b49a5ee29d" category="list-text">災難復原</block>
  <block id="11d5920d0c0b3a97e764f84dc92ef110" category="list-text">應用行動性</block>
  <block id="f593e32b2a3ead4ac029c13126d3531d" category="inline-link-macro">了解更多關於Trident Protect的信息</block>
  <block id="a4ac350fb585f51020f747525f3175d8" category="paragraph"><block ref="2c7a14b5507108d57a83e6eb9858f03a" category="inline-link-macro-rx"></block>。</block>
  <block id="85be3851760f745038ec3bba18d62914" category="list-text">新增標誌<block ref="8a3f78e98fdbc7da7e036e7ae4598a23" prefix=" " category="inline-code"></block>指示安裝程式設定Trident用於與 Kubernetes API 伺服器通訊的 QPS 值。</block>
  <block id="46b4e7bf1e76e8eeb88747ded42b6d4f" category="list-text">額外<block ref="1606f6268af560ddbfffdd3790afb4d2" prefix=" " category="inline-code"></block>向安裝程式發出訊號，以便自動管理 Kubernetes 叢集節點上的儲存協定相依性。已測試並驗證與 Amazon Linux 2023 iSCSI 儲存協定的兼容性</block>
  <block id="ee2cc86dbfffd3b53ed4701a6b458dfb" category="list-text">增加了對ONTAP-NAS-Economy 磁碟區在非正常節點關閉場景下強制分離的支援。</block>
  <block id="326a8f228f219b0e904c9d182f05edc0" category="list-text">新的ONTAP-NAS-Economy NFS 磁碟區在使用時將採用基於 qtree 的匯出策略<block ref="323e871cfe2e70ead9c713e8f3164f8f" prefix=" " category="inline-code"></block>後端選項。 Qtree 僅在發佈時才會對應到節點限制性匯出策略，以提高存取控制和安全性。當Trident從所有節點取消發布磁碟區時，現有的 qtree 將切換到新的匯出策略模型，這樣就不會影響正在進行的工作負載。</block>
  <block id="62900e6f021ab726737e77fc086ef8d8" category="list-text">增加了對 Kubernetes 1.31 的支援。</block>
  <block id="b4da90c52a04dd004929d86ec62cc931" category="list-text">ONTAP-SAN驅動程式新增了光纖通道支援的技術預覽。</block>
  <block id="d17c6ce149a6479587ff459c15a1f857" category="inline-link-macro">第839期</block>
  <block id="0d72ada08f4f4a9200f5e98c300ac3f5" category="list-text">修正了 Rancher 進入 webhook 封鎖Trident Helm 安裝的問題（<block ref="db779c46d1b4e6ce40c3816626258ba8" category="inline-link-macro-rx"></block> ）。</block>
  <block id="c4a8381892da41f8d4badcb947360547" category="inline-link-macro">第898期</block>
  <block id="2403ede55427cd43025cacf6e3c01d80" category="list-text">固定 Helm Chart 值中的親和力鍵（<block ref="54ec46fe50699b7fd3f7ef30c485e12a" category="inline-link-macro-rx"></block> ）。</block>
  <block id="72ce7c26f0607a9f5bd8ca30e55cacef" category="inline-link-macro">第899期</block>
  <block id="cede03cb51e9bbed6dcab643181d12d7" category="list-text">已修正 tridentControllerPluginNodeSelector/tridentNodePluginNodeSelector 無法處理「true」值（<block ref="5d339a433df6492948708982baf428fa" category="inline-link-macro-rx"></block> ）。</block>
  <block id="f11d62f384cbec26d8ed4550c153bf05" category="inline-link-macro">第901期</block>
  <block id="a0b1bd692e916f05f2ede181b41aa8a9" category="list-text">克隆過程中建立的已刪除臨時快照（<block ref="ef65b2f52a8de25e7edcbd74532daf2c" category="inline-link-macro-rx"></block> ）。</block>
  <block id="7d873532774b92f91f5b02b26b6ab15f" category="list-text">新增對 Windows Server 2019 的支援。</block>
  <block id="c1932a20d0117f7b70be58add390f98b" category="inline-link-macro">第767期</block>
  <block id="b205e07db438d75480a1439aaea49b90" category="list-text">修復了Trident倉庫中的 `go mod tidy`（<block ref="b886e4c1dbe24e4b012cebe88d7f5dfa" category="inline-link-macro-rx"></block> ）。</block>
  <block id="a4233200da50a08b295311036bb03ac1" category="section-title">棄用</block>
  <block id="0c1b395b1875f8cc0a3a3065e200951a" category="list-text">*Kubernetes:*</block>
  <block id="86c0118c20bbec39a37e58e07b4ca78e" category="list-text">已將支援的最低 Kubernetes 版本更新至 1.25。</block>
  <block id="8b1b4442b4204fbf84931236c6402e37" category="list-text">已移除對 POD 安全策略的支援。</block>
  <block id="4f52a386be5239d16bac5e9e054c7686" category="section-title">產品品牌重塑</block>
  <block id="487dc96e91d89134e7a216bab529a019" category="paragraph">從 24.10 版本開始， Astra Trident更名為Trident （Netapp Trident）。此次品牌重塑不會影響Trident的任何功能、支援的平台或互通性。</block>
  <block id="b56fb7b6833a5dc3a047885cd9fb56b3" category="section-title">24.06 中的變化</block>
  <block id="68fed7a5dad5dbe38e73f242591f9cdc" category="inline-link-macro">第341期</block>
  <block id="79695bf027de5b53252ad567db19afc0" category="list-text">**重要提示**：<block ref="e083f2ed1275af0ce4336a068ebee72a" prefix=" " category="inline-code"></block>此參數現在限制ONTAP經濟型驅動程式中的 qtree/LUN 大小。使用新的<block ref="c8f83e727d4a4255a6485c24776e86bb" prefix=" " category="inline-code"></block>用於控制這些驅動程式中 Flexvol 大小的參數。  （<block ref="43e193e4ec566def2b1890b13e291e7f" category="inline-link-macro-rx"></block> ）。</block>
  <block id="f8a74109e040a7d2fe11f386046e7f0f" category="inline-link-macro">第883期</block>
  <block id="d9b039cc0482c40024b1c3e5b5bfab48" category="list-text">增加了 iSCSI 自癒功能，以便在使用已棄用的 igroup 時透過精確的 LUN ID 啟動 SCSI 掃描 (<block ref="1db457cca48a821c9957caae88cdf1d0" category="inline-link-macro-rx"></block> ）。</block>
  <block id="624c548303efc06e3245885cb046ce02" category="list-text">增加了對磁碟區克隆和調整大小操作的支持，即使後端處於掛起模式也允許執行這些操作。</block>
  <block id="59757b96b5b7c76f5131b54a97bfb34b" category="list-text">增加了將Trident控制器的使用者設定日誌設定傳播到Trident節點 pod 的功能。</block>
  <block id="bf8ced7df51ab8a52eb2f62a26930270" category="list-text">Trident增加了對ONTAP 9.15.1 及更高版本預設使用 REST 而不是 ONTAPI (ZAPI) 的支援。</block>
  <block id="53e2f13be42e180fc96be9feca214cc0" category="list-text">ONTAP儲存後端新增了對自訂磁碟區名稱和元資料的支持，用於建立新的持久性磁碟區。</block>
  <block id="f22dddc969b204ba1f08fd5b6dccf9e5" category="list-text">增強了<block ref="bc5779a2d33eeb1304bae57f15920cfc" prefix=" " category="inline-code"></block>（ANF）驅動程序，當 NFS 掛載選項設定為使用 NFS 版本 4.x 時，預設會自動啟用快照目錄。</block>
  <block id="b480f0e15ab56f178942ac571ef3d0b4" category="list-text">增加了對 NFS 磁碟區的 Bottlerocket 支援。</block>
  <block id="2b1f345aa37d468275a96267dbf3cc86" category="list-text">新增對Google Cloud NetApp Volumes的技術預覽支援。</block>
  <block id="e422e290c66eca7f882976f830b781b4" category="list-text">增加了對 Kubernetes 1.30 的支援。</block>
  <block id="0d9957366afc474c1adc655929d57fcc" category="list-text">為Trident DaemonSet 新增了在啟動時清理殭屍掛載點和殘留追蹤檔案的功能（<block ref="1db457cca48a821c9957caae88cdf1d0" category="inline-link-macro-rx"></block> ）。</block>
  <block id="d329ee31cea82ba7b18282e9874fd6fb" category="inline-link-macro">第849期</block>
  <block id="7bdef3d1e5eba62c2c49345689cb034e" category="list-text">新增了PVC註釋<block ref="36720d50814e4335401b2047257bfedf" prefix=" " category="inline-code"></block>用於動態導入 LUKS 磁碟區（<block ref="8164e77c784c82617684b3113cbe7b39" category="inline-link-macro-rx"></block> ）。</block>
  <block id="88cc43db200dd9a0ba8b9f3d2b3494c5" category="list-text">為 ANF 驅動程式添加了拓撲感知功能。</block>
  <block id="bd97885496639b0f4498d4131198ac36" category="list-text">新增對 Windows Server 2022 節點的支援。</block>
  <block id="32c6cb7d24cfe592a3da026077c89057" category="list-text">修正了過期交易導致的Trident安裝失敗問題。</block>
  <block id="5f9e29078ffd406f09be67dadfa65c81" category="inline-link-macro">第892期</block>
  <block id="d2e65e05e52ae58b1bc83b9f92667bc4" category="list-text">修正了 tridentctl 忽略來自 Kubernetes 的警告訊息的問題（<block ref="74b3b54ef301f7904eaa2691276657ad" category="inline-link-macro-rx"></block> ）。</block>
  <block id="6d20ebb6924fd1c28927afadfd523477" category="inline-link-macro">第887期</block>
  <block id="268938527c6b78a7ed673063e5a861e7" category="list-text">更換了Trident控制器<block ref="4727953cbcafc9a49db2d5e1fbb4878a" prefix=" " category="inline-code"></block>優先<block ref="cfcd208495d565ef66e7dff9f98764da" prefix=" " category="inline-code"></block>（<block ref="f7f5a51d8afc55795aa860b78e4c6437" category="inline-link-macro-rx"></block> ）。</block>
  <block id="e0d3d678b5ec46031ee8c6afb7413c9e" category="inline-link-macro">問題[#885</block>
  <block id="85034b8ca1df8fbc112b8206cf773406" category="list-text">ONTAP驅動程式現在接受小於 20 MiB 的磁碟區大小（<block ref="91ddf20e925712134071a4cc83fc66a3" category="inline-link-macro-rx"></block> ）。</block>
  <block id="629823c949babd4c929b5092cd5e2745" category="list-text">修正了Trident ，以防止在ONTAP -SAN 驅動程式調整大小操作期間FlexVol磁碟區縮小。</block>
  <block id="62a3f40ae48e77863d3e5bdef59c1adb" category="list-text">修正了 NFS v4.1 中 ANF 磁碟區匯入失敗的問題。</block>
  <block id="6a89b6f002954f791e28c8dd2f2afcc8" category="section-title">24.02 中的變化</block>
  <block id="ad8deb3ead6fe765f774fdb1b4d51494" category="list-text">新增對雲端身分的支援。</block>
  <block id="1ed2e28ed5e329359ed11fa6b3213f12" category="list-text">將使用 AKS 和 ANF - Azure 工作負載標識作為雲端標識。</block>
  <block id="685239028773625de0a3fdc18c584dcc" category="list-text">EKS 與 FSxN - 將使用 AWS IAM 角色作為雲端身分。</block>
  <block id="f81abe23ec78b1087f167b2fcf413105" category="list-text">增加了從 EKS 控制台將Trident作為外掛程式安裝到 EKS 叢集的支援。</block>
  <block id="a78644e58f124252a596fb7bd5a3f0e3" category="inline-link-macro">第864期</block>
  <block id="45691f8c8852e7e9f8cf8e2ca1fd1a31" category="list-text">增加了配置和停用 iSCSI 自癒功能 (<block ref="eebe101dfd60623e764ed89e9c35e13c" category="inline-link-macro-rx"></block> ）。</block>
  <block id="77a876e8901fcb15dc01c057f3102ab6" category="inline-link-macro">第453期</block>
  <block id="f327f341da3048e9e44264cc06a32d7e" category="list-text">為ONTAP驅動程式添加了Amazon FSx特性，以啟用與 AWS IAM 和 SecretsManager 的集成，並使Trident能夠刪除帶有備份的 FSx 磁碟區 (<block ref="7c3258c670b686f5f475bd6b06dfec79" category="inline-link-macro-rx"></block> ）。</block>
  <block id="210645e9f461c75a53d611ad7ca29990" category="list-text">新增對 Kubernetes 1.29 的支援。</block>
  <block id="40c23d891efbf79122ffcbfdd4e1fc28" category="inline-link-macro">第866期</block>
  <block id="b39a2f3ca5558cdf70a39aaa44921e02" category="list-text">修正了未啟用 ACP 時的 ACP 警告訊息（<block ref="8b8bf8931a263b3cadfea0d794486463" category="inline-link-macro-rx"></block> ）。</block>
  <block id="694637a910367ab017767d1135910517" category="list-text">在ONTAP驅動程式中，當克隆與快速關聯時，在刪除快照期間執行克隆分割之前，增加了 10 秒的延遲。</block>
  <block id="52a6fa0a11a7afe868a3a84e42cff7a1" category="list-text">從多平台鏡像清單中移除了 in-toto 認證框架。</block>
  <block id="1fc7da31107247b07ab3abf335b217de" category="section-title">23.10 中的變化</block>
  <block id="2564a762d021b4beae21f01627773c0f" category="inline-link-macro">第834期</block>
  <block id="e53ddb8a6947ad5b93f8c82a86836f16" category="list-text">對於 ontap-nas 和 ontap-nas-flexgroup 儲存驅動程序，如果新請求的大小小於總卷大小，則固定卷擴展（<block ref="6140c2bc2ecfc555b47da5841f5fd8ae" category="inline-link-macro-rx"></block> ）。</block>
  <block id="d52fe9ebb96cf9ce91bf00e0caa773de" category="inline-link-macro">第722期</block>
  <block id="676394929bfe922b6aff300499cef5a9" category="list-text">固定磁碟區大小，以便在匯入 ontap-nas 和 ontap-nas-flexgroup 儲存驅動程式時僅顯示磁碟區的可用大小 (<block ref="1ec6a9e212fa13524af3f3c296d6bb72" category="inline-link-macro-rx"></block> ）。</block>
  <block id="c2b105e6592336c26afd4f39319a222e" category="list-text">修正了ONTAP -NAS-Economy 的FlexVol名稱轉換問題。</block>
  <block id="81a270127bea2c4d04088d2a999f883e" category="list-text">修正了 Windows 節點重新啟動後Trident初始化出現的問題。</block>
  <block id="b680f5ddc32b78c78329f3f15a836381" category="paragraph">增加了對 Kubernetes 1.28 的支援。</block>
  <block id="2284dc5d4add6f82e5bc0121aa82a816" category="list-text">增加了對使用 Azure 託管識別 (AMI) 和 azure-netapp-files 儲存驅動程式的支援。</block>
  <block id="be1e775eed9a7023c7facbd3f3cd32cd" category="list-text">為ONTAP-SAN 驅動程式新增了對 NVMe over TCP 的支援。</block>
  <block id="24a3b687404991a8b5d83740bfde9f9c" category="inline-link-macro">第558期</block>
  <block id="86826a04ec735c436222d55949b27e52" category="list-text">增加了當後端被使用者設定為暫停狀態時暫停磁碟區配置的功能（<block ref="4ad3a18b49b4979346d26b5940c21a0f" category="inline-link-macro-rx"></block> ）。</block>
  <block id="d4eb6933e70b3c49a70e1d8427489044" category="section-title">23.07.1 中的變更</block>
  <block id="63bfc0691d397470e5b0b05f2a9bcbe4" category="inline-link-macro">第740期</block>
  <block id="06918a8f55f386d79e64a70ca217b501" category="paragraph">*Kubernetes：*修正了守護程式集刪除問題，以支援零停機升級（<block ref="6f993c83118cc4a1dd5351c8501e26c9" category="inline-link-macro-rx"></block> ）。</block>
  <block id="ca6a658f1db1af30f178530c90cbe8fc" category="section-title">23.07 中的變化</block>
  <block id="c8af8b49eb3be9ce411280db66de8a12" category="list-text">修正了Trident升級，使其忽略處於終止狀態的舊 pod（<block ref="6f993c83118cc4a1dd5351c8501e26c9" category="inline-link-macro-rx"></block> ）。</block>
  <block id="cf182305f6f941fa317842399de1ca4a" category="inline-link-macro">第795期</block>
  <block id="4f2f189f428da83c5c5d7e21123fb37a" category="list-text">為「transient-trident-version-pod」定義添加了容忍度（<block ref="cc0c8d3c31e9e289114ade0ef394e90b" category="inline-link-macro-rx"></block> ）。</block>
  <block id="0f6d5d982c20f6f746c8e4019cc039f8" category="list-text">修正了 ONTAPI (ZAPI) 請求，以確保在取得 LUN 屬性時查詢 LUN 序號，從而在節點暫存作業期間識別和修復幽靈 iSCSI 裝置。</block>
  <block id="d5d58a85f5f4a2ac889804742dd7cbb0" category="inline-link-macro">第816期</block>
  <block id="057a4c7c1e2ca8cd3deafe12ee9f2083" category="list-text">修復了儲存驅動程式程式碼中的錯誤處理（<block ref="9862a2577d865ba18fdd2c972f46545b" category="inline-link-macro-rx"></block> ）。</block>
  <block id="97327b29ec21422eaecf8ba479782331" category="list-text">修正了使用 use-rest=true 的ONTAP驅動程式時配額調整的問題。</block>
  <block id="4e6566ec95776d26fcd04a8b88c3e2bc" category="list-text">修復了 ontap-san-economy 中的 LUN 克隆創建問題。</block>
  <block id="dcfc8521cd4d3b29941e756366e00988" category="list-text">恢復發布資訊字段<block ref="380d41b2be72ecdeb109d9d8bf377a97" prefix=" " category="inline-code"></block>到<block ref="cad41ea6c72f7b62b784d199bdd6ec73" prefix=" " category="inline-code"></block>新增了用於填充和恢復（在某些情況下）的邏輯<block ref="cad41ea6c72f7b62b784d199bdd6ec73" prefix=" " category="inline-code"></block>場地。</block>
  <block id="4f2d668b01cf06eca683c287dd7e5082" category="list-text">新增對匯入預配置快照的支援。</block>
  <block id="c47a181e80e553128675166326adecf7" category="inline-link-macro">第817期</block>
  <block id="5f595b574bc00c971991f9f665431b60" category="list-text">最小化部署和守護程式集 Linux 權限（<block ref="aef28cf398bf45d3657483afbc3d3240" category="inline-link-macro-rx"></block> ）。</block>
  <block id="62dcabbe3f6dc07f213482f5acada256" category="list-text">不再報告「線上」磁碟區和快照的狀態欄位。</block>
  <block id="4ff2bb4ecc0b6d51be0477f9d63d5273" category="inline-link-macro">第 801 期</block>
  <block id="9fde208cd399f14480a57fc99b20d291" category="inline-link-macro">#543</block>
  <block id="0696447eb82cdf62dcb8b6c916f35746" category="list-text">如果ONTAP後端離線，則更新後端狀態（<block ref="961e04dd6eabff35abb325a6607994ca" category="inline-link-macro-rx"></block> ，<block ref="fc57c79b0b6691b508ed06011d9f5581" category="inline-link-macro-rx"></block> ）。</block>
  <block id="277ca88d500a9627118781ff85088e70" category="list-text">LUN 序號始終在 ControllerVolumePublish 工作流程中檢索和發布。</block>
  <block id="810ba7b767989fc4c733ae7e9e3460cd" category="list-text">增加了額外的邏輯來驗證 iSCSI 多路徑設備的序號和大小。</block>
  <block id="76ba5d25ded4cc29f1dbfeb16ad652f4" category="list-text">對 iSCSI 磁碟區進行額外驗證，以確保正確的多路徑裝置已取消暫存。</block>
  <block id="3f46c22d346dcb4ef51b664a9e105030" category="section-title">實驗增強</block>
  <block id="866a2a7036f4701ef7fe25f161516e81" category="paragraph">為ONTAP-SAN 驅動程式新增了對 NVMe over TCP 的技術預覽支援。</block>
  <block id="5b6cf869265c13af8566f192b4ab3d2a" category="section-title">文件</block>
  <block id="8e2ae59abc43c08fd49c55abd4da0925" category="paragraph">在組織結構和格式方面都進行了許多改進。</block>
  <block id="fbfae4e9fcac672dd7f5304651cd7713" category="list-text">已移除對 v1beta1 快照的支援。</block>
  <block id="662d0c4b0dab9a3aa7e86162000ad383" category="list-text">移除對 CSI 之前的磁碟區和儲存類別的支援。</block>
  <block id="8c20e8f4703bb12917ce6ae87f5c65a1" category="list-text">已將支援的最低 Kubernetes 版本更新至 1.22。</block>
  <block id="30e50aa1d9f8718f34cb0ecbef4ec9ea" category="section-title">23.04 中的變化</block>
  <block id="3317f97754f7308b6a0e2a12c0241d39" category="admonition">只有當 Kubernetes 版本啟用了非優雅節點關閉功能門時，才支援對ONTAP-SAN-* 磁碟區強制分離。必須在安裝時使用以下方式啟用強制分離：<block ref="d75e90115a6343745df96039920422fc" prefix=" " category="inline-code"></block> Trident安裝程式標誌。</block>
  <block id="19466ff921af5aa01da62b42cdaaf617" category="list-text">修正了Trident Operator 在規範中指定時使用 IPv6 localhost 進行安裝的問題。</block>
  <block id="5b313836498a7a26e99e4f084ee1baec" category="inline-link-macro">第799期</block>
  <block id="8743cc1328bba53ea356fd3e593a3f9c" category="list-text">修正了Trident Operator 叢集角色權限，使其與捆綁包權限保持同步（<block ref="25d51e363866fb30c759c73e05114b0d" category="inline-link-macro-rx"></block> ）。</block>
  <block id="3a35c66b59df0fa02e2490983b964261" category="list-text">修正了在 RWX 模式下將原始區塊卷附加到多個節點的問題。</block>
  <block id="21b2b5bca26be7b23af4468b85c68b34" category="list-text">修正了FlexGroup克隆支援和 SMB 磁碟區的磁碟區匯入問題。</block>
  <block id="c16e7ed05955f3a772cc5e37988626a6" category="inline-link-macro">第811期</block>
  <block id="c8b742414af3be73bd16e0c1ed978ae5" category="list-text">修正了Trident控制器無法立即關閉的問題（<block ref="6916c682464f601a812aa726b7255568" category="inline-link-macro-rx"></block> ）。</block>
  <block id="e82b00f6dda8d75f6267522d6e8e21b3" category="list-text">新增了修復程序，用於列出與使用 ontap-san-* 驅動程式配置的指定 LUN 關聯的所有 igroup 名稱。</block>
  <block id="97848233b9fe6ae43be1728a4e603020" category="list-text">新增了允許外部進程運行完成的修復。</block>
  <block id="3f32e3199847516d3773942171a3320e" category="inline-link-macro">第537期</block>
  <block id="8ac5248178b612abfaaec81ca7b06c94" category="list-text">修正了 s390 架構的編譯錯誤（<block ref="a2e3737cce03fa6e94f8357a427b1da2" category="inline-link-macro-rx"></block> ）。</block>
  <block id="70d039054d2873e8b0f28587cb19086a" category="inline-link-macro">第781期</block>
  <block id="48b91d8b8b87d6d8c95cbc34bbae12e7" category="list-text">修正了卷宗掛載操作期間日誌等級不正確的問題<block ref="8bb65f034421623db4038f879681c20b" category="inline-link-macro-rx"></block>）。</block>
  <block id="6c85ef6d99d7dc6999989d8228ad56d9" category="inline-link-macro">第802期</block>
  <block id="6edadfcf2d991f369cdf934677bb161a" category="list-text">修復了潛在的類型斷言錯誤（<block ref="e6bc1d779eb6c87e7246c3841e50b482" category="inline-link-macro-rx"></block> ）。</block>
  <block id="bc5611c731b034c5f323419d0258aa44" category="list-text">Kubernetes：</block>
  <block id="afcf8fa41398f15ad38c5874372e9b4c" category="list-text">新增對 Kubernetes 1.27 的支援。</block>
  <block id="67db0e94c8905c93eda71f86cb532e07" category="list-text">新增對導入 LUKS 磁碟區的支援。</block>
  <block id="6de845032edacfacdf7599428fce6ce3" category="list-text">增加了對 ReadWriteOncePod PVC 存取模式的支援。</block>
  <block id="9297bb6ec4e523b7875643c53cc9f528" category="list-text">增加了在非正常節點關閉場景下強制分離ONTAP-SAN-* 磁碟區的支援。</block>
  <block id="bf75c88234d165d6aa37891adda4465a" category="inline-link-macro">第758期</block>
  <block id="8ba74f6fd31160a630f1dc4eeb7d2e20" category="list-text">所有ONTAP-SAN-* 磁碟區現在都將使用按節點 igroup。只有在 LUN 主動發佈到這些節點時，才會將其對應到 igroup，以提高我們的安全態勢。當Trident認為在不影響活動工作負載的情況下安全地將現有捲切換到新的 igroup 方案時，將會擇機進行切換（<block ref="9c63b965233843690f19867523ba780c" category="inline-link-macro-rx"></block> ）。</block>
  <block id="79e79d7d8fe825308bd0e601daaa1131" category="list-text">透過從ONTAP -SAN-* 後端清理未使用的 Trident 管理的 igroup，提高了Trident 的安全性。</block>
  <block id="18596399dedf47a387f514e9c9862876" category="list-text">為 ontap-nas-economy 和 ontap-nas-flexgroup 儲存驅動程式新增了對Amazon FSx SMB 磁碟區的支援。</block>
  <block id="42bbebea36c49138518f54240583f571" category="list-text">增加了對 ontap-nas、ontap-nas-economy 和 ontap-nas-flexgroup 儲存驅動程式的 SMB 共享的支援。</block>
  <block id="4332590e7a6bcbdc2a06dc0e18c0731b" category="inline-link-macro">第732期</block>
  <block id="5a8fc8277a0f6ed003c225aa1e7c48b6" category="list-text">增加了對 arm64 節點的支援（<block ref="c2778c70230759cdeecc0357ca334a05" category="inline-link-macro-rx"></block> ）。</block>
  <block id="69ef45b431e1a60332ee3ce7e1a67645" category="list-text">改進了Trident的關閉流程，先停用API伺服器（<block ref="6916c682464f601a812aa726b7255568" category="inline-link-macro-rx"></block> ）。</block>
  <block id="be70537c794b0fc1d909e1bf6ffbbc59" category="list-text">在 Makefile 中新增了對 Windows 和 arm64 主機的跨平台建置支援；請參閱 BUILD.md。</block>
  <block id="6f03549bdf867b6dbabec83da444ffcf" category="paragraph">**Kubernetes：**設定 ontap-san 和 ontap-san-economy 驅動程式時，將不再建立後端範圍的 igroups（<block ref="9c63b965233843690f19867523ba780c" category="inline-link-macro-rx"></block> ）。</block>
  <block id="7558c614baceb6010756b848dd26325e" category="section-title">23.01.1 中的變更</block>
  <block id="b2fc842cefdc715af09b8d184e09db56" category="list-text">修正了Trident Operator 叢集角色權限，使其與捆綁包權限保持同步。<block ref="25d51e363866fb30c759c73e05114b0d" category="inline-link-macro-rx"></block> 。</block>
  <block id="190a9f9a8311c8a23bff1fd7a5693342" category="section-title">23.01 中的變化</block>
  <block id="84874d4f1fcbda2a79fad9c2be463612" category="admonition">Trident現已支援 Kubernetes 1.27。請先升級Trident ，再升級 Kubernetes。</block>
  <block id="1a87abd79c966e67f73bbe738ffa4e59" category="inline-link-macro">第 783 期、第​​ 794 期</block>
  <block id="3e45ffbc961fc6c429b6e91f16331ee5" category="list-text">Kubernetes：新增了排除 Pod 安全性原則建立的選項，以修復透過 Helm 安裝Trident 的問題（<block ref="f91cf268a0811064670bc9d51a6e2016" category="inline-link-macro-rx"></block> ）。</block>
  <block id="a47f012619aa18f9e2c0fbb53d5878d9" category="list-text">增加了對 Kubernetes 1.26 的支援。</block>
  <block id="d87b63603588c1795f58658ee14e505f" category="inline-link-macro">第757期</block>
  <block id="8e3bb4ae68afca021f39502f7954a450" category="list-text">提高了Trident RBAC資源的整體利用率（<block ref="92a5fe29b2be509e7db5f2091f236ee0" category="inline-link-macro-rx"></block> ）。</block>
  <block id="2508a7d2b2da760ab909b40a284aff9f" category="list-text">增加了自動化功能，用於偵測和修復主機節點上損壞或過期的 iSCSI 會話。</block>
  <block id="80a9d5ab26eec41d6d6967415e991c91" category="list-text">增加了對擴展 LUKS 加密卷的支援。</block>
  <block id="1e209dc1ac5964d0a9b1f9c2e9f2fc83" category="list-text">Kubernetes：為 LUKS 加密磁碟區新增了憑證輪替支援。</block>
  <block id="1ae87fd6923d3446058e089c56a6c49d" category="list-text">為 ontap-nas 儲存驅動程式新增了對Amazon FSx for NetApp ONTAP 的SMB 磁碟區的支援。</block>
  <block id="8ce5e316405255bac435287fc5b61f0e" category="list-text">增加了在使用 SMB 磁碟區時對 NTFS 權限的支援。</block>
  <block id="e67f9f12d1f7c510d94da478c87b7d19" category="list-text">為具有 CVS 服務等級的 GCP 磁碟區的儲存池新增了支援。</block>
  <block id="493569102442ea9186ac1061bb527388" category="list-text">在使用 ontap-nas-flexgroup 儲存驅動程式建立 FlexGroups 時，增加了對可選使用 flexgroupAggregateList 的支援。</block>
  <block id="4e48fbbb41f5d5816d9638612c6e4171" category="list-text">改進了 ontap-nas-economy 儲存驅動程式在管理多個FlexVol磁碟區時的效能</block>
  <block id="c26c6c796afe3b5c10e0c830715daf3a" category="list-text">已為所有ONTAP NAS 儲存驅動程式啟用 dataLIF 更新。</block>
  <block id="56f71deb4744b8ffc7a92bde36d3f4d4" category="list-text">更新了Trident Deployment 和 DaemonSet 的命名約定，以反映主機節點作業系統。</block>
  <block id="6ea33f83a7d973b1fa7de807364662d4" category="list-text">Kubernetes：已將支援的最低 Kubernetes 版本更新為 1.21。</block>
  <block id="fcb4221a7bd32f5d31d2e30a8443eac9" category="list-text">配置時不應再指定 DataLIF。<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block>或者<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block>司機。</block>
  <block id="562840ed450b90bfe87c70479237a8da" category="section-title">22.10 中的變化</block>
  <block id="8bf4d4f1641bc0ae0e1ce84b2301ad3c" category="paragraph">*升級到Trident 22.10之前，請務必閱讀以下重要資訊。 *</block>
  <block id="3c8c581ba3964d04278eae9be921969f" category="admonition-title">&lt;strong&gt;關於Trident 22.10 的關鍵資訊&lt;/strong&gt;</block>
  <block id="2ec2ecd5679471f4915360aaa9562646" category="list-text">Trident現已支援 Kubernetes 1.25。在升級到 Kubernetes 1.25 之前，必須先將Trident升級到 22.10。</block>
  <block id="3fe15650bf774497f976b0dcd6e74e95" category="list-text">Trident現在嚴格強制要求在 SAN 環境中使用多路徑配置，建議值為<block ref="db729c5c8df447087e5a84b961df14f6" prefix=" " category="inline-code"></block>在 multipath.conf 檔案中。</block>
  <block id="84ec6afbbe3e33afb3eba2b0375718b1" category="inline-link-macro">第759期</block>
  <block id="e07bc583b0f70b05fdbb1008303e8f85" category="list-text">修正了使用ONTAP後端建立的特定問題<block ref="d3ed68f7315b7e72b8d886b2278fcac3" prefix=" " category="inline-code"></block>22.07.0 升級期間欄位無法上線 (<block ref="294e408500bc8358b70c680986c23bdb" category="inline-link-macro-rx"></block> ）。</block>
  <block id="958424a347179b6856de7610a2b99b8d" category="inline-link-macro">第548期</block>
  <block id="9663034bca37c0603d813726d885503d" category="inline-link-macro">第760期</block>
  <block id="26d08c0516dec92a4420f06d4da4fcf1" category="list-text">**Docker：**修正了導致 Docker 磁碟區外掛程式在某些環境下無法啟動的問題（<block ref="78b7b57a86c570439562f2c638103de5" category="inline-link-macro-rx"></block>和<block ref="968dd574470c019c42c32878b5799fe9" category="inline-link-macro-rx"></block>）。</block>
  <block id="3165be312bab247f04681069367db65a" category="list-text">修正了ONTAP SAN 後端特有的 SLM 問題，以確保僅發布屬於報告節點的 dataLIF 子集。</block>
  <block id="8f9d66f5cbbd4fc027dbd00d46032c8e" category="list-text">修正了附加磁碟區時發生不必要的 iSCSI LUN 掃描的效能問題。</block>
  <block id="3e84d49b37065ae841277ed78e8fb1bb" category="list-text">移除了Trident iSCSI 工作流程中的細微重試，以便快速失敗並減少外部重試間隔。</block>
  <block id="08e9e62a917aaf944b6ff85929a9f1dd" category="list-text">修正了當對應的多路徑裝置已重新整理時，重新整理 iSCSI 裝置會傳回錯誤的問題。</block>
  <block id="b1ae71d1cd3967fcca9453f4087b19ef" category="list-text">新增對 Kubernetes 1.25 的支援。在升級到 Kubernetes 1.25 之前，必須先將Trident升級到 22.10。</block>
  <block id="98f7f8fbd26f9272ad6a29f2fb6c930b" category="list-text">為Trident部署和 DaemonSet 新增了單獨的 ServiceAccount、ClusterRole 和 ClusterRoleBinding，以便將來進行權限增強。</block>
  <block id="609df46dff884c3eec4386eb8db4e358" category="inline-link-macro">跨命名空間卷共享</block>
  <block id="d041a310ba7cc2599250e64801594107" category="list-text">增加了對<block ref="ca184a2eda203b6d98158bdf24e5cf7d" category="inline-link-macro-rx"></block>。</block>
  <block id="09065204259df86d4fe38c35ea23f5af" category="list-text">所有Trident<block ref="aa44e980d222d5134b5e0d8a062e1543" prefix=" " category="inline-code"></block>儲存驅動程式現在可以與ONTAP REST API 配合使用。</block>
  <block id="8485ea08789af7b6b7b44e024b526f9b" category="list-text">新增運算子 yaml<block ref="5a02ebff4889c2de0379a0fb10bed282" prefix="(" category="inline-code"></block> ) 沒有<block ref="316707d12484dd3afede08839dee49bc" prefix=" " category="inline-code"></block>支援 Kubernetes 1.25。</block>
  <block id="26e871bef43095263845143b043aee4f" category="inline-link-macro">支援 LUKS 加密卷</block>
  <block id="816cf1fb2aa5f808ab09b4740f8ec199" category="list-text">額外<block ref="d387032e9d71b36f3d6219f60f33a659" category="inline-link-macro-rx"></block>為了<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block>和<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block>儲存驅動程式。</block>
  <block id="30b044636a9c63ab4b202192eec30c1c" category="list-text">新增對 Windows Server 2019 節點的支援。</block>
  <block id="38b9dc57f44121e6d970b34eede9ad0d" category="inline-link-macro">支援 Windows 節點上的 SMB 卷</block>
  <block id="adbfe36f6399f2846983b2901604a962" category="list-text">額外<block ref="40be42d37bc6014716dcd0a1d368ffb5" category="inline-link-macro-rx"></block>透過<block ref="bc5779a2d33eeb1304bae57f15920cfc" prefix=" " category="inline-code"></block>儲存驅動程式。</block>
  <block id="66f2c42a4ca561f5472459301bc7d096" category="list-text">ONTAP驅動程式的自動MetroCluster切換偵測功能現已普遍可用。</block>
  <block id="af8a9d07c7391207db96957ab59cb459" category="list-text">**Kubernetes：** 已將支援的最低 Kubernetes 版本更新為 1.20。</block>
  <block id="d667cfc8e8d6ec0c2352fe97b0f09e40" category="list-text">已移除Astra資料儲存 (ADS) 驅動程式。</block>
  <block id="9b363ea2db99fe0dc5e9b43f47a37f20" category="list-text">已移除對以下功能的支持<block ref="a6105c0a611b41b08f1209506350279e" prefix=" " category="inline-code"></block>和<block ref="8c319f28d81d1527a9428e9a5c2195f5" prefix=" " category="inline-code"></block>選項<block ref="19b30dc119e514235b739e076be9b3cc" prefix=" " category="inline-code"></block>配置 iSCSI 工作節點多路徑時。</block>
  <block id="1407cfeeb5e3916e1435ddea0f1c0a28" category="section-title">22.07 中的變化</block>
  <block id="05759468b045fc55d22e8e6881dca01f" category="paragraph">Kubernetes</block>
  <block id="a885c202ff7951e3ed11491edbe869b2" category="inline-link-macro">GitHub 問題 #700</block>
  <block id="b649490c5687c23484f5e4043e17b9c5" category="list-text">修正了使用 Helm 或Trident Operator 設定Trident時處理節點選擇器的布林值和數值的問題。  （<block ref="4be853b49b0a07556a73959d38037d90" category="inline-link-macro-rx"></block> ）</block>
  <block id="0ae28ee1c5edfd4bee3e296a8261ed8b" category="inline-link-macro">GitHub 問題 #736</block>
  <block id="69ce5488c3078e15fc6e51116d1d17ba" category="list-text">修正了處理非 CHAP 路徑錯誤的問題，以便 kubelet 在失敗時重試。<block ref="a21b5d75e3a2341288a5ed769d7d4ca2" category="inline-link-macro-rx"></block> ）</block>
  <block id="701ba87ab75dde70f4604769defc7d00" category="list-text">將 CSI 映像檔的預設鏡像倉庫從 k8s.gcr.io 過渡到 registry.k8s.io</block>
  <block id="95b61962ec35cc252a4791e4101c5aaa" category="list-text">ONTAP-SAN 磁碟區現在將使用每個節點的 igroup，並且僅在主動發佈到這些節點時才將 LUN 對應到 igroup，以提高我們的安全態勢。當Trident認為在不影響目前工作負載的情況下安全地將現有磁碟區切換到新的 igroup 方案時，將會擇機進行。</block>
  <block id="90e3cd7cff1c9f6f4b8d2a509b127d44" category="list-text">在Trident安裝中包含 ResourceQuota，以確保在 PriorityClass 消耗預設受到限制時， Trident DaemonSet 能夠被調度。</block>
  <block id="838a6d7e89b7c366cfc25d3b2115b901" category="inline-link-macro">GitHub 問題 #717</block>
  <block id="5ab207578468b7bbc201024492654253" category="list-text">為Azure NetApp Files驅動程式新增了對網路功能的支援。  （<block ref="e0e89f8bd936a5eb3adce74cac88eab0" category="inline-link-macro-rx"></block> ）</block>
  <block id="cab6f6f91105d87aa3f65650df43c553" category="inline-link-macro">GitHub 問題 #228</block>
  <block id="00ea108f36897d9ed3523b970b09e6ea" category="list-text">ONTAP驅動程式新增了技術預覽版自動MetroCluster切換偵測功能。  （<block ref="0c9c84232975bfb33d3481050e5ef924" category="inline-link-macro-rx"></block> ）</block>
  <block id="0b4fe975279063a2d1790cd061a8b8d1" category="list-text">**Kubernetes：** 已將支援的最低 Kubernetes 版本更新為 1.19。</block>
  <block id="108e9d089b04380952a04c1021cdad80" category="list-text">後端配置不再允許在單一配置中使用多種身份驗證類型。</block>
  <block id="3f39a3207529d5f8129199a33e60ef87" category="section-title">搬家</block>
  <block id="de278730ee66ed696db3f71d20aa30a5" category="list-text">AWS CVS 驅動程式（自 22.04 版本起已棄用）已移除。</block>
  <block id="16cbbf51150ac75556b3850ff4a5a013" category="list-text">從節點 pod 移除不必要的 SYS_ADMIN 功能。</block>
  <block id="9f0be62f4bbebd42af8782e0151af649" category="list-text">將 nodeprep 簡化為簡單的主機資訊和主動服務發現，以盡力確認 NFS/iSCSI 服務在工作節點上可用。</block>
  <block id="d3889fc650fa47326b5f1d0c56f50970" category="inline-link-macro">艙體安全標準</block>
  <block id="5e65f8ef909da6c604c403e32b1b48ee" category="paragraph">一個新的<block ref="305368b4f0d008a807e095ab9da58448" category="inline-link-macro-rx"></block>（PSS）部分已添加，詳細說明了Trident在安裝時啟用的權限。</block>
  <block id="278dc4a29aa2b881b9dc4b45a82929c5" category="section-title">22.04 中的變化</block>
  <block id="1709d6f66b1414fcc9f298c36d33f86b" category="paragraph">NetApp不斷改進和增強其產品和服務。以下是Trident的一些最新功能。有關先前版本，請參閱<block ref="25da125dffad1d6323c21354bccf0203" category="inline-link-rx"></block>。</block>
  <block id="7072ec708b0ea7e3243747d8b79c0d20" category="admonition">如果您是從任何先前的Trident版本升級，並且使用Azure NetApp Files，則<block ref="d5189de027922f81005951e6efe0efd5" prefix="" category="inline-code"></block>配置參數現在是必填的單例欄位。</block>
  <block id="cb60f101c87f3def78d0fef168389244" category="inline-link-macro">GitHub 問題 #681</block>
  <block id="2901fba3b85d37ea6000d90e72366ba6" category="list-text">改進了 iSCSI 發起程序名稱的解析。  （<block ref="3947f141b94c1867221790f45a6ee173" category="inline-link-macro-rx"></block> ）</block>
  <block id="8804e61e26be921d78a1632ad8607a4c" category="inline-link-macro">GitHub 問題 #598</block>
  <block id="d0aad022e470a22fe71fa5616ce002f8" category="list-text">修復了不允許使用 CSI 儲存類別參數的問題。  （<block ref="032ea6b8f2fceffcd025bdcae99652ae" category="inline-link-macro-rx"></block> ）</block>
  <block id="34fb36c5e51f4530848bc5114cf29aa7" category="inline-link-macro">GitHub 問題 #671</block>
  <block id="951995417edc5c2968955384b925b27e" category="list-text">修正了Trident CRD 中重複的按鍵聲明。  （<block ref="6e73ffca3c5d1dc68cd639612845812c" category="inline-link-macro-rx"></block> ）</block>
  <block id="55cd7443e4a1278a57f612df28b8eee3" category="inline-link-macro">GitHub 問題 #629</block>
  <block id="ec74c645b7b5f9d3051f68de156927d9" category="list-text">修復了不準確的 CSI 快照日誌。  （<block ref="9b20149e8d36c115b9349e728abebd54" category="inline-link-macro-rx"></block> ））</block>
  <block id="a98b2ebbcbb381d3abc81e2ecfb2054c" category="inline-link-macro">GitHub 問題 #691</block>
  <block id="28341d7630f486a1b72b5b97d39ce589" category="list-text">修正了在已刪除節點上取消發布捲的問題。  （<block ref="439c8b5253b3b0fa8d2ddb79f44cd784" category="inline-link-macro-rx"></block> ）</block>
  <block id="fbb82269f3871bc5751dda6ade9cd9ea" category="inline-link-macro">GitHub 問題 #656</block>
  <block id="e02171b3da303c0d6b9bd3102650bb07" category="list-text">增加了對區塊設備上檔案系統不一致性的處理。  （<block ref="b6c419ed0f79d6957e3796ca0e0742cb" category="inline-link-macro-rx"></block> ）</block>
  <block id="1bae87f1c9d9a094dce218672331de02" category="inline-link-macro">GitHub 問題 #715</block>
  <block id="4aeb6a7748e689a0ce92c16344bb6285" category="list-text">修正了設定時自動拉取支撐影像的問題<block ref="990dc1a09e10c7b5378e6bc8a1956cb8" prefix=" " category="inline-code"></block>安裝過程中標記。  （<block ref="5f789d3f3d58c42cfbeb0b6394bac993" category="inline-link-macro-rx"></block> ）</block>
  <block id="302e5f91d375f03821f8fd6340563539" category="list-text">修正了Azure NetApp Files驅動程式無法複製具有多個匯出規則的磁碟區的問題。</block>
  <block id="70703300e76c51632e4ea22ce53c74af" category="inline-link-macro">GitHub 問題 #698</block>
  <block id="99df1eeec5b67fac5a47fb610c720712" category="list-text">現在，與 Trident 安全端點的入站連線至少需要 TLS 1.3。  （<block ref="5ab4d3faf45db0d93ac1a5f7438f1c62" category="inline-link-macro-rx"></block> ）</block>
  <block id="723b30bcece2d0d47914a6eaf0c550cc" category="list-text">Trident現在會在其安全端點的回應中加入 HSTS 標頭。</block>
  <block id="621b9733ee07089711b96dd6b0b7861a" category="list-text">Trident現在會嘗試自動啟用Azure NetApp FilesUnix 權限功能。</block>
  <block id="3786cba0bc294f586b13783c69b08371" category="inline-link-macro">GitHub 問題 #694</block>
  <block id="c0f60be70f5b8a5bc6c7c8071f4481fb" category="list-text">*Kubernetes*： Trident daemonset 現在以 system-node-critical 優先權運行。  （<block ref="b04869f92878b510e393bc41361c825d" category="inline-link-macro-rx"></block> ）</block>
  <block id="3d0d8392962843a02a6fa979f76b5a91" category="paragraph">E系列驅動程式（自20.07版本起已停用）已移除。</block>
  <block id="72387bfdb0acfd8a27877f000a3abeac" category="section-title">22.01.1 中的變更</block>
  <block id="61465c1d4383dd4afdf168925e15e767" category="list-text">修正了在已刪除節點上取消發布捲的問題。  （<block ref="5fee6ab43e8008edba54375694a29266" category="inline-link-macro-rx"></block> ）</block>
  <block id="e50f1057ba4b67b255c98fa09c5ba6f8" category="list-text">修正了在ONTAP API 回應中存取聚合空間的 nil 欄位時發生的 panic 問題。</block>
  <block id="135c438d01a49275c458e22005e39c6e" category="section-title">22.01.0 中的變更</block>
  <block id="3c72f47eeb46270dd13a77b32ec10dd3" category="list-text">*Kubernetes:* 增加大型叢集的節點註冊退避重試時間。</block>
  <block id="0ef48234390855900384d0bc8a0a8a24" category="list-text">修正了 azure-netapp-files 驅動程式可能被多個同名資源混淆的問題。</block>
  <block id="a478d15e95ddd4ce45d4fe0b98b651a6" category="list-text">如果用方括號指定， ONTAP SAN IPv6 DataLIF 現在可以正常運作。</block>
  <block id="404cef2e43cb97ccef52692419ad6f6b" category="inline-link-macro">GitHub 問題 #489</block>
  <block id="7213ed07f5b718aa66cfac350f023a77" category="list-text">修正了嘗試匯入已匯入磁碟區時傳回 EOF 導致 PVC 處於待處理狀態的問題。  （<block ref="b9a2290d6389b9a605883cda4e717749" category="inline-link-macro-rx"></block> ）</block>
  <block id="0e258ce589a7c5edca46e96701e7a846" category="list-text">修正了在SolidFire磁碟區上建立超過 32 個快照時Trident效能變慢的問題。</block>
  <block id="d0aaca968285d0d47ea0c5a0f7b9bab5" category="list-text">在建立 SSL 憑證時，將 SHA-1 替換為 SHA-256。</block>
  <block id="1d61f4e1411b6940bc918fb56346f64d" category="list-text">修正了Azure NetApp Files驅動程序，使其允許重複的資源名稱，並將操作限制在單一位置。</block>
  <block id="851679bec9b3e6c8e6284128fb750b1e" category="list-text">Kubernetes 增強功能：</block>
  <block id="2767b461b2b49786f390c9e0509d2d12" category="list-text">增加了對 Kubernetes 1.23 的支援。</block>
  <block id="7f10502f6f15537f180f07f0c89d2642" category="inline-link-macro">GitHub 問題 #651</block>
  <block id="2ff7a365e7c341f8f381cd7c2a4e15f6" category="list-text">透過Trident Operator 或 Helm 安裝Trident pod 時，新增排程選項。  （<block ref="15fbe6dcd60762941b28bc5990803bde" category="inline-link-macro-rx"></block> ）</block>
  <block id="90fdd892e78b26eb18a250c9c1bc19ff" category="inline-link-macro">GitHub 問題 #633</block>
  <block id="3ff8e54aa1f3735deb64771c4c65c420" category="list-text">允許 GCP 驅動程式中的跨區域磁碟區。  （<block ref="efd445659801b6abfdba2997e23e5f4f" category="inline-link-macro-rx"></block> ）</block>
  <block id="fef8c75d6cd00955b0f1c84d40af01aa" category="inline-link-macro">GitHub 問題 #666</block>
  <block id="409ee85d2342bf416b29a45a7b9c4e59" category="list-text">為Azure NetApp Files區新增了對「unixPermissions」選項的支援。  （<block ref="b2ee1a79cce917ad1d60b3bec442914a" category="inline-link-macro-rx"></block> ）</block>
  <block id="de6284c149d2e011da3909f1ef2af627" category="paragraph">Trident REST 介面只能監聽並提供服務於 127.0.0.1 或 [::1] 位址</block>
  <block id="58a2e8c17107cc1ca9cb1317cd0c1ee9" category="section-title">21.10.1 中的變更</block>
  <block id="cdb544a92bee555749f43046d53ef34e" category="admonition">v21.10.0 版本有一個問題，當節點被移除然後又被加入到 Kubernetes 叢集時， Trident控制器可能會進入 CrashLoopBackOff 狀態。此問題已在 v21.10.1 中修復（GitHub 問題 669）。</block>
  <block id="cd1bf2431d703fd3c62a278b9c812d56" category="list-text">修正了在 GCP CVS 後端匯入磁碟區時可能出現的競爭條件，該條件會導致匯入失敗。</block>
  <block id="8e1e1dad95de3dc781f25f58483acdf3" category="list-text">修正了當節點被移除然後又被加入到 Kubernetes 叢集時， Trident控制器可能進入 CrashLoopBackOff 狀態的問題（GitHub 問題 669）。</block>
  <block id="d7c32cb5ff2be4aaff3a8eaea9d18e0d" category="list-text">修正了未指定 SVM 名稱時無法發現 SVM 的問題（GitHub 問題 612）。</block>
  <block id="43e92857220d1a7ea1da88250ea5e2e3" category="section-title">21.10.0 中的變更</block>
  <block id="a6e7aa999ba654c6844672ae59f5137a" category="list-text">修正了 XFS 磁碟區的克隆無法掛載到與來源磁碟區相同的節點上的問題（GitHub 問題 514）。</block>
  <block id="abf7e791f62ca6d68b31527c63563786" category="list-text">修正了Trident在關閉時記錄致命錯誤的問題（GitHub 問題 597）。</block>
  <block id="852acc81ea6fa7363b73c5313002de83" category="list-text">與 Kubernetes 相關的修復：</block>
  <block id="f94cc5159119c43751041256941deb2c" category="list-text">使用下列命令建立快照時，將磁碟區的已使用空間作為最小還原大小傳回：<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block>和<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block>驅動程式（GitHub 問題 645）。</block>
  <block id="742ce2e3c9c8496323bd1176af2838a4" category="list-text">修復了以下問題<block ref="c80aaf836310b4d6ad1f810928cbb5d2" prefix=" " category="inline-code"></block>卷大小調整後記錄了錯誤（GitHub 問題 560）。</block>
  <block id="9a445ecbad9af70a94bd7558ba95e059" category="list-text">修復了艙體可能卡住的問題<block ref="720f84c3d4dcb9a556ac6adfd1e75b8c" prefix=" " category="inline-code"></block>狀態（GitHub 問題 572）。</block>
  <block id="4f81c320a621b8c9d81c7334f2cffc71" category="list-text">修復了以下情況：<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block> FlexVol可能充滿了快照 LUN（GitHub 問題 533）。</block>
  <block id="169c3be63dd22b315ed7884e246338de" category="list-text">修正了使用不同鏡像時自訂 YAML 安裝程式的問題（GitHub 問題 613）。</block>
  <block id="1077a1a91a96498c2f56bc630e632eee" category="list-text">修復了快照大小計算（GitHub 問題 611）。</block>
  <block id="20179fee7c8b97f5118f8bb139c3e3ee" category="list-text">修正了所有Trident安裝程式都能將普通 Kubernetes 識別為 OpenShift 的問題（GitHub 問題 639）。</block>
  <block id="27b76ffa775f907a1fd51f21a669551b" category="list-text">修正了Trident操作符，使其在 Kubernetes API 伺服器無法存取時停止協調（GitHub 問題 599）。</block>
  <block id="1f9e922b6eff6cb06fca1ed9137eed38" category="list-text">增加了對<block ref="c005e78d4bd808038335c32dd84cf7da" prefix=" " category="inline-code"></block>可選擇 GCP-CVS 性能卷。</block>
  <block id="294b850a76a040c20913e76c2fe6589a" category="list-text">為 GCP 中 600 GiB 到 1 TiB 範圍內的規模優化 CVS 磁碟區新增了支援。</block>
  <block id="0333eb54465646b87754facff75fdb5f" category="list-text">Kubernetes 相關增強功能：</block>
  <block id="c32aa411caa1ffd0e30a271f5be834d9" category="list-text">新增對 Kubernetes 1.22 的支援。</block>
  <block id="fa1fd8841173fa7ccde5059fb7c2f903" category="list-text">使Trident operator 和 Helm chart 能夠與 Kubernetes 1.22 一起使用（GitHub 問題 628）。</block>
  <block id="dbaa551f190105e514f7816811f4b397" category="list-text">已新增操作員圖像<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>images 指令（GitHub 問題 570）。</block>
  <block id="be575f1ff204f2800114965a5c0d8575" category="section-title">實驗性改進</block>
  <block id="29ddf941d9825cc9283521ee90468595" category="list-text">增加了對卷複製的支持<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block>司機。</block>
  <block id="e2f2b85987da5e2397c1e342a6fd9e28" category="list-text">新增了對 REST 的*技術預覽*支持<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block>，<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> ， 和<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block>司機。</block>
  <block id="64a8f71bee95a6635e88bce00f1a2d3c" category="paragraph">已知問題是指可能妨礙您成功使用產品的問題。</block>
  <block id="da7c48c170570a143b062de762b69ac3" category="list-text">Trident現在強制執行空白<block ref="7cfbb6f07899c8071ff38e69dca190e2" prefix=" " category="inline-code"></block> <block ref="6d8a605a6037c779649e91ad03a19c1c" prefix="(" category="inline-code"></block>對於沒有捲的<block ref="7cfbb6f07899c8071ff38e69dca190e2" prefix=" " category="inline-code"></block>在其儲存類別中指定。使用 Kubernetes 1.17 或更高版本時， Trident支援提供一個空白的<block ref="7cfbb6f07899c8071ff38e69dca190e2" prefix=" " category="inline-code"></block>適用於 NFS 磁碟區。對於 iSCSI 卷，您需要設定<block ref="7cfbb6f07899c8071ff38e69dca190e2" prefix=" " category="inline-code"></block>在強制執行儲存類別時<block ref="c7a6c0ee60c6f68dfe700feaacf15703" prefix=" " category="inline-code"></block>使用安全上下文。</block>
  <block id="e19cc53ffca782e210d63cc3ba607068" category="list-text">當在多個Trident實例中使用後端時，每個後端設定檔都應該有不同的設定。<block ref="ed66bef2b107983b6e4066fddf8c45c3" prefix=" " category="inline-code"></block> ONTAP後端的值，或使用其他值<block ref="2e9183e3f034dbf1322a3385f151456e" prefix=" " category="inline-code"></block>適用於SolidFire後端。 Trident無法偵測到其他Trident實例所建立的磁碟區。嘗試在ONTAP或SolidFire後端建立現有磁碟區都會成功，因為Trident將磁碟區建立視為冪等操作。如果<block ref="ed66bef2b107983b6e4066fddf8c45c3" prefix=" " category="inline-code"></block>或者<block ref="2e9183e3f034dbf1322a3385f151456e" prefix=" " category="inline-code"></block>即使名稱相同，在相同後端建立的磁碟區也可能出現名稱衝突。</block>
  <block id="f361d11207fb1bf400735cf23bd3eead" category="list-text">安裝Trident時（使用<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>或Trident運算子）並使用<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>要管理Trident，您應該確保<block ref="39e7fa5a13dbc25a4aa8c4b323cd657c" prefix=" " category="inline-code"></block>環境變數已設定。這是為了指明 Kubernetes 叢集。<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>應該起到反作用。當使用多個 Kubernetes 環境時，您應該確保：<block ref="39e7fa5a13dbc25a4aa8c4b323cd657c" prefix=" " category="inline-code"></block>文件來源準確無誤。</block>
  <block id="6d791d3b45515fd8619e489b938f39e8" category="inline-link">掛載選項</block>
  <block id="814077b936b9bc9d2731d0f5fd50fde3" category="list-text">要對 iSCSI PV 執行線上空間回收，工作節點上的底層作業系統可能需要將掛載選項傳遞給磁碟區。對於 RHEL/Red Hat Enterprise Linux CoreOS (RHCOS) 實例來說，情況確實如此，這些實例需要<block ref="70f68bb2f748b85de6526bfe236ea1e9" prefix=" " category="inline-code"></block><block ref="2ee633fb26bfccf07d490458d29f92a2" category="inline-link-rx"></block>確保你的配置中包含 discard mountOption。<block ref="15699dd651c6fec3ed329f2bf55d54b4" category="inline-link-rx"></block><block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix="[" category="inline-code"></block> ^] 支援在線區塊丟棄。</block>
  <block id="fb03c645f52123146ba91e4a67fc8b1e" category="list-text">如果每個 Kubernetes 叢集中有多個Trident實例， Trident將無法與其他實例通信，也無法發現它們建立的其他卷，如果叢集中運行多個實例，則會導致意外和不正確的行為。每個 Kubernetes 叢集應該只有一個Trident實例。</block>
  <block id="6d2a9758a5a695c93ba565384c106ee5" category="list-text">如果基於三叉戟<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block>當Trident離線時，Kubernetes 中的物件會被刪除；當Trident重新上線時，它不會從資料庫中刪除對應的儲存類別。您應該使用以下命令刪除這些存儲類<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>或使用 REST API。</block>
  <block id="8064c72c81e13811dd14b604af2cba51" category="list-text">如果使用者在刪除對應的 PVC 之前刪除了Trident提供的 PV， Trident不會自動刪除支援卷。您應該透過以下方式移除音量：<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>或使用 REST API。</block>
  <block id="0821431aba133adbfa7fa0ca1781eedd" category="list-text">除非每個配置請求的聚合集都是唯一的，否則ONTAP不能同時配置多個FlexGroup 。</block>
  <block id="cf2e8e446588a928fb23cb0dbd820e8b" category="list-text">使用 IPv6 上的Trident時，您應該指定<block ref="a6ea6092cb7b9c5f31909eb4be8fa5ea" prefix=" " category="inline-code"></block>和<block ref="ea76b2438eb5996eb2c347e7341ed59a" prefix=" " category="inline-code"></block>在方括號內的後端定義中。例如，<block ref="cbd17d3c94dc0ed51eeeab01d2ae8741" prefix="" category="inline-code"></block> 。</block>
  <block id="b75a48587845391dbbe47d0dcc15d3c0" category="admonition">您無法指定<block ref="ea76b2438eb5996eb2c347e7341ed59a" prefix=" " category="inline-code"></block>基於ONTAP SAN 後端。  Trident會發現所有可用的 iSCSI LIF，並使用它們來建立多路徑會話。</block>
  <block id="18c20e5d2e368f36f420dd39019d460f" category="list-text">如果使用<block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block>使用 OpenShift 4.5 的驅動程式時，請確保底層工作節點使用 MD5 作為 CHAP 認證演算法。  Element 12.7 提供符合 FIPS 標準的 CHAP 安全演算法 SHA1、SHA-256 和 SHA3-256。</block>
  <block id="9c83e144e5481ac6766f4055e566594d" category="section-title">查找更多信息</block>
  <block id="8a247589aa6f5931b3416e5dd64ba361" category="inline-link">Trident GitHub</block>
  <block id="2e62261179042a713555c66362bf55b6" category="list-text"><block ref="2e62261179042a713555c66362bf55b6" category="inline-link-rx"></block></block>
  <block id="fd898492f5f83a18091a5e6c78cf2276" category="list-text"><block ref="fd898492f5f83a18091a5e6c78cf2276" category="inline-link-rx"></block></block>
  <block id="f353c2f2ba62c120d68a9fde333ef59f" category="summary">了解Azure NetApp Files的 NFS 和 SMB 後端設定選項，並查看設定範例。</block>
  <block id="17a48ec106d5505e674ccdf56fce1058" category="doc">Azure NetApp Files後端設定選項和範例</block>
  <block id="15b7c7ffe264d7b8c61915ff2a6ef96c" category="section-title">後端配置選項</block>
  <block id="7afa2d89ddb38b52ee6c828cd75c06c9" category="paragraph">Trident使用您的後端設定（子網路、虛擬網路、服務等級和位置），在要求的位置中可用的容量池上建立Azure NetApp Files卷，並與要求的服務等級和子網路相符。</block>
  <block id="fcc2bb4278d843dbf9fdbcf83a214131" category="admonition">* 從NetApp Trident 25.06 版本開始，手動 QoS 容量池作為技術預覽版受到支援。 *</block>
  <block id="b9acebca540d60eef74f6ffc3e4aa2e7" category="paragraph">Azure NetApp Files後端提供以下設定選項。</block>
  <block id="40e27006e7b709772172391a3d17b331" category="cell">始終為 1</block>
  <block id="5aae2c40b50d296edbd4ba9cfb462b49" category="cell">儲存驅動程式的名稱</block>
  <block id="3e566c45584d66d2ab94c2108f7c3488" category="cell">"azure-netapp-files"</block>
  <block id="f5b55596d3f53b1857a4980dac9db979" category="cell"><block ref="a3d5885ebdbdbb3f39c48e483cc04978" prefix="" category="inline-code"></block></block>
  <block id="5afd6479855e8d63f324b6ec2fa787b4" category="cell">自訂名稱或儲存後端</block>
  <block id="9dd18f393b35bf22098cf53e9c1c7fa6" category="cell">司機姓名 + "_" + 隨機字符</block>
  <block id="665120e71659a6a32f990a3181688d1b" category="cell"><block ref="8c443e170595ba0feac007ffb92cb49a" prefix="" category="inline-code"></block></block>
  <block id="213e4b0f68f673550c1154cabddf4142" category="cell">Azure 訂閱的訂閱 ID（在 AKS 叢集上啟用託管識別時為可選）。</block>
  <block id="e07778d10cef90430253876cba7157e4" category="cell"><block ref="bc54592d6183695b841c6d1880ec0bf8" prefix="" category="inline-code"></block></block>
  <block id="35140a26b22dd9ba254fba38858d8b10" category="cell">在 AKS 叢集上使用託管身分或雲端身分時，應用程式註冊中的租用戶 ID 是可選的。</block>
  <block id="949ba1045db0d48bd189044e672d8097" category="cell"><block ref="93c5bebdea9c94a0740fe6fd9bb250f0" prefix="" category="inline-code"></block></block>
  <block id="68aab7c1f293b3f340c21d4598bbf943" category="cell">在 AKS 叢集上使用託管身分或雲端身分時，應用程式註冊中的用戶端 ID 是可選的。</block>
  <block id="56ef18e84ab36c2bdc4546e6a2756673" category="cell"><block ref="2b53761249254ce6b502f521e5cc0683" prefix="" category="inline-code"></block></block>
  <block id="6224cbf7bf787bd81b6e12ade1b5069a" category="cell">在 AKS 叢集上使用託管身分或雲端身分時，應用程式註冊中的用戶端金鑰是可選的。</block>
  <block id="0322003a3502f221fdb74b059dfff46e" category="cell"><block ref="f1d0ae63f2e948a9e43dcc60303d595d" prefix="" category="inline-code"></block></block>
  <block id="1c65f12b4d30114593cc01384938cb5f" category="cell">之一<block ref="eb6d8ae6f20283755b339c0dc273988b" prefix=" " category="inline-code"></block>，<block ref="8d5e7e72f12067991186cdf3cb7d5d9d" prefix=" " category="inline-code"></block> ， 或者<block ref="7057376a419b3334cc7b8b7a9f064abb" prefix=" " category="inline-code"></block></block>
  <block id="b21b08bb55acd409e40e9b45edd3bb34" category="cell">「「 （隨機的）</block>
  <block id="fc7dd5b65d21ee7272a067c9404a8498" category="cell"><block ref="d5189de027922f81005951e6efe0efd5" prefix="" category="inline-code"></block></block>
  <block id="938c7b48cad00c77e1900399388741e8" category="cell">將在 Azure 中建立新磁碟區的位置名稱（在 AKS 叢集上啟用託管識別碼時為可選）。</block>
  <block id="016a4b469916e37291cfe2f7fab49aaf" category="cell"><block ref="6a3560738716ddd805d769d4460ca7aa" prefix="" category="inline-code"></block></block>
  <block id="66d09fbe1165f3d10b368cbe0cc029f4" category="cell">用於篩選已發現資源的資源群組列表</block>
  <block id="36cbcb8a57112362b05d06b9fe037a6e" category="cell">（無濾鏡）</block>
  <block id="d4b4343f054233d7d339bb1501425fd4" category="cell"><block ref="87d26f327b9deeb6141721bda7f8ca65" prefix="" category="inline-code"></block></block>
  <block id="61476ef20a8015760b9cb3c1bd0ea435" category="cell">用於篩選已發現資源的NetApp帳戶列表</block>
  <block id="722c7b4409fa4d1fe6aaa2902ae66473" category="cell"><block ref="338b00a62e6d8d3234c056bf48b711d0" prefix="" category="inline-code"></block></block>
  <block id="225abbb59bc0bbaa2a5852ada333b31b" category="cell">用於篩選已發現資源的容量池列表</block>
  <block id="f2a5b99a63a463017b3e5f5848444d9a" category="cell">（無過濾，隨機）</block>
  <block id="32ef1af5ccda7c2f6d85e55f5034f105" category="cell"><block ref="a88edbe6cce8d8f180d87bef83408312" prefix="" category="inline-code"></block></block>
  <block id="10afd0959cfa4a53bce9c8d395c40c48" category="cell">具有委派子網路的虛擬網路的名稱</block>
  <block id="ec045173f4df65e5e8951c3ca9579945" category="cell"><block ref="4f556606ab1f7cb51dd23811407facbd" prefix="" category="inline-code"></block></block>
  <block id="0b8deda0ecc5080e8c0ed0b475e983ba" category="cell">委派給的子網路名稱<block ref="0c20a1ae75c1cc4efae31193e0d47718" prefix=" " category="inline-code"></block></block>
  <block id="412427d9207c4cc4b01539aff3c50e7c" category="cell"><block ref="b0fdc9c7b96e4249152c61b506703142" prefix="" category="inline-code"></block></block>
  <block id="55eaeeb515ba1b8a42eb736b0e58f41f" category="cell">卷的 VNet 功能集，可能是<block ref="972e73b7a882d0802a4e3a16946a2f94" prefix=" " category="inline-code"></block>或者<block ref="eb6d8ae6f20283755b339c0dc273988b" prefix=" " category="inline-code"></block>。網路功能並非在所有地區都可用，可能需要透過訂閱才能啟用。指定<block ref="b0fdc9c7b96e4249152c61b506703142" prefix=" " category="inline-code"></block>未啟用該功能會導致磁碟區配置失敗。</block>
  <block id="cc3d42de123c784e8d8e3c8404b943be" category="cell">對 NFS 掛載選項進行精細控制。對於 SMB 卷，此設定將被忽略。若要使用 NFS 版本 4.1 掛載卷，請包含以下內容<block ref="c72da907ddca73ee114d92e5e098ce0e" prefix=" " category="inline-code"></block>在以逗號分隔的掛載選項清單中選擇 NFS v4.1。儲存類別定義中設定的掛載選項會覆蓋後端配置中設定的掛載選項。</block>
  <block id="2d1474e8b52ef42851337fb3fef4e1a1" category="cell">"nfsvers=3"</block>
  <block id="2288620b3dc019c6359bcc7f50b72ab3" category="cell">如果請求的磁碟區大小大於此值，則配置失敗。</block>
  <block id="567c7f0eca746ed7513764be5ecf6d03" category="cell">（預設不強制執行）</block>
  <block id="f2f2c7c3c767da610bd95934104674f6" category="cell"><block ref="effa2d809c72dcb6cce15a1e0b040e63" prefix="" category="inline-code"></block></block>
  <block id="91b3c29beb3641dce2fcf3d2382fac4f" category="cell">故障排除時要使用的調試標誌。例子，<block ref="533cf7c7aac0ee35b2153c8cf933013b" prefix=" " category="inline-code"></block> 。除非您正在進行故障排除並需要詳細的日誌轉儲，否則請勿使用此功能。</block>
  <block id="37a6259cc0c1dae299a7866489dff0bd" category="cell">無效的</block>
  <block id="f0873081464f48da27a1068215270c60" category="cell"><block ref="296026821ada2ab8aebcf13547a63df5" prefix="" category="inline-code"></block></block>
  <block id="c0a4a0396978d1ad8816d2e358a2f05e" category="cell">配置 NFS 或 SMB 磁碟區的建立。選項有<block ref="2521ef5d58fc027d3121662b7d8f9ac2" prefix=" " category="inline-code"></block>，<block ref="79e0f325804dafbdaef73b3b17c0fd8d" prefix=" " category="inline-code"></block>或空值。設定為 null 則預設使用 NFS 磁碟區。</block>
  <block id="71e598dd105d32592243532b55392c55" category="cell"><block ref="2521ef5d58fc027d3121662b7d8f9ac2" prefix="" category="inline-code"></block></block>
  <block id="4487bf4a5d2565e471a4ac1e0bba9af6" category="cell"><block ref="1f2a94e142bf020b1f7c6297ec12413f" prefix="" category="inline-code"></block></block>
  <block id="3d4635d3cf4f27b0e87f3fe86a84744d" category="inline-link-macro">使用 CSI 拓撲</block>
  <block id="d9ecfcade7b244fc0100c0ff4359f5ea" category="cell">表示從後端支援的區域和區域列表。更多信息，請參閱<block ref="a735758eec435cad1c5672b75bd657c0" category="inline-link-macro-rx"></block>。</block>
  <block id="b4d452ddff320a381a09f71d2351e4c6" category="cell"><block ref="d6f0e0bdb2f24a4f559dd8f512235cb3" prefix="" category="inline-code"></block></block>
  <block id="669b3bc77d6c32aa7e2c1bfe7cc9b452" category="cell">表示 QoS 類型：自動或手動。* Trident 25.06 技術預覽版*</block>
  <block id="06b9281e396db002010bde1de57262eb" category="cell">汽車</block>
  <block id="ae4d8eab27ac4c80edb95b30fc583854" category="cell"><block ref="08566efed9fdb13392ea1b11d6b533a4" prefix="" category="inline-code"></block></block>
  <block id="4fe2efdffc54aa536c8714ad9bab97a2" category="cell">設定允許的最大吞吐量，單位為 MiB/秒。僅支援手動 QoS 容量池。* Trident 25.06 技術預覽版*</block>
  <block id="3eef9a5398f4b353f217625ca5768cc0" category="cell"><block ref="60f649f49ce41c3f0123ddceb5c9f688" prefix="" category="inline-code"></block></block>
  <block id="8cacf42dcc11f9e7779267100d4fd305" category="inline-link-macro">為Azure NetApp Files磁碟區設定網路功能</block>
  <block id="4ace77649689419cf09eed38ddf4e74c" category="admonition">有關網絡功能的更多信息，請參閱<block ref="d4c16e3034c39d54544a2d5f2b2953d9" category="inline-link-macro-rx"></block>。</block>
  <block id="d37198994935307f0e4a95505678642e" category="section-title">所需權限和資源</block>
  <block id="de4b458ce26c7e2479c45bb915c621b5" category="paragraph">如果在建立 PVC 時收到「未找到容量池」錯誤，則可能是您的應用程式註冊沒有關聯的必要權限和資源（子網路、虛擬網路、容量池）。如果啟用偵錯功能， Trident將記錄在建立後端時發現的 Azure 資源。請確認是否使用了適當的角色。</block>
  <block id="1860dce26ad531b08f4b17950bbda6a7" category="paragraph">值<block ref="6a3560738716ddd805d769d4460ca7aa" prefix=" " category="inline-code"></block>，<block ref="87d26f327b9deeb6141721bda7f8ca65" prefix=" " category="inline-code"></block> ，<block ref="338b00a62e6d8d3234c056bf48b711d0" prefix=" " category="inline-code"></block> ，<block ref="a88edbe6cce8d8f180d87bef83408312" prefix=" " category="inline-code"></block> ， 和<block ref="4f556606ab1f7cb51dd23811407facbd" prefix=" " category="inline-code"></block>可以使用簡稱或完全限定名稱來指定。大多數情況下建議使用完全限定名稱，因為短名稱可能會符合多個同名資源。</block>
  <block id="8771cfaef1f991e1642d0a1ece8dcfa3" category="paragraph">這<block ref="6a3560738716ddd805d769d4460ca7aa" prefix=" " category="inline-code"></block>，<block ref="87d26f327b9deeb6141721bda7f8ca65" prefix=" " category="inline-code"></block> ， 和<block ref="338b00a62e6d8d3234c056bf48b711d0" prefix=" " category="inline-code"></block>值是過濾器，用於將發現的資源集限制為該儲存後端可用的資源，並且可以以任意組合指定。完全限定名稱遵循以下格式：</block>
  <block id="520d0db389f362bf79ef56ca0af3dcab" category="cell">格式</block>
  <block id="dde92bca1b59f0db813ef42a2688752e" category="cell">資源組</block>
  <block id="671e72ca3ef632233f4c27dfef1ec109" category="cell">&lt;資源組&gt;</block>
  <block id="ac252743de820aac9183d9f76d4bed67" category="cell">NetApp帳戶</block>
  <block id="2bf2783c6d0d867a9fe629138b38bd84" category="cell">&lt;資源組&gt;/&lt;NetApp 帳號&gt;</block>
  <block id="9eea1c08013c37f1499f428378764a08" category="cell">容量池</block>
  <block id="01c656d6b97f45a90022ee307283ae01" category="cell">&lt;資源組&gt;/&lt;NetApp 帳號&gt;/&lt;容量池&gt;</block>
  <block id="bf76cafc47141522dca89c4d6e25b822" category="cell">虛擬網路</block>
  <block id="8c9309282517a29ad09b10443d825c7c" category="cell">&lt;資源組&gt;/&lt;虛擬網路&gt;</block>
  <block id="9770c6469e9d27585d6c0c389ede7bc3" category="cell">子網</block>
  <block id="7addf9faaab78a084548d05b695cd2e2" category="cell">&lt;資源群組&gt;/&lt;虛擬網路&gt;/&lt;子網路&gt;</block>
  <block id="be1b9ef68f31ecee991e2282c1f24f0f" category="section-title">卷配置</block>
  <block id="6154de53659ccfe0ba0733effdb2da13" category="paragraph">您可以透過在設定檔的特定部分中指定以下選項來控制預設磁碟區配置。參考 <block ref="c850cc933797a5d4472ae11f15a5ef5e" category="inline-xref-macro-rx"></block> 了解詳情。</block>
  <block id="9c64942fe493cb70c474ff447429d8a4" category="cell"><block ref="c72971f17465d2a32345bc872af62a34" prefix="" category="inline-code"></block></block>
  <block id="ea221277b2f168f5e17d112765f4a1c0" category="cell">新卷的出口規則。<block ref="c72971f17465d2a32345bc872af62a34" prefix=" " category="inline-code"></block>必須是以逗號分隔的 IPv4 位址或 IPv4 子網路的任意組合列表，採用 CIDR 表示法。對於 SMB 卷，此設定將被忽略。</block>
  <block id="1274e36c193ec0ce8b5c49d5e78ffd7b" category="cell">“0.0.0.0/0”</block>
  <block id="08ee53e1d5cefb7967a295e98036598e" category="cell">控制 .snapshot 目錄的可見性</block>
  <block id="e5ac299cc3b14e1fac29518569ca9bb1" category="cell">新磁碟區的預設大小</block>
  <block id="ef81b740be2293b7e3c41047afe98764" category="cell">100G</block>
  <block id="21590b83460bd480131384ef53bdccc4" category="cell">新磁碟區的 Unix 權限（4 位八進位數字）。對於 SMB 卷，此設定將被忽略。</block>
  <block id="976a6dc52dbcabb541efa0a91e922604" category="cell">（預覽功能，需訂閱並加入白名單）</block>
  <block id="10c0eb6973453da95b4ef937f19ddb6c" category="section-title">範例配置</block>
  <block id="bca36ce39f61ce2d375cbdb66eab5162" category="paragraph">以下範例展示了基本配置，其中大多數參數都保留預設值。這是定義後端最簡單的方法。</block>
  <block id="91644df8bfaf55210374666164ee92c9" category="example-title">最小配置</block>
  <block id="e9acc9c9f9c15bdc3abfff747835f188" category="paragraph">這是最基本的後端配置。透過此配置， Trident會發現配置位置中所有委派給Azure NetApp Files儲存的NetApp帳戶、容量池和子網，並將新磁碟區隨機放置在其中一個池和子網路上。因為<block ref="296026821ada2ab8aebcf13547a63df5" prefix=" " category="inline-code"></block>省略了<block ref="2521ef5d58fc027d3121662b7d8f9ac2" prefix=" " category="inline-code"></block>預設設定生效，後端將為 NFS 磁碟區進行設定。</block>
  <block id="639aa44ce5a6709a5719b427993c9657" category="paragraph">如果您剛開始使用Azure NetApp Files並進行嘗試，此配置是理想的選擇，但在實踐中，您需要為預配的磁碟區提供額外的範圍。</block>
  <block id="eea342529fcf22d8fbdaf58545a9c617" category="example-title">為 AKS 管理身份</block>
  <block id="943aa8ce869cfeaf7f72cc41df7f891c" category="paragraph">此後端配置省略了<block ref="8c443e170595ba0feac007ffb92cb49a" prefix=" " category="inline-code"></block>，<block ref="bc54592d6183695b841c6d1880ec0bf8" prefix=" " category="inline-code"></block> ，<block ref="93c5bebdea9c94a0740fe6fd9bb250f0" prefix=" " category="inline-code"></block> ， 和<block ref="2b53761249254ce6b502f521e5cc0683" prefix=" " category="inline-code"></block>在使用託管身分時，這些是可選的。</block>
  <block id="cdc0ef7f865a8837e4fd99ce3898f1d8" category="example-title">AKS 的雲端身份</block>
  <block id="1b6104dea07d224d6a76ba8bd88c586a" category="paragraph">此後端配置省略了<block ref="bc54592d6183695b841c6d1880ec0bf8" prefix=" " category="inline-code"></block>，<block ref="93c5bebdea9c94a0740fe6fd9bb250f0" prefix=" " category="inline-code"></block> ， 和<block ref="2b53761249254ce6b502f521e5cc0683" prefix=" " category="inline-code"></block>在使用雲端身分時，這些是可選的。</block>
  <block id="f961873909dcbbea92f3791e505cd3cf" category="example-title">具有容量池過濾器的特定服務等級配置</block>
  <block id="c23ef0ddbc293eb69087843f50a25be6" category="paragraph">此後端配置將磁碟區放置在 Azure 中<block ref="6356111305f5daab178fa6051b7a8ae7" prefix=" " category="inline-code"></block>位置<block ref="7057376a419b3334cc7b8b7a9f064abb" prefix=" " category="inline-code"></block>容量池。  Trident會自動發現該位置中委派給Azure NetApp Files的所有子網，並隨機在其中一個子網路上放置一個新磁碟區。</block>
  <block id="b70d8bcceb91e3665bafe307a5b97682" category="example-title">具有手動 QoS 容量池的後端範例</block>
  <block id="3ffc8f9f72c24f82c0703e3b5a78db96" category="paragraph">此後端配置將磁碟區放置在 Azure 中<block ref="6356111305f5daab178fa6051b7a8ae7" prefix=" " category="inline-code"></block>具有手動 QoS 容量池的位置。* NetApp Trident 25.06 中的技術預覽*。</block>
  <block id="119dd5a342e981b13bf0024d5c6a6933" category="example-title">進階配置</block>
  <block id="a83f4a534ccef7ac1d209fb0015cd907" category="paragraph">此後端配置進一步縮小了磁碟區放置範圍到單一子網，並且還修改了一些磁碟區配置預設值。</block>
  <block id="d61a62faa23948cd42b53cf6de97e445" category="example-title">虛擬池配置</block>
  <block id="baca3a42ff523348689308c7bd411b38" category="paragraph">此後端配置在單一檔案中定義了多個儲存池。當您有多個容量池支援不同的服務級別，並且想要在 Kubernetes 中建立代表這些級別的儲存類別時，這將非常有用。虛擬池標籤用於根據以下因素區分池子：<block ref="c05f6c233521207f6fe311afef550c3c" prefix=" " category="inline-code"></block> 。</block>
  <block id="65a6416f3ed9552fcc006c830dbeac72" category="example-title">支援的拓撲配置</block>
  <block id="fefaa3b6dca112cc6521c571cfc3803d" category="paragraph">Trident可根據區域和可用區為工作負載提供磁碟區。這<block ref="1f2a94e142bf020b1f7c6297ec12413f" prefix=" " category="inline-code"></block>此後端配置中的區塊用於提供每個後端的區域和區域清單。此處指定的區域和區域值必須與每個 Kubernetes 叢集節點上的標籤中的區域和區域值相符。這些區域和分區代表儲存類別中可以提供的允許值的清單。對於包含後端提供的區域和可用區子集的儲存類， Trident會在所述區域和可用區中建立磁碟區。更多信息，請參閱<block ref="a735758eec435cad1c5672b75bd657c0" category="inline-link-macro-rx"></block>。</block>
  <block id="857fa84eb2e850753da87c8599addab3" category="section-title">儲存類別定義</block>
  <block id="cad675ae3fb846705512fe460e615ac3" category="paragraph">下列<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block>上述定義指的是儲存池。</block>
  <block id="260817022a7340fc89eae3e7dbed8f6a" category="section-title">使用範例定義<block ref="4d859186a09b1da3597e5901157d9400" prefix=" " category="inline-code"></block>場地</block>
  <block id="1abbfd87ab307af55b755fd27ce60191" category="paragraph">使用<block ref="4d859186a09b1da3597e5901157d9400" prefix=" " category="inline-code"></block>你可以為每個物件指定。<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block>用於託管磁碟區的虛擬池。該磁碟區將具有所選池中定義的方面。</block>
  <block id="4b7db799aa8307d15835ff36beb1b97c" category="section-title">SMB 磁碟區的範例定義</block>
  <block id="82b60bb483328d8efe9240dc8aa4a600" category="paragraph">使用<block ref="296026821ada2ab8aebcf13547a63df5" prefix=" " category="inline-code"></block>，<block ref="e12fdd044232e643620eed06bf33c7af" prefix=" " category="inline-code"></block> ， 和<block ref="1ad68a6a046942b7c1666aed825df70a" prefix=" " category="inline-code"></block>您可以指定 SMB 磁碟區並提供所需的 Active Directory 憑證。</block>
  <block id="67c909cf936115be1012171c5c38b8cf" category="example-title">預設命名空間上的基本配置</block>
  <block id="17903b7c199529a65f8f0b36aa084d2e" category="example-title">每個命名空間使用不同的密鑰</block>
  <block id="6cb4c0cee2d8e6992a3a10d346015761" category="example-title">每個磁碟區使用不同的密鑰</block>
  <block id="5c766f1444b8b25e9f55f0dc6400b77e" category="admonition"><block ref="1023eff0970e3a4277fcde214fad86ef" prefix="" category="inline-code"></block>篩選支援 SMB 磁碟區的儲存池。<block ref="d71f62a5b903ebd8681263d310db1d6d" prefix=" " category="inline-code"></block>或者<block ref="9c8ff3d34f58e4965d72fb9c8a993707" prefix=" " category="inline-code"></block>NFS池過濾器。</block>
  <block id="c51cc3b801a879870aea846bdde1c7a3" category="section-title">創建後端</block>
  <block id="3ad256eea0abb551eaab63c84aa3d1f9" category="paragraph">建立後端設定檔後，執行以下命令：</block>
  <block id="d2aae26c4b1e25027872b1df4cee2081" category="summary">在設定Azure NetApp Files後端之前，需要確保滿足以下要求。</block>
  <block id="aec47cf6a0cb83824b504b756eb4b71c" category="doc">準備設定Azure NetApp Files後端</block>
  <block id="84444089b52eed627a838de74ae8d652" category="section-title">NFS 和 SMB 磁碟區的先決條件</block>
  <block id="97d64245613ba751b698ce77fd51779a" category="inline-link">Azure：設定Azure NetApp Files並建立 NFS 卷</block>
  <block id="d90582d42d65d5af05c3d40ad0eb4987" category="paragraph">如果您是第一次使用Azure NetApp Files或在新的位置使用，則需要進行一些初始設定來設定 Azure NetApp檔案並建立 NFS 磁碟區。參考<block ref="b6e93c3bfc36cf835c63e42e55586d97" category="inline-link-rx"></block>。</block>
  <block id="07e7004c50a67a3e4e366b4ca1c28e3d" category="paragraph">配置和使用<block ref="24a785881ff1cdf191a2239811dc9597" category="inline-link-rx"></block>後端需要以下組件：</block>
  <block id="4e92a2addd95bd2076226bce70449f6d" category="list-text"><block ref="8c443e170595ba0feac007ffb92cb49a" prefix="" category="inline-code"></block>，<block ref="bc54592d6183695b841c6d1880ec0bf8" prefix=" " category="inline-code"></block> ，<block ref="93c5bebdea9c94a0740fe6fd9bb250f0" prefix=" " category="inline-code"></block> ，<block ref="d5189de027922f81005951e6efe0efd5" prefix=" " category="inline-code"></block> ， 和<block ref="2b53761249254ce6b502f521e5cc0683" prefix=" " category="inline-code"></block>在 AKS 叢集上使用託管身分時，這些是可選的。</block>
  <block id="5c0a5e9c97099065874a650cf8c67a66" category="list-text"><block ref="bc54592d6183695b841c6d1880ec0bf8" prefix="" category="inline-code"></block>，<block ref="93c5bebdea9c94a0740fe6fd9bb250f0" prefix=" " category="inline-code"></block> ， 和<block ref="2b53761249254ce6b502f521e5cc0683" prefix=" " category="inline-code"></block>在 AKS 叢集上使用雲端身分時，這些是可選的。</block>
  <block id="99c7065ab76131a7b7763287bb5b6735" category="inline-link-macro">微軟：為Azure NetApp Files建立容量池</block>
  <block id="ee59ecaa79882c8dc8f7f897c113094a" category="list-text">容量池。參考<block ref="96caced282b604468ab13f86483cd9f6" category="inline-link-macro-rx"></block>。</block>
  <block id="7ed0731ff411d37210b51a78b95c1fc3" category="inline-link-macro">Microsoft：將子網路委派給Azure NetApp Files</block>
  <block id="c896cfae248dc2b000cc04c39d8a8de6" category="list-text">委派給Azure NetApp Files 的子網路。參考<block ref="795b5e8f62d2267a0996a3b260968048" category="inline-link-macro-rx"></block>。</block>
  <block id="66d640a9a050b05e6a914cbcd88a1e2e" category="list-text"><block ref="8c443e170595ba0feac007ffb92cb49a" prefix="" category="inline-code"></block>來自已啟用Azure NetApp Files功能的 Azure 訂閱。</block>
  <block id="b12fb354025b3dfa01277964eb72c060" category="inline-link-macro">應用程式註冊</block>
  <block id="caa7dc98c21b44b17c214508b9b0fa3c" category="list-text"><block ref="bc54592d6183695b841c6d1880ec0bf8" prefix="" category="inline-code"></block>，<block ref="93c5bebdea9c94a0740fe6fd9bb250f0" prefix=" " category="inline-code"></block> ， 和<block ref="2b53761249254ce6b502f521e5cc0683" prefix=" " category="inline-code"></block>來自<block ref="63405c89f422580946169fa59c41e7ae" category="inline-link-macro-rx"></block>在 Azure Active Directory 中擁有對Azure NetApp Files服務的足夠權限。應用程式註冊應使用以下任一方式：</block>
  <block id="ee495045d2c4c5131217a0248a404b4d" category="inline-link-macro">Azure 預定義</block>
  <block id="856955b6cbc3fe2168b2dcd43fb0a5dd" category="list-text">所有者或貢獻者角色<block ref="76b3209c91e1786a477c35a6e91cf55f" category="inline-link-macro-rx"></block>。</block>
  <block id="2fbc632d5939633cc9c3b254d116080f" category="inline-link-macro">自訂貢獻者角色</block>
  <block id="b0ee19cc46a4fb3df97c1c676c0a5d57" category="inline-link-macro">使用 Azure 入口網站指派角色</block>
  <block id="cc13c2d3734cd4826a8ef70e17841621" category="list-text">一個<block ref="8ad3956583058d3582a7dd1281d1f882" category="inline-link-macro-rx"></block>訂閱等級<block ref="e023f2926fb9af676f2809a760efeb14" prefix="(" category="inline-code"></block>）但權限僅限於Trident所需的權限。建立自訂角色後，<block ref="af58105ed429db29198b767444ed6d0d" category="inline-link-macro-rx"></block> 。</block>
  <block id="28389c00d52ebc3b9610c591613894a1" category="example-title">自訂貢獻者角色</block>
  <block id="f494e4df0fff53e809d6563f8ec1782f" category="inline-link">委託子網</block>
  <block id="9837781971083d3fe119b0217014d301" category="list-text">蔚藍<block ref="d5189de027922f81005951e6efe0efd5" prefix=" " category="inline-code"></block>包含至少一個<block ref="c5f14b2142014dc234282a513132bad4" category="inline-link-rx"></block>。截至Trident 22.01版本，<block ref="d5189de027922f81005951e6efe0efd5" prefix=" " category="inline-code"></block>參數是後端設定檔頂層的一個必填欄位。虛擬池中指定的位置值將被忽略。</block>
  <block id="30cce5213fe0e4b50d664920d7075cdf" category="inline-link">使用者指派的託管身份</block>
  <block id="345615c7e1785c38b1b2d2aadeef42bb" category="list-text">使用<block ref="12e3f82975710931e07ec1b3138bd8bf" prefix=" " category="inline-code"></block>得到<block ref="032e8204d9a4acfa22151783caa18894" prefix=" " category="inline-code"></block>從一個<block ref="f857b557e72afd63cd1e3ca2faab2a5b" category="inline-link-rx"></block>並指定該 ID<block ref="ab6b275be02c02a9982cb7a0c234629e" prefix=" " category="inline-code"></block> 。</block>
  <block id="77a4a369d552f7d3be163bda86f9113f" category="section-title">中小企業卷的附加要求</block>
  <block id="227e516e7258b6dcab3e7bcb4148f7f1" category="paragraph">若要建立 SMB 卷，您必須具備以下條件：</block>
  <block id="d8c74c31c4550aed073521ba0fb8984a" category="inline-link-macro">Microsoft：建立和管理Azure NetApp Files管理器的 Active Directory 連接</block>
  <block id="6bb7e9dc5268dcbdde1a91b151d9a94b" category="list-text">Active Directory 已設定並連線至Azure NetApp Files。參考<block ref="2f3bcda54aaf4e8e45316bb04708293f" category="inline-link-macro-rx"></block>。</block>
  <block id="8ce7a57e3680dab09c67446ce08707de" category="list-text">一個 Kubernetes 叢集，包含一個 Linux 控制器節點和至少一個執行 Windows Server 2022 的 Windows 工作節點。  Trident僅支援掛載到執行在 Windows 節點上的 pod 的 SMB 磁碟區。</block>
  <block id="d118256fd34a78d74f0336eb83898964" category="list-text">至少需要一個包含 Active Directory 憑證的Trident金鑰，以便Azure NetApp Files可以向 Active Directory 進行驗證。生成秘密<block ref="e47a193687dde960f6b6f80d394142a3" prefix=" " category="inline-code"></block>：</block>
  <block id="7595de66780a622cdd37b4823afebc07" category="inline-link-macro">GitHub：CSI代理</block>
  <block id="c680a0c023a6d45186b9752a07e9938c" category="inline-link-macro">GitHub：適用於 Windows 的 CSI 代理</block>
  <block id="2d6b406e65ac91f2af09f4228e3efe4f" category="list-text">配置為 Windows 服務的 CSI 代理程式。要配置<block ref="0f8126c17871ed45f2a848f15d96a1bb" prefix=" " category="inline-code"></block>，請參閱<block ref="3ca23c6eadaac7aa23a492aef5e5d012" category="inline-link-macro-rx"></block>或者<block ref="0b56a9ad79a8fef177779e7d3d856994" category="inline-link-macro-rx"></block>適用於在 Windows 上執行的 Kubernetes 節點。</block>
  <block id="4d869f60891f92b0887fa0954bb83cf6" category="summary">您可以將Azure NetApp Files設定為Trident的後端。您可以使用Azure NetApp Files後端附加 NFS 和 SMB 磁碟區。  Trident也支援使用託管識別碼對 Azure Kubernetes 服務 (AKS) 叢集進行憑證管理。</block>
  <block id="28b0abcecaf7a63edb46e4e137337018" category="doc">設定Azure NetApp Files後端</block>
  <block id="2f73efb41160e66d2e4f5b500c984de8" category="section-title">Azure NetApp Files驅動程式詳細信息</block>
  <block id="d0c2adbcdd991dec2899d7223e4800b7" category="paragraph">Trident提供以下Azure NetApp Files儲存驅動程序，以便與叢集通訊。支援的存取模式有：_ReadWriteOnce_ (RWO)、_ReadOnlyMany_ (ROX)、_ReadWriteMany_ (RWX)、_ReadWriteOncePod_ (RWOP)。</block>
  <block id="48cf24486d9a8e65a142b25682f19949" category="cell">司機</block>
  <block id="888a77f5ac0748b6c8001822417df8b6" category="cell">協定</block>
  <block id="4f0e7dc30ffb3e25e75331c9afb2243a" category="cell">音量模式</block>
  <block id="d5e2d9f8d8f10044e38b71b49e675d2e" category="cell">支援的存取模式</block>
  <block id="15971126972a002fcddb2c507534e371" category="cell">支援的檔案系統</block>
  <block id="3262251091b863054cfabf046c0e3493" category="paragraph">NFS SMB</block>
  <block id="ac52cf637478f3656a1fdee5c02324fd" category="paragraph">檔案系統</block>
  <block id="ad90b7d29d0d8a9c746868fe1f38ca90" category="paragraph">RWO、ROX、RWX、RWOP</block>
  <block id="7e7d2470a40e817070cd42bd81713c7b" category="paragraph"><block ref="2521ef5d58fc027d3121662b7d8f9ac2" prefix="" category="inline-code"></block>，<block ref="79e0f325804dafbdaef73b3b17c0fd8d" prefix=" " category="inline-code"></block></block>
  <block id="ea61e2c2ff507048203824add1eb7c21" category="section-title">注意事項</block>
  <block id="6bc1d5588b10361a0f432d43d687c72b" category="list-text">Azure NetApp Files服務不支援小於 50 GiB 的磁碟區。如果要求的磁碟區較小， Trident會自動建立 50GiB 的磁碟區。</block>
  <block id="2d5ff5cb87519a4e50ace141656cfcb1" category="list-text">Trident僅支援掛載到執行在 Windows 節點上的 pod 的 SMB 磁碟區。</block>
  <block id="a57ed56fc7ee91a9263e1c2ae851ac11" category="inline-link-macro">託管身分</block>
  <block id="f82e660891c5d7411358cecf3f95d1b8" category="paragraph">Trident支持<block ref="74c572b9a9e05a7969e3f88bd692fcb8" category="inline-link-macro-rx"></block>適用於 Azure Kubernetes 服務叢集。若要利用託管身分提供的簡化憑證管理功能，您必須具備以下條件：</block>
  <block id="9586e9fc5ee74b6ceeab5ab5484c95b6" category="list-text">使用 AKS 部署的 Kubernetes 集群</block>
  <block id="4dca0f5a5f78322a0f3bfa9c6b8f54ad" category="list-text">在 AKS Kubernetes 叢集上配置的託管身份</block>
  <block id="ba4a4a15a9255fcbc02a1aae5442a70e" category="list-text">已安裝的Trident包括<block ref="d19f2c0377f3ed7cab9377cf066cb7ef" prefix=" " category="inline-code"></block>指定<block ref="71d36c46e340ad9137b2691e267f5ecd" prefix=" " category="inline-code"></block>。</block>
  <block id="4f5dbc74e3448e08fe0e7bfd62876fc8" category="open-title">Trident操作員</block>
  <block id="948b24b4e198f8ddc985605c69c55718" category="paragraph">若要使用Trident操作員安裝Trident ，請編輯<block ref="244895464fd1d6c7ff5a2044c324c0fc" prefix=" " category="inline-code"></block>設定<block ref="d19f2c0377f3ed7cab9377cf066cb7ef" prefix=" " category="inline-code"></block>到<block ref="71d36c46e340ad9137b2691e267f5ecd" prefix=" " category="inline-code"></block>。例如：</block>
  <block id="152090ff5e9a05ea7e1cf0c248449638" category="open-title">舵</block>
  <block id="6e3a55be7185a416b963c89e1313a21e" category="paragraph">以下範例安裝Trident套裝<block ref="d19f2c0377f3ed7cab9377cf066cb7ef" prefix=" " category="inline-code"></block>使用環境變數連接到 Azure<block ref="e7b51407a2bfaa34b58afce0107e9a5f" prefix=" " category="inline-code"></block> ：</block>
  <block id="fed6290ac938ca603cf5f4f680802954" category="open-title">&lt;code&gt;tridentctl&lt;/code&gt;</block>
  <block id="5914afb9381493b19e7d55f591b22f7e" category="paragraph">以下範例安裝Trident並進行設置<block ref="d19f2c0377f3ed7cab9377cf066cb7ef" prefix=" " category="inline-code"></block>標記<block ref="3a580f142203677f1f0bc30898f63f53" prefix=" " category="inline-code"></block>：</block>
  <block id="f77d4be42f8ef9e2474d677786cf6d7a" category="paragraph">雲端身分使 Kubernetes pod 能夠透過作為工作負載身分進行驗證來存取 Azure 資源，而無需提供明確的 Azure 憑證。</block>
  <block id="088be2b53cfa8710d751578d273c4af0" category="paragraph">若要在 Azure 中利用雲端身分功能，您必須具備以下條件：</block>
  <block id="c5ac38b2b362dbfd1b55bdb2b7e9375b" category="list-text">在 AKS Kubernetes 叢集上設定工作負載身分和 oidc-issuer</block>
  <block id="f4a04ca0cf488acdb4c47e4276e53b0d" category="list-text">已安裝的Trident包括<block ref="d19f2c0377f3ed7cab9377cf066cb7ef" prefix=" " category="inline-code"></block>指定<block ref="71d36c46e340ad9137b2691e267f5ecd" prefix=" " category="inline-code"></block>和<block ref="89abe9fddbe3cf0f9bcd7779fe4aed69" prefix=" " category="inline-code"></block>指定工作負載標識</block>
  <block id="cd1b43a026c160e8905dc5847d424f8f" category="paragraph">若要使用Trident操作員安裝Trident ，請編輯<block ref="244895464fd1d6c7ff5a2044c324c0fc" prefix=" " category="inline-code"></block>設定<block ref="d19f2c0377f3ed7cab9377cf066cb7ef" prefix=" " category="inline-code"></block>到<block ref="71d36c46e340ad9137b2691e267f5ecd" prefix=" " category="inline-code"></block>並設定<block ref="89abe9fddbe3cf0f9bcd7779fe4aed69" prefix=" " category="inline-code"></block>到<block ref="ab6b275be02c02a9982cb7a0c234629e" prefix=" " category="inline-code"></block>。</block>
  <block id="919b714a25b423ceadcf231ff05b607b" category="paragraph">使用下列環境變數設定 *cloud-provider (CP)* 和 *cloud-identity (CI)* 標誌的值：</block>
  <block id="0d28255dc96cb23d422741096c09ce8e" category="paragraph"><block ref="256d12880dee7515c7ed6253fd0a228a" prefix="" category="inline-code"></block><block ref="bd5ed83ae12ddcfe924a6af54a0be554" prefix=" " category="inline-code"></block></block>
  <block id="0df381404177fadd38b0a15ef178cf09" category="paragraph">以下範例安裝Trident並進行設置<block ref="d19f2c0377f3ed7cab9377cf066cb7ef" prefix=" " category="inline-code"></block>使用環境變數連接到 Azure<block ref="e7b51407a2bfaa34b58afce0107e9a5f" prefix=" " category="inline-code"></block>並設定<block ref="89abe9fddbe3cf0f9bcd7779fe4aed69" prefix=" " category="inline-code"></block>使用環境變數<block ref="c9d280b28993d1d105c3fbafb5868a15" prefix=" " category="inline-code"></block>：</block>
  <block id="400e51795e42b1bfc94a14aeeeacc04a" category="paragraph">請使用以下環境變數設定 *雲端提供者* 和 *雲端身分* 標誌的值：</block>
  <block id="91a7e225ea23690e36a162b9c8a45058" category="paragraph"><block ref="256d12880dee7515c7ed6253fd0a228a" prefix="" category="inline-code"></block><block ref="a5f4eea4d47cf2db58f43a66329ecf1e" prefix=" " category="inline-code"></block></block>
  <block id="7d7c872ffb338fffab0ed66d892cf48b" category="paragraph">以下範例安裝Trident並進行設置<block ref="e33bb4eb32023da4a8ea7a1ba6927067" prefix=" " category="inline-code"></block>標記<block ref="e7b51407a2bfaa34b58afce0107e9a5f" prefix=" " category="inline-code"></block>， 和<block ref="c5af480af77c330e04a1fce1f6c2b03a" prefix=" " category="inline-code"></block>到<block ref="c9d280b28993d1d105c3fbafb5868a15" prefix=" " category="inline-code"></block>：</block>
  <block id="6531f27ba87f15c54cdf44dcb7ef3273" category="summary">後端定義了Trident與儲存系統之間的關係。它告訴Trident如何與該儲存系統通信，以及Trident應該如何從中設定磁碟區。 Trident安裝完成後，下一步是建立後端。這<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>自訂資源定義 (CRD) 可讓您透過 Kubernetes 介面直接建立和管理Trident後端。您可以使用<block ref="0f12ee5c9f1dd90158580f1c292b0d37" prefix=" " category="inline-code"></block>或適用於您的 Kubernetes 發行版的等效 CLI 工具。</block>
  <block id="a8e174c63ac21920b8405ffddc39214a" category="doc">使用 kubectl 建立後端</block>
  <block id="454631312fab234fc91bb2f85a751fac" category="section-title"><block ref="913a4b06671d1e04e6582a85afe3abbe" prefix="" category="inline-code"></block></block>
  <block id="672d26386c125fcd3bc8d1c008758043" category="paragraph"><block ref="913a4b06671d1e04e6582a85afe3abbe" prefix="" category="inline-code"></block> <block ref="11c73f5ef965e27ad7f2162c6d862d00" prefix="(" category="inline-code"></block>，<block ref="f049287d4b5e8c2771cd45ad40d6bbd0" prefix=" " category="inline-code"></block> ，<block ref="e4f7bfc35d74ab4136d16191494e7ceb" prefix=" " category="inline-code"></block> ) 是一個前端、命名空間 CRD，讓您能夠使用 來管理Trident後端<block ref="0f12ee5c9f1dd90158580f1c292b0d37" prefix=" " category="inline-code"></block>。現在，Kubernetes 和儲存管理員可以直接透過 Kubernetes CLI 建立和管理後端，而無需使用專門的命令列實用程式。<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix="(" category="inline-code"></block> ）。</block>
  <block id="b44c2fd5cefc815abed7e31c0fa8c8ac" category="paragraph">在創建之後<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>對於該對象，會發生以下情況：</block>
  <block id="b7bd3d795dd544bcf8b44a16fc1ddab8" category="list-text">Trident會根據您提供的設定自動建立後端。這在內部表示為<block ref="d2eac341e6076c7146e5b2598b973d94" prefix=" " category="inline-code"></block> <block ref="ebf1bd0254e733981928851df08fca08" prefix="(" category="inline-code"></block>，<block ref="18d388723371b89385366f93f0fbbbc6" prefix=" " category="inline-code"></block> ）CR。</block>
  <block id="96cf9ab1c0acdca2aa54ed2c55a7e95d" category="list-text">這<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>與…有著獨特的聯繫<block ref="d2eac341e6076c7146e5b2598b973d94" prefix=" " category="inline-code"></block>這是由Trident生產的。</block>
  <block id="1efc3a14ca6dc7c90db79e02f3abe7d5" category="paragraph">每個<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>與…保持一對一映射關係<block ref="d2eac341e6076c7146e5b2598b973d94" prefix=" " category="inline-code"></block>前者是提供給使用者設計和配置後端的介面；後者是Trident表示實際後端物件的方式。</block>
  <block id="17858cf125217a7fe7239b3271b587af" category="admonition"><block ref="d2eac341e6076c7146e5b2598b973d94" prefix="" category="inline-code"></block>CR 由Trident自動建立。你*不應該*修改它們。如果您想對後端進行更新，請透過修改以下檔案來實現：<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>目的。</block>
  <block id="9c3385530cf6e460576e5f6e7cc1b912" category="paragraph">以下範例展示了格式：<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> CR：</block>
  <block id="c84ef67352bb6783ff2881f9f2821c2a" category="inline-link">trident-installer</block>
  <block id="f13a06ff6eab87969a9f96765f31ed9c" category="paragraph">您也可以查看以下範例：<block ref="6511e50af21389f9e77db56e03f6dd72" category="inline-link-rx"></block>包含所需儲存平台/服務的範例配置的目錄。</block>
  <block id="06df669f3ef6f929e9b58c9f47b65310" category="inline-link-macro">儲存驅動程式的後端配置訊息</block>
  <block id="75d6668e40a552149b5d5868b03080c8" category="paragraph">這<block ref="b979c2934ac0b4ba3f08dabfdd1b2299" prefix=" " category="inline-code"></block>接受後端特定的配置參數。在這個例子中，後端使用了<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block>儲存驅動程序，並使用此處表格中列出的配置參數。有關所需儲存驅動程式的配置選項列表，請參閱<block ref="5f2d139eefa7c36061f4d97161be02ea" category="inline-link-macro-rx"></block>。</block>
  <block id="92051c832f01d9070a7ed71d1ce523c5" category="paragraph">這<block ref="b979c2934ac0b4ba3f08dabfdd1b2299" prefix=" " category="inline-code"></block>本節還包括<block ref="d3ed68f7315b7e72b8d886b2278fcac3" prefix=" " category="inline-code"></block>和<block ref="98e7d6463271d7848db255ae6467817a" prefix=" " category="inline-code"></block>這些字段是新引入的<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>CR：</block>
  <block id="5ab961de690e071f0dc1c0dabac7fd89" category="list-text"><block ref="d3ed68f7315b7e72b8d886b2278fcac3" prefix="" category="inline-code"></block>此參數為必填字段，包含用於向儲存系統/服務進行身份驗證的憑證。這設定為用戶創建的 Kubernetes Secret。憑證不能以明文形式傳遞，否則將導致錯誤。</block>
  <block id="9f11e03722a7b912083c63fc68f4dd7b" category="list-text"><block ref="98e7d6463271d7848db255ae6467817a" prefix="" category="inline-code"></block>此欄位定義了當…時應該發生的情況<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>被刪除。它可以取以下兩個值之一：</block>
  <block id="d09d50d3f84f9c585492818f491a2497" category="list-text"><block ref="099af53f601532dbd31e0ea99ffdeb64" prefix="" category="inline-code"></block>這會導致兩者被刪除。<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> CR及其相關後端。這是預設值。</block>
  <block id="f0c89ce27bf4c43949ad8f26a4f586bb" category="list-text"><block ref="16d79ff80feadcf2f52096f073f2b94a" prefix="" category="inline-code"></block>當<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>CR 刪除後，後端定義仍然存在，並且可以透過以下方式進行管理：<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block> 。將刪除策略設為<block ref="16d79ff80feadcf2f52096f073f2b94a" prefix=" " category="inline-code"></block>允許使用者降級到早期版本（21.04 之前），並保留已建立的後端。該欄位的值可以在之後更新。<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>已創建。</block>
  <block id="7f2208582df334d090d35357eb5d6901" category="admonition">後端名稱是透過以下方式設定的：<block ref="de48524ae3369aa3a3a220c9107c1d2b" prefix=" " category="inline-code"></block> 。如果未指定，則後端名稱設定為…的名稱<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>對象（metadata.name）。建議使用顯式方式設定後端名稱。<block ref="de48524ae3369aa3a3a220c9107c1d2b" prefix=" " category="inline-code"></block> 。</block>
  <block id="d2605b6821beb27d0e7001414ade9773" category="admonition">用以下方式建立的後端<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>沒有關聯的<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>目的。您可以選擇使用以下方式管理此類後端<block ref="0f12ee5c9f1dd90158580f1c292b0d37" prefix=" " category="inline-code"></block>透過創建一個<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>CR。必須注意指定完全相同的配置參數（例如：<block ref="de48524ae3369aa3a3a220c9107c1d2b" prefix=" " category="inline-code"></block> ，<block ref="670f8a39d00195ce172543b2794c522b" prefix=" " category="inline-code"></block> ，<block ref="4f361a1568cc7e740f7642f6f59e2fe0" prefix=" " category="inline-code"></block> ， 等等）。  Trident將自動綁定新建立的<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>利用現有的後端。</block>
  <block id="625cc9b8ccc34496dc2b3fcffb7e384a" category="section-title">步驟概述</block>
  <block id="a867c4bbc8d632a517f22b7377b9b8ed" category="paragraph">使用以下方式建立新的後端<block ref="0f12ee5c9f1dd90158580f1c292b0d37" prefix=" " category="inline-code"></block>你應該這樣做：</block>
  <block id="4db4699aa0126dfb06878d7e07c0abdf" category="inline-link">Kubernetes Secret</block>
  <block id="b681f7c062097827d9374fb7ef922a12" category="list-text">創建一個<block ref="fcce7b7bd05b6b012eabe3df8de04808" category="inline-link-rx"></block>此金鑰包含Trident與儲存叢集/服務通訊所需的憑證。</block>
  <block id="c39d193a9cc4084cc6c7964e1bb5efd8" category="list-text">創建一個<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>目的。這包含有關儲存叢集/服務的具體信息，並引用上一步中建立的密鑰。</block>
  <block id="286b0035cf59742ffe54696b798f2368" category="paragraph">建立後端後，您可以使用以下方式觀察其狀態<block ref="20d1f22897b2280e34f2e6aa25c7bab0" prefix=" " category="inline-code"></block>並收集更多細節資訊。</block>
  <block id="494cb787cd1c1f78123323c1006f2081" category="section-title">步驟 1：建立 Kubernetes Secret</block>
  <block id="7ba8d326bd3ffe1308f04d8ab5bf3d1a" category="paragraph">建立一個包含後端存取憑證的金鑰。這是每個儲存服務/平台獨有的。以下是一個例子：</block>
  <block id="04402bf69acac56c72a55c0e4ac2165c" category="paragraph">下表總結了每個儲存平台金鑰中必須包含的欄位：</block>
  <block id="94cec86c6eef229009007e6d00d54ef1" category="cell">儲存平台密鑰字段描述</block>
  <block id="1e6947ac7fb3a9529a9726eb692c8cc5" category="cell">秘密</block>
  <block id="c11257eff6563de2c05e353770c514ca" category="cell">字段描述</block>
  <block id="93c5bebdea9c94a0740fe6fd9bb250f0" category="paragraph">客戶端ID</block>
  <block id="012e85295e2f1f744cfb8757f8dd4830" category="paragraph">應用程式註冊中的客戶端 ID</block>
  <block id="a3c559e0541e9bb860178ce6fe414224" category="cell">適用於 GCP 的 Cloud Volumes Service</block>
  <block id="ee64ef6c307cfcfe5c0f085471cd61fa" category="paragraph">私鑰 ID</block>
  <block id="1e31c22f827d25c5973eee697baace79" category="paragraph">私鑰的ID。具有 CVS 管理員角色的 GCP 服務帳戶的部分 API 金鑰</block>
  <block id="156a17333e77a3c504018cae5ada8c3b" category="paragraph">私鑰</block>
  <block id="8e0708b67ba6ce0f70a948152e7e7895" category="paragraph">私鑰。具有 CVS 管理員角色的 GCP 服務帳戶的部分 API 金鑰</block>
  <block id="25de05ab7f10e99b499db62e0b89ad33" category="cell">元素（NetApp HCI/ SolidFire）</block>
  <block id="2a6ba72e93aa7fa676d07973ed2716bb" category="paragraph">端點</block>
  <block id="41eba2d95ecaf35c8bd3a972c263ffe4" category="paragraph">針對SolidFire叢集的 MVIP，包含租戶憑證</block>
  <block id="14c4b06b824ec593239362517f538b29" category="paragraph">使用者名稱</block>
  <block id="6e1b40351708d93ce8c387f6f8ca7533" category="paragraph">用於連接到叢集/SVM 的使用者名稱。用於基於憑證的身份驗證</block>
  <block id="5f4dcc3b5aa765d61d8327deb882cf99" category="paragraph">密碼</block>
  <block id="4d3fd9a7ab4c84b857fc26b2633237d0" category="paragraph">連接到叢集/SVM 的密碼。用於基於憑證的身份驗證</block>
  <block id="19dce7ac7f5290fc8fa218ad0c858df5" category="paragraph">客戶端私鑰</block>
  <block id="8c5e8d4f9acf9295e1a96feef0c0b516" category="paragraph">客戶端私鑰的 Base64 編碼值。用於基於憑證的身份驗證</block>
  <block id="039e9d80fa53ba861c06b590ba3f9d34" category="paragraph">chap用戶名</block>
  <block id="a7128cd45d4a277fe5c6ed6f6c4238f7" category="paragraph">入站用戶名。如果 useCHAP=true，則為必填項。為了<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block>和<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block></block>
  <block id="f9d0dc78b203f2c1106dc0c7d58a5397" category="paragraph">chapInitiatorSecret</block>
  <block id="2f573af61fb37b4f1c5e2def2341b7c4" category="paragraph">CHAP 發起者金鑰。如果 useCHAP=true，則此項目為必填項。為了<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block>和<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block></block>
  <block id="2ebe107bb3bc9551fbb0e5033046931c" category="paragraph">chapTargetUsername</block>
  <block id="e945f079b3e50bd5722f056b72282608" category="paragraph">目標用戶名。如果 useCHAP=true，則此項目為必填項。為了<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block>和<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block></block>
  <block id="4ab84a55744951d967033db9b64f6b27" category="paragraph">chapTargetInitiatorSecret</block>
  <block id="61b50fba255c10a4a2b5f7cf8276849a" category="paragraph">CHAP 目標發起者金鑰。如果 useCHAP=true，則此項目為必填項。為了<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block>和<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block></block>
  <block id="73d583a1445e1497ec3adaa011e2724c" category="paragraph">此步驟中建立的秘密將在以下位置引用：<block ref="52c7b8f36716d3230d8fac3536f346c7" prefix=" " category="inline-code"></block>領域的<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>在下一步建立的物件。</block>
  <block id="e892fda55ead7e15eed753e850d35f12" category="section-title">步驟 2：建立<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>CR</block>
  <block id="3394622f88ed2c82c85e92e908879095" category="paragraph">現在您可以開始創建您的<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>CR。在這個例子中，後端使用了<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block>驅動程式是透過使用以下方式建立的：<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>下圖所示物體：</block>
  <block id="d6f4b4bedc693acd49ad08c1cf0cdad5" category="section-title">步驟 3：驗證狀態<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>CR</block>
  <block id="967688089cfc07a6c8e893bce5186445" category="paragraph">現在你已經創建了<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>CR，您可以核實狀態。請參閱以下範例：</block>
  <block id="edc9d2e179d9bd8effd5277699967aff" category="paragraph">後端已成功建立並綁定到<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>CR。</block>
  <block id="ecb5320e6f020f2c2dcad7a6268111ed" category="paragraph">相位可以取以下值之一：</block>
  <block id="afad9414d1bc420e58e3a72442b8f495" category="list-text"><block ref="685d1f2146dd079015e81918414e8971" prefix="" category="inline-code"></block>： 這<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>CR 與後端關聯，此後端包含<block ref="217026e5af08bfde5815657113dbfc82" prefix=" " category="inline-code"></block>設定為<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>CR 的 uid。</block>
  <block id="f2edf590deb30828e48e7290aa78e788" category="list-text"><block ref="edac80248b7bf68ccfaa9c78bfb81c32" prefix="" category="inline-code"></block>：用以下方式表示<block ref="9d4568c009d203ab10e33ea9953a0264" prefix=" " category="inline-code"></block>。這<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>該物件未綁定到後端。所有新創建<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>CR 預設處於此階段。階段變更後，它無法再恢復到未綁定狀態。</block>
  <block id="5008913e7135c645ebbfbd67112d3184" category="list-text"><block ref="ffbb410a55bb31f801dea6387e2745ac" prefix="" category="inline-code"></block>： 這<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>CR的<block ref="98e7d6463271d7848db255ae6467817a" prefix=" " category="inline-code"></block>已設定為刪除。當<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>CR 刪除後，狀態變成正在刪除。</block>
  <block id="2836a99ecae06907e08eb3b9502d45d6" category="list-text">如果後端不存在持久性磁碟區宣告 (PVC)，則刪除<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>這將導致Trident刪除後端以及<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>CR。</block>
  <block id="ffd02eb489e62222a00391567d0bad81" category="list-text">如果後端存在一個或多個 PVC，則進入刪除狀態。這<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>CR隨後也進入刪除階段。後端和<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>只有在所有 PVC 都被刪除後才會刪除。</block>
  <block id="39d978e14d4d8c9f19589af0d4e72661" category="list-text"><block ref="b578b733cbb788fc6ad208314d2c4c2b" prefix="" category="inline-code"></block>與後端相關的<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>CR 被意外或故意刪除，並且<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>CR 仍然保留著對已刪除後端的引用。這<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>無論如何，CR 仍然可以刪除。<block ref="98e7d6463271d7848db255ae6467817a" prefix=" " category="inline-code"></block>價值。</block>
  <block id="7ddc4cac10b03b42fc0ff0fc7e00789f" category="list-text"><block ref="88183b946cc5f0e8c96b2e66e1c74a7e" prefix="" category="inline-code"></block>Trident無法確定與下列系統相關的後端的狀態或是否存在：<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> CR。例如，如果 API 伺服器沒有回應，或者如果<block ref="5f829d3562952527064a5c553cd09189" prefix=" " category="inline-code"></block>CRD 缺失。這可能需要幹預。</block>
  <block id="fdf3d4560a801cb64c255cc2790fe9cc" category="inline-link-macro">後端更新和後端刪除</block>
  <block id="57867491a75119ccf33f6ed8a434ff8e" category="paragraph">至此，後端已成功創建！此外，還可以處理以下幾種操作：<block ref="9f5a7b55f1a44b55d5336cefd3bf688e" category="inline-link-macro-rx"></block> 。</block>
  <block id="4dca0b80562cc590644c1acfada17219" category="section-title">（可選）步驟 4：了解更多詳情</block>
  <block id="22f66c61dd35abb0ae1840a7e38ae1b9" category="paragraph">您可以執行以下命令來獲取有關後端的更多資訊：</block>
  <block id="aab3a73056ee2962dff0130da0538454" category="paragraph">此外，您還可以獲得 YAML/JSON 轉儲檔案。<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> 。</block>
  <block id="5c3139ae9ab5d818511e9d321e73fece" category="paragraph"><block ref="5a5abb2eaa9c440d605c2a659dd2079f" prefix="" category="inline-code"></block>包含<block ref="a3d5885ebdbdbb3f39c48e483cc04978" prefix=" " category="inline-code"></block>以及<block ref="17b686c7edfa8cfaa60e094e4592491f" prefix=" " category="inline-code"></block>後端是根據以下情況創建的：<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> CR。這<block ref="8d625027763e2e062eb5f57c8518040d" prefix=" " category="inline-code"></block>此欄位表示上次操作的狀態<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>CR（變更要求）可以由使用者觸發（例如，使用者變更了某些內容）。<block ref="b979c2934ac0b4ba3f08dabfdd1b2299" prefix=" " category="inline-code"></block> ）或由Trident觸發（例如，在Trident重啟期間）。結果要么是成功，要么是失敗。<block ref="7ee7184c970537ea83afe7f9bae4c61f" prefix=" " category="inline-code"></block>代表了以下關係的狀態：<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> CR 和後端。在上面的例子中，<block ref="7ee7184c970537ea83afe7f9bae4c61f" prefix=" " category="inline-code"></block>具有 Bound 值，這意味著<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>CR與後端相關。</block>
  <block id="7b7587593fc7d381339d450faa35dfa9" category="paragraph">您可以運行<block ref="78b137a0e31097f4e74b4d44c43efc40" prefix=" " category="inline-code"></block>取得事件日誌詳細資訊的命令。</block>
  <block id="6dc07da7e54d697726bb349fb693fa8b" category="inline-link-macro">請參閱此處</block>
  <block id="c732962a4a01ea5f406ec66e50e98903" category="admonition">您無法更新或刪除包含關聯後端的後端。<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>使用物件<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>。要了解在以下兩者之間切換所涉及的步驟：<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>和<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>，<block ref="8d6bc70a41f48e3f72c3f5ea8752090b" category="inline-link-macro-rx"></block> 。</block>
  <block id="2941c38dbb7c39c325787067c0540247" category="summary">了解如何使用以下方式執行後端管理操作<block ref="0f12ee5c9f1dd90158580f1c292b0d37" prefix=" " category="inline-code"></block>。</block>
  <block id="634b471e6af84767e06324552492b533" category="section-title">刪除後端</block>
  <block id="cd9b0eee685820fd4ee1b3c0bea5cfb5" category="paragraph">透過刪除一個<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>您指示Trident刪除/保留後端（基於<block ref="98e7d6463271d7848db255ae6467817a" prefix=" " category="inline-code"></block>）。若要刪除後端，請確保<block ref="98e7d6463271d7848db255ae6467817a" prefix=" " category="inline-code"></block>已設定為刪除。僅刪除<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>確保<block ref="98e7d6463271d7848db255ae6467817a" prefix=" " category="inline-code"></block>設定為保留。這樣可以確保後端仍然存在，並且可以透過以下方式進行管理：<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block> 。</block>
  <block id="337d79852891a37d41285c9101c3fff4" category="paragraph">運行以下命令：</block>
  <block id="5f39834a6f39c7539a5edeb4e8f3ea48" category="paragraph">Trident不會刪除正在使用的 Kubernetes Secret。<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> 。 Kubernetes 用戶負責清理金鑰。刪除機密資訊時務必謹慎。只有當後端不再使用密鑰時，才應該刪除密鑰。</block>
  <block id="d694c8966214ec6d0068c0ab2951b65c" category="section-title">查看現有後端</block>
  <block id="265ab4809f08d248e5045a8638ac7afa" category="paragraph">你也可以運行<block ref="86d87141fccdd14380a93351cf8a88e3" prefix=" " category="inline-code"></block>或者<block ref="d6b02c316f6c883e36a3c61bc723ec25" prefix=" " category="inline-code"></block>取得所有現有後端的清單。此清單還將包括使用以下方式建立的後端：<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block> 。</block>
  <block id="93dbcf0189ff94d39230d2e3726969ab" category="section-title">更新後端</block>
  <block id="93700a3ea9dc6d858638cd66cd2f2bfa" category="paragraph">更新後端的原因可能有很多：</block>
  <block id="63f9a789e1c077aab804a2a5c20f1419" category="list-text">儲存系統的憑證已更改。要更新憑證，需要更新 Kubernetes Secret，該 Secret 用於：<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>對象必須更新。 Trident會自動使用提供的最新憑證更新後端。執行以下命令更新 Kubernetes Secret：</block>
  <block id="d1cc287cede970a7472833938f39b940" category="list-text">需要更新參數（例如正在使用的ONTAP SVM 的名稱）。</block>
  <block id="bb5c9e20ecc2d96bd9d91107161bf89b" category="list-text">您可以更新<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>使用以下命令直接透過 Kubernetes 存取物件：</block>
  <block id="ccec41e7609b17a7fe58691b5cbf68ea" category="list-text">或者，您可以對現有內容進行變更。<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>使用以下命令進行回車：</block>
  <block id="d38f034e9aa082af3ec19c23caff4b0f" category="list-text">如果後端更新失敗，後端將繼續保持其最後一次已知的配置。您可以透過執行以下命令查看日誌以確定原因。<block ref="f06ab1779eb739084ddf83006fb6f403" prefix=" " category="inline-code"></block>或者<block ref="f9d8dd15d0562f29d38ca5412f8d3a1b" prefix=" " category="inline-code"></block>。</block>
  <block id="5878b59fb3a8430928026b63b5ca336f" category="list-text">在您發現並修正設定檔中的問題後，您可以重新執行更新命令。</block>
  <block id="72a5926b7fb086fe87e93771f6620556" category="summary">了解如何使用以下方式執行後端管理操作<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>。</block>
  <block id="748a22b5f1312291ad55429ba4b809a0" category="doc">使用 tridentctl 執行後端管理</block>
  <block id="aeeb03235358f0f4bf3be628bed08721" category="section-title">創建後端</block>
  <block id="34746f7a1d24170eeebf5510a045d43d" category="inline-link-macro">後端設定檔</block>
  <block id="99b7232073a67a8c82304f979e3dc83f" category="paragraph">創建之後<block ref="03c0b6ed8698193668e92f56e9be3efa" category="inline-link-macro-rx"></block>運行以下命令：</block>
  <block id="1cabe44c722167581b1e219de6c58341" category="paragraph">如果後端建立失敗，則表示後端配置存在問題。您可以透過執行以下命令查看日誌以確定原因：</block>
  <block id="b5f9999463782f0c36ecc89573a90a49" category="paragraph">在您發現並修正設定檔中的問題後，您只需執行以下命令即可。<block ref="76ea0bebb3c22822b4f0dd9c9fd021c5" prefix=" " category="inline-code"></block>再次發出命令。</block>
  <block id="4f3ff24da375936278cfeceb396c61dd" category="paragraph">若要從Trident中刪除後端，請執行下列操作：</block>
  <block id="f6816a6570e6b6097177f9adc1f4805b" category="list-text">取得後端名稱：</block>
  <block id="11f4ccb46eb9afc4b1187c376b53123f" category="list-text">刪除後端：</block>
  <block id="1e0e0f35966b4297310419e9023a837b" category="admonition">如果Trident已從從後端配置了仍然存在的磁碟區和快照，則刪除後端將阻止從該後端設定新磁碟區。後端將繼續處於「刪除」狀態。</block>
  <block id="a6345aca446812b9124c47b385b33f43" category="paragraph">若要查看Trident已知的後端，請執行下列操作：</block>
  <block id="cb325bc4dded2aa4744b594966262a99" category="list-text">若要取得摘要，請執行以下命令：</block>
  <block id="9f073deeee70a1418443c3b8379c5c02" category="list-text">要獲取所有詳細信息，請運行以下命令：</block>
  <block id="27709162cf6b8ffced7bb1da6dd49df3" category="paragraph">建立新的後端設定檔後，執行以下命令：</block>
  <block id="4ca005817e9c882d0ef15d451a97dbf0" category="paragraph">如果後端更新失敗，則表示後端配置有問題，或者您嘗試了無效的更新。您可以透過執行以下命令查看日誌以確定原因：</block>
  <block id="20b5ebaa2558437206eb6d1d47577805" category="paragraph">在您發現並修正設定檔中的問題後，您只需執行以下命令即可。<block ref="3ac340832f29c11538fbe2d6f75e8bcc" prefix=" " category="inline-code"></block>再次發出命令。</block>
  <block id="d47f84a3cda326babf841866ad2326ab" category="section-title">確定使用後端儲存的儲存類</block>
  <block id="02fe9d429af25b46c16a1172d735124f" category="paragraph">這是一個您可以使用 JSON 回答的問題範例：<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>後端物件的輸出。這使用<block ref="d8757fb4e9ea07606d23a1ef5a4b8d4e" prefix=" " category="inline-code"></block>您需要安裝該實用程式。</block>
  <block id="e00013adda7b5901ea3e44ae300fd73d" category="paragraph">這也適用於使用以下方式建立的後端：<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> 。</block>
  <block id="734b51d6b10d22bfb052a1b8e8a9bc56" category="summary">了解Trident中管理後端的不同方法。</block>
  <block id="4342473e01edd2e1440b8b76076f4c9e" category="doc">在後端管理選項之間切換</block>
  <block id="798f4548a52b3c91b25609a82ff6a12e" category="paragraph">隨著<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>現在，管理員有兩種獨特的後端管理方式。這就引出了以下問題：</block>
  <block id="a7b407f571446f9f4a30f63e8160784a" category="list-text">可以使用以下方式建立後端<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>以……進行管理<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>？</block>
  <block id="3e1fc11d05c13404995af2b9fda64675" category="list-text">可以使用以下方式建立後端<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>可透過以下方式進行管理<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>？</block>
  <block id="6c6e605e09d47da14693d106977b6eb0" category="section-title">管理<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>使用後端<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block></block>
  <block id="d6da18e16f248df47ee8e5139ef0156a" category="paragraph">本節介紹管理使用以下方式建立的後端所需的步驟：<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>直接透過 Kubernetes 介面創建<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>物體。</block>
  <block id="bee2ae6068ad50344ddb325737434004" category="paragraph">這適用於以下情況：</block>
  <block id="88512325ffcc13fbee60f3ca0669f67e" category="list-text">預先存在的後端，沒有<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>因為它們是用…創造的<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>。</block>
  <block id="8eed1f3ae09f008e2dbfb4280a0c137c" category="list-text">使用以下方式建立的新後端<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>而其他<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>物體是存在的。</block>
  <block id="e0b4d05f7fb24e9606ae02b176974698" category="paragraph">在這兩種情況下，後端都將繼續存在， Trident將調度磁碟區並對其進行操作。管理員此時有兩種選擇：</block>
  <block id="95328f21e7a6deb7bb94acb3866753a6" category="list-text">繼續使用<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>管理使用它創建的後端。</block>
  <block id="82c1dd66573aab904c86b63e2d5486ad" category="list-text">使用以下方式建立的綁定後端<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>到一個新的<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>目的。這樣做意味著後端將使用以下方式進行管理：<block ref="0f12ee5c9f1dd90158580f1c292b0d37" prefix=" " category="inline-code"></block>而不是<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>。</block>
  <block id="d12d5022b29f44c340ee55411970fe10" category="paragraph">使用以下方式管理預先存在的後端<block ref="0f12ee5c9f1dd90158580f1c292b0d37" prefix=" " category="inline-code"></block>您需要建立一個<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>它與現有後端綁定。以下是其工作原理概述：</block>
  <block id="1abff208034794e09bab3e34ad393f6c" category="list-text">創建 Kubernetes Secret。此金鑰包含Trident與儲存叢集/服務通訊所需的憑證。</block>
  <block id="b863de09ccfaf2861ead350dd78a9933" category="list-text">創建一個<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>目的。這包含有關儲存叢集/服務的具體信息，並引用上一步中建立的密鑰。必須注意指定完全相同的配置參數（例如：<block ref="de48524ae3369aa3a3a220c9107c1d2b" prefix=" " category="inline-code"></block> ，<block ref="670f8a39d00195ce172543b2794c522b" prefix=" " category="inline-code"></block> ，<block ref="4f361a1568cc7e740f7642f6f59e2fe0" prefix=" " category="inline-code"></block> ， 等等）。<block ref="de48524ae3369aa3a3a220c9107c1d2b" prefix=" " category="inline-code"></block>必須設定為現有後端的名稱。</block>
  <block id="44411eb1f3a70196b442f0ed4bb62820" category="section-title">步驟 0：確定後端</block>
  <block id="4bf283d1d1c781fbb7e90b237dc80ac4" category="paragraph">創建一個<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>如果要綁定到現有後端，則需要取得後端配置。在這個例子中，我們假設使用以下 JSON 定義建立了一個後端：</block>
  <block id="2181a22b3daf7866094f9f0d79da87d0" category="paragraph">建立一個包含後端憑證的 Secret，如下例所示：</block>
  <block id="78fb4311dea625690d7fb6274025625a" category="section-title">步驟 2：建立<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>CR</block>
  <block id="276e25c1cf06c603ba2d133ae2e39dde" category="paragraph">下一步是創建一個<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>CR 將自動綁定到預先存在的<block ref="50f1baa55915aa000046e11e5aca6e3e" prefix=" " category="inline-code"></block>（如本例所示）。請確保滿足以下要求：</block>
  <block id="0cbfd18f16db9afdef577eeddd6a8bee" category="list-text">後端名稱在以下位置定義：<block ref="de48524ae3369aa3a3a220c9107c1d2b" prefix=" " category="inline-code"></block> 。</block>
  <block id="f261e4f2fe82344f35f04f9b3813e425" category="list-text">配置參數與原後端相同。</block>
  <block id="c632eed28bf53466df8b8a33aedab3af" category="list-text">虛擬池（如果存在）必須保持與原始後端相同的順序。</block>
  <block id="8f50f98a5b56105263e2f7ab18dc0686" category="list-text">憑證透過 Kubernetes Secret 提供，而不是以明文形式提供。</block>
  <block id="05c8cd2e49ae2ecaee101c9bc5619d49" category="paragraph">在這種情況下，<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>將會像這樣：</block>
  <block id="63d6f3ce15066b6232a788bb692bf721" category="paragraph">之後<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>已經創建，它的階段必須是<block ref="685d1f2146dd079015e81918414e8971" prefix=" " category="inline-code"></block>。它也應該反映與現有後端相同的後端名稱和 UUID。</block>
  <block id="d1a75f7c76623350486029378ab164c3" category="paragraph">後端現在將完全使用以下方式進行管理：<block ref="f695ccd8d6d09cfeee2cf7d06725f9e5" prefix=" " category="inline-code"></block><block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>目的。</block>
  <block id="a035fed1dd97545349b5fffbd9e3e88f" category="section-title">管理<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>使用後端<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block></block>
  <block id="fcea92f3e948217919ca8b4051c2c61e" category="paragraph"><block ref="c67fd1b99934afa248dfeb285a9a4191" prefix="" category="inline-code"></block>可用於列出使用下列方式建立的後端：<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> 。此外，管理員還可以選擇透過以下方式完全管理此類後端：<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>透過刪除<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>並確保<block ref="665ed1e9e5fa7278d49de298928f771c" prefix=" " category="inline-code"></block>設定為<block ref="16d79ff80feadcf2f52096f073f2b94a" prefix=" " category="inline-code"></block>。</block>
  <block id="ab0c73d8e0377b2df5b783d3a76f2249" category="paragraph">例如，假設我們使用以下方式建立了以下後端<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>：</block>
  <block id="4cfeb5a9099082a66a720c90a50036af" category="paragraph">從輸出結果可以看出：<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>已成功建立並綁定到後端[觀察後端的 UUID]。</block>
  <block id="0901a332c26ed210204bad23d45c8b6d" category="section-title">步驟 1：確認<block ref="98e7d6463271d7848db255ae6467817a" prefix=" " category="inline-code"></block>設定為<block ref="16d79ff80feadcf2f52096f073f2b94a" prefix=" " category="inline-code"></block></block>
  <block id="76d558fd5aada70a89c3e865ca420a68" category="paragraph">讓我們來看看它的價值<block ref="98e7d6463271d7848db255ae6467817a" prefix=" " category="inline-code"></block>。需要將其設定為<block ref="16d79ff80feadcf2f52096f073f2b94a" prefix=" " category="inline-code"></block>。這確保了當<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>CR 刪除後，後端定義仍然存在，並且可以透過以下方式進行管理：<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block> 。</block>
  <block id="1ad97e0f65ef91102831baaa31630c76" category="admonition">除非另有說明，否則請勿進行下一步。<block ref="98e7d6463271d7848db255ae6467817a" prefix=" " category="inline-code"></block>設定為<block ref="16d79ff80feadcf2f52096f073f2b94a" prefix=" " category="inline-code"></block>。</block>
  <block id="2f1beb23541bc11eb53ca6b33485d4f8" category="section-title">步驟二：刪除<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>CR</block>
  <block id="8313f77478cb0df464604ae4435acce2" category="paragraph">最後一步是刪除<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>CR。確認後<block ref="98e7d6463271d7848db255ae6467817a" prefix=" " category="inline-code"></block>設定為<block ref="16d79ff80feadcf2f52096f073f2b94a" prefix=" " category="inline-code"></block>您可以繼續刪除：</block>
  <block id="112121684d9357cc8fb46c6007457443" category="paragraph">刪除後<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>Trident只是移除該對象，而不會實際刪除後端本身。</block>
  <block id="81feffd6e3f1dfe7d96f93bb83a3576f" category="paragraph">Trident會自動提供符合儲存類別定義要求的後端儲存池。了解如何配置儲存系統的後端。</block>
  <block id="2acbb5dd492d792d00383b0c76ade4ad" category="list-text"><block ref="2acbb5dd492d792d00383b0c76ade4ad" category="inline-link-macro-rx"></block></block>
  <block id="b73a4f3ea8538e5ef0b4078c119b3c8d" category="inline-link-macro">設定Google Cloud NetApp Volumes後端</block>
  <block id="2fc23e09b483dc4495beb473646c0273" category="list-text"><block ref="2fc23e09b483dc4495beb473646c0273" category="inline-link-macro-rx"></block></block>
  <block id="252e63ff646a0204671ca04a26b88e06" category="inline-link-macro">為 Google Cloud Platform 後端設定Cloud Volumes Service</block>
  <block id="c00b6e370d4496e06d2135275a992af5" category="list-text"><block ref="c00b6e370d4496e06d2135275a992af5" category="inline-link-macro-rx"></block></block>
  <block id="f2733a323df72dea4b230205225bdc13" category="inline-link-macro">配置NetApp HCI或SolidFire後端</block>
  <block id="b1064b6f7a5906eac23601dc24ba95a8" category="list-text"><block ref="b1064b6f7a5906eac23601dc24ba95a8" category="inline-link-macro-rx"></block></block>
  <block id="a3610578ce54198653d7e0b2cc53c05d" category="inline-link-macro">使用ONTAP或Cloud Volumes ONTAP NAS 驅動程式設定後端</block>
  <block id="f4f833852bac4217eff92d53c1bd24dc" category="list-text"><block ref="f4f833852bac4217eff92d53c1bd24dc" category="inline-link-macro-rx"></block></block>
  <block id="29db8b676d0a02f8179869506102c8ce" category="inline-link-macro">使用ONTAP或Cloud Volumes ONTAP SAN 驅動程式設定後端</block>
  <block id="df7d9b009cdb0a2623872cb3f905e161" category="list-text"><block ref="df7d9b009cdb0a2623872cb3f905e161" category="inline-link-macro-rx"></block></block>
  <block id="982a76bd7422f8b1ee773545fc01ea11" category="inline-link-macro">將Trident與Amazon FSx for NetApp ONTAP</block>
  <block id="729d88792170d42963cf63b9e9606321" category="list-text"><block ref="729d88792170d42963cf63b9e9606321" category="inline-link-macro-rx"></block></block>
  <block id="68a131c3971c1c8532edfb16be1b2903" category="summary">您可以設計一個 Kubernetes StorageClass 文件，並建立 StorageClass 來指示Trident如何設定磁碟區。</block>
  <block id="e093f3bc5e5c7d5965cb1bf67aeee4c6" category="paragraph">配置 Kubernetes StorageClass 物件並建立儲存類，以指示Trident如何設定磁碟區。</block>
  <block id="95d4f411b57eb8201e27fa4636c30816" category="section-title">設定 Kubernetes StorageClass 對象</block>
  <block id="b8d89cc8455fbb137550c0819b7813c8" category="inline-link">Kubernetes StorageClass 對象</block>
  <block id="cc11289855049780fd7db136e693d82e" category="paragraph">這<block ref="da3f7f170e13df7f56e057fc4226aa85" category="inline-link-rx"></block>識別Trident作為該類別使用的配置器，並指示Trident如何配置磁碟區。例如：</block>
  <block id="cfcd78d3f3ec6bdd1da5051dc5fbad51" category="paragraph">請參閱<block ref="879ce943b486ecaae1c4cb96b01133e9" category="inline-link-macro-rx"></block>有關存儲類如何與…交互的詳細信息<block ref="2b3f8e4d49589c4452db0a07d619d824" prefix=" " category="inline-code"></block>以及控制Trident如何分配容量的參數。</block>
  <block id="d955a256e02907c43d2afd5bfdb671ea" category="paragraph">建立 StorageClass 物件後，即可建立儲存類別。<block ref="1310ad9d78b8b659f76828400b5d8126" category="inline-xref-macro-rx"></block>提供一些您可以使用或修改的基本範例。</block>
  <block id="a221a060125881c2027807248f8302a2" category="list-text">這是一個 Kubernetes 對象，所以請使用<block ref="0f12ee5c9f1dd90158580f1c292b0d37" prefix=" " category="inline-code"></block>在 Kubernetes 中創建它。</block>
  <block id="060364df9713326935c57a6702c9084c" category="list-text">現在您應該在 Kubernetes 和Trident中都看到 *basic-csi* 儲存類，並且Trident應該已經發現了後端上的儲存池。</block>
  <block id="f31a577daf927c7edc5555c9ceabc983" category="section-title">儲存類別範例</block>
  <block id="64c314ed1bd24115a72a8a4284115a5c" category="inline-link">針對特定後端的簡單儲存類別定義</block>
  <block id="45ae9b184f3067c00f4a660edac67a17" category="paragraph">Trident提供<block ref="78512e06e40b1d6e7b22821168623dd6" category="inline-link-rx"></block>。</block>
  <block id="d9ab9b10b2101546e16eeab0b981d10c" category="paragraph">或者，您可以編輯<block ref="9a35c6080acd99f860d0c669b1a980f9" prefix=" " category="inline-code"></block>安裝程式隨附的檔案並替換<block ref="9c9a0798e59f3f4d7b08e45faef1e131" prefix=" " category="inline-code"></block>使用儲存驅動程式名稱。</block>
  <block id="689375d73a0e73673da4e52a37631d4d" category="summary">Trident可以利用 CSI 拓撲功能，選擇性地建立磁碟區並將其附加到 Kubernetes 叢集中的節點。</block>
  <block id="4abea6bac3b0b48d11dd8dcd02a11bf9" category="inline-link">CSI拓樸功能</block>
  <block id="f9ee522bc68b30b3de2c706b1e656ea6" category="paragraph">Trident可以利用以下方式選擇性地建立磁碟區並將其附加到 Kubernetes 叢集中的節點：<block ref="80b9a4f4a1bc9851317207ee3477041a" category="inline-link-rx"></block> 。</block>
  <block id="3b878279a04dc47d60932cb294d96259" category="section-title">概況</block>
  <block id="fad4fe0757704f7cfbc0d68602a1a58b" category="paragraph">使用 CSI 拓撲功能，可以根據區域和可用區域將對磁碟區的存取限製到節點子集。如今，雲端服務供應商允許 Kubernetes 管理員建立基於區域的節點。節點可以位於一個區域內的不同可用區，也可以跨越多個區域。為了方便在多區域架構中為工作負載配置卷， Trident使用了 CSI 拓撲。</block>
  <block id="592af423a2f6a51f57c639ec7f7b245e" category="admonition">了解更多關於 CSI 拓撲功能的信息<block ref="ff042e7f24bd2adcec09d78466034177" category="inline-link-rx"></block>。</block>
  <block id="bbdcaf9b704dc7a7cf73e6000101b65a" category="paragraph">Kubernetes 提供了兩種獨特的磁碟區綁定模式：</block>
  <block id="c7c66bdbe6c90a256243cb5346a324a5" category="list-text">和<block ref="7d1aaf47144f9eb2fc66e328ddd3bad7" prefix=" " category="inline-code"></block>設定為<block ref="43f6615bbb2c40a5306ff804094420b1" prefix=" " category="inline-code"></block>Trident創建卷時沒有任何拓樸感知。磁碟區綁定和動態配置在建立 PVC 時處理。這是預設值。<block ref="7d1aaf47144f9eb2fc66e328ddd3bad7" prefix=" " category="inline-code"></block>適用於不強制執行拓樸約束的叢集。持久性卷的建立不依賴請求 pod 的調度要求。</block>
  <block id="5fca24470d51aa51b0fb2d0f27c25c68" category="list-text">和<block ref="7d1aaf47144f9eb2fc66e328ddd3bad7" prefix=" " category="inline-code"></block>設定為<block ref="ed783cfa871a96ff337b1ae9a5f8bfa5" prefix=" " category="inline-code"></block>PVC 的持久性磁碟區的建立和綁定將被延遲，直到使用該 PVC 的 pod 被調度和建立。這樣，就可以建立磁碟區來滿足拓樸要求所強制執行的調度約束。</block>
  <block id="3bbc2da928dcf77a048cdd745fe7d208" category="admonition">這<block ref="ed783cfa871a96ff337b1ae9a5f8bfa5" prefix=" " category="inline-code"></block>綁定模式不需要拓樸標籤。這可以獨立於 CSI 拓樸功能使用。</block>
  <block id="edff21c44983aaa85506a3dfe467c494" category="paragraph">要使用 CSI 拓撲結構，您需要以下元件：</block>
  <block id="c27e444dab3a08bf8ec59794897c1a27" category="inline-link-macro">支援的 Kubernetes 版本</block>
  <block id="1dedbfd605df8b562acc8f759a8e9acc" category="list-text">運行中的 Kubernetes 集群<block ref="229e1052bb9ecd8cf2680d6f44691174" category="inline-link-macro-rx"></block></block>
  <block id="e60c9ae411010a64108db4f1b8d793be" category="list-text">叢集中的節點應附有標籤，以體現拓樸感知能力。<block ref="e1ff98cb39abe026da77d207e1fd46de" prefix="(" category="inline-code"></block>和<block ref="c4d11894a6687c3a84f5daeda7154443" prefix=" " category="inline-code"></block>）。在安裝Trident之前，叢集中的節點上*應該存在這些標籤*，以便Trident能夠感知拓撲結構。</block>
  <block id="0bd58c9826639ac2db106c3b277a7e0f" category="section-title">步驟 1：建立拓樸感知後端</block>
  <block id="6110b46939d65cd5339476bd5fdbe7df" category="paragraph">Trident儲存後端可設計為根據可用區選擇性地配置磁碟區。每個後端都可以攜帶一個可選組件<block ref="1f2a94e142bf020b1f7c6297ec12413f" prefix=" " category="inline-code"></block>表示所支援的區域和地區列表的區塊。對於使用此類後端的 StorageClasses，只有在受支援的區域/區域中調度的應用程式請求時才會建立磁碟區。</block>
  <block id="bd4b2f0d545a83fd434f5ba1f17dd087" category="paragraph">以下是一個後端定義範例：</block>
  <block id="db432089fc07064a10ae6334c0db7e97" category="admonition"><block ref="1f2a94e142bf020b1f7c6297ec12413f" prefix="" category="inline-code"></block>用於提供每個後端區域和分區的清單。這些區域和分區代表了 StorageClass 中可以提供的允許值的清單。對於包含後端提供的區域和可用區子集的儲存類， Trident會在後端建立一個磁碟區。</block>
  <block id="217d95247b26701da7fd823884d84723" category="paragraph">你可以定義<block ref="1f2a94e142bf020b1f7c6297ec12413f" prefix=" " category="inline-code"></block>每個儲存池也是如此。請參閱以下範例：</block>
  <block id="c6c80256ac468b3d88d7b62d8753f192" category="paragraph">在這個例子中，<block ref="960db2ed82202a9706b97775a4269378" prefix=" " category="inline-code"></block>和<block ref="a84e5f25e7f6d5de9b82ce3f64d1b8fa" prefix=" " category="inline-code"></block>標籤代表儲存池的位置。<block ref="e1ff98cb39abe026da77d207e1fd46de" prefix=" " category="inline-code"></block>和<block ref="c4d11894a6687c3a84f5daeda7154443" prefix=" " category="inline-code"></block>決定儲存池可以從何處使用。</block>
  <block id="54e204e8e05b6eb24d965741eb977e69" category="section-title">步驟 2：定義拓樸感知的儲存類別。</block>
  <block id="090f70d385b4a21aa6c8f2a0ca558616" category="paragraph">根據提供給叢集中節點的拓樸標籤，可以定義 StorageClasses 來包含拓樸資訊。這將決定哪些儲存池可作為 PVC 請求的候選對象，以及哪些節點子集可以使用Trident提供的磁碟區。</block>
  <block id="ecb383148a1bc974cba3ac735a79f4c6" category="paragraph">請參閱以下範例：</block>
  <block id="f8d5cb4864ad5d339fb567af550ff371" category="paragraph">在上述 StorageClass 定義中，<block ref="086b513e7d83c4cf32a8bd3550679276" prefix=" " category="inline-code"></block>設定為<block ref="ed783cfa871a96ff337b1ae9a5f8bfa5" prefix=" " category="inline-code"></block>。使用此 StorageClass 請求的 PVC 只有在 pod 中被引用後才會執行。和，<block ref="df6ccab784b5892507a7d11443254dc8" prefix=" " category="inline-code"></block>提供要使用的區域和範圍。這<block ref="a88a8ddf9fecacf26383a3c60dc3e5fb" prefix=" " category="inline-code"></block>StorageClass 在儲存體上建立 PVC。<block ref="e3ed370204229201f6df345a5a590519" prefix=" " category="inline-code"></block>後端定義如上所述。</block>
  <block id="df340fb31051c975afb3518dfd32e07c" category="section-title">步驟 3：製作並使用 PVC</block>
  <block id="f98be29d352e7c38a6502e76bbfaf34c" category="paragraph">建立 StorageClass 並將其對應到後端後，現在可以建立 PVC。</block>
  <block id="c4b17c8733f9f36fdc682242d2b64ab2" category="paragraph">請參閱範例<block ref="b979c2934ac0b4ba3f08dabfdd1b2299" prefix=" " category="inline-code"></block>以下：</block>
  <block id="427e01a8fca484c85a1e8e3a672b999a" category="paragraph">使用此清單建立 PVC 將產生以下結果：</block>
  <block id="e65f170821e3417d48579a28989a9260" category="paragraph">為了讓Trident形成體積並將其與 PVC 結合，請使用 PVC 管。請參閱以下範例：</block>
  <block id="9b8ff27bceb4601d1f866c4cf39fe449" category="paragraph">此 podSpec 指示 Kubernetes 將 pod 調度到存在於下列位置的節點上：<block ref="71a19c09ed1636680a56d8f8d9766808" prefix=" " category="inline-code"></block>在該區域中，選擇任何存在的節點。<block ref="6b255e25f36cde4f15e99ca4978b2710" prefix=" " category="inline-code"></block>或者<block ref="ed5c4bc41bbc57e4165f20d56c997a77" prefix=" " category="inline-code"></block>區域。</block>
  <block id="c93345596f9f82deea04d17ef8c6ca89" category="paragraph">請查看以下輸出：</block>
  <block id="19ef07597f79648211dbed100709836b" category="section-title">更新後端以包含<block ref="1f2a94e142bf020b1f7c6297ec12413f" prefix=" " category="inline-code"></block></block>
  <block id="476950aea923438779c9544953093cb9" category="paragraph">可以更新現有的後端，使其包含以下清單：<block ref="1f2a94e142bf020b1f7c6297ec12413f" prefix=" " category="inline-code"></block>使用<block ref="ad782b779edfd8199198bed41b3e3b6b" prefix=" " category="inline-code"></block>。這不會影響已經分配的容量，只會用於後續的PVC。</block>
  <block id="ded10f93b9e4453980b7009035c63418" category="inline-link">管理容器資源</block>
  <block id="47ea3356a13b3f6644e6c05450e9d5e1" category="list-text"><block ref="47ea3356a13b3f6644e6c05450e9d5e1" category="inline-link-rx"></block></block>
  <block id="6370f866cf64618c026027da41bd248e" category="inline-link">節點選擇器</block>
  <block id="2a4ad9fc807789134426a1b2babc5733" category="list-text"><block ref="2a4ad9fc807789134426a1b2babc5733" category="inline-link-rx"></block></block>
  <block id="873bf2b9b61a741ce5b7326a3a053489" category="inline-link">親和力和反親和力</block>
  <block id="ec5df0a2adb621359563958138462e34" category="list-text"><block ref="ec5df0a2adb621359563958138462e34" category="inline-link-rx"></block></block>
  <block id="e1e08e40036f927a0e660c22aa837f88" category="inline-link">污點和容忍度</block>
  <block id="66b1e0aa9cd6e46c0b85fdf56a15154a" category="list-text"><block ref="66b1e0aa9cd6e46c0b85fdf56a15154a" category="inline-link-rx"></block></block>
  <block id="48dec026afe488df8faca35c5c3a39ea" category="summary">了解如何在Trident安裝中建立和使用 Element 後端。</block>
  <block id="e3bf4f4da0c5a0a22b37a23b20b2789f" category="paragraph">了解如何在Trident安裝中建立和使用 Element 後端。</block>
  <block id="4e7d6286f837d54a4e4154d4b21b0659" category="section-title">元素驅動程式詳情</block>
  <block id="55d12319f030354c3d3da130783340d4" category="paragraph">Trident提供<block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block>用於與叢集通訊的儲存驅動程式。支援的存取模式有：_ReadWriteOnce_ (RWO)、_ReadOnlyMany_ (ROX)、_ReadWriteMany_ (RWX)、_ReadWriteOncePod_ (RWOP)。</block>
  <block id="d332cf1f1b1ca6601e95859b9d3b2434" category="paragraph">這<block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block>儲存驅動程式支援_檔案_和_區塊_磁碟區模式。對於<block ref="ac52cf637478f3656a1fdee5c02324fd" prefix=" " category="inline-code"></block>volumeMode， Trident建立一個磁碟區並建立一個檔案系統。檔案系統類型由 StorageClass 指定。</block>
  <block id="1b5e109e8afd1f9b7f5bbf951eea3442" category="cell">音量模式</block>
  <block id="e1e4c8c9ccd9fc39c391da4bcd093fb2" category="paragraph">堵塞</block>
  <block id="02017e70674a0c740b2b95fbb0cc2aa1" category="paragraph">沒有檔案系統。原始塊設備。</block>
  <block id="fcd147679464b9eda6367f4e90e16ff8" category="paragraph">RWO，RWOP</block>
  <block id="a029cca698cbf05f07897f86c43cf9e8" category="paragraph"><block ref="310201b6353c5f38bc039e0e51b079d3" prefix="" category="inline-code"></block>，<block ref="66f137c5dc684da2a6a65917c86edd67" prefix=" " category="inline-code"></block> ，<block ref="40d1d2ce03569076bd0dc1e0ff90aa4c" prefix=" " category="inline-code"></block></block>
  <block id="6792aad2d8c086a9d25f5ad8ec090f35" category="paragraph">在建立 Element 後端之前，您需要以下內容。</block>
  <block id="d1d184cecc23825cff20fabf3cdfb862" category="list-text">一個支援運行 Element 軟體的儲存系統。</block>
  <block id="4055116469942da7f6ed83abcf57d0a4" category="list-text">擁有NetApp HCI/ SolidFire叢集管理員或租用戶用戶權限，可管理磁碟區。</block>
  <block id="d5fa5f22855b065d96647dfb0c06d685" category="inline-link-macro">工作節點準備訊息</block>
  <block id="d1b5b194ace83d9f896d8f8b6765def5" category="list-text">所有 Kubernetes 工作節點都應該安裝對應的 iSCSI 工具。參考<block ref="073953144b84efd85603bb3d49521e06" category="inline-link-macro-rx"></block>。</block>
  <block id="9d370350f8d0178b5dfbec9def10d13a" category="paragraph">請參閱下表以了解後端配置選項：</block>
  <block id="1c52b877ebb92e642f84ee1628240247" category="cell">始終是“solidfire-san”</block>
  <block id="31079062306e509fbecf7a2bd9485187" category="cell">"solidfire_" + 儲存體 (iSCSI) IP 位址</block>
  <block id="b07ca7de83de58a699966c9bc9003020" category="cell">儲存（iSCSI）IP 位址和連接埠</block>
  <block id="eea443d4fcc24d4cd2cab08c2a6c062f" category="cell"><block ref="42cecfeff00cc916fef4f64e7b921079" prefix="" category="inline-code"></block></block>
  <block id="749df53d02481e75dd919dddf42fbbef" category="cell">若要套用於磁碟區的任意 JSON 格式標籤集。</block>
  <block id="251f1fc42c38ca55f30e5e9d11dac168" category="cell">要使用的租用戶名稱（如果找不到則建立）</block>
  <block id="4381b3c378885de93e2166f240096338" category="cell">將 iSCSI 流量限製到特定主機介面</block>
  <block id="9aa82da0cffe247b84587c1cc8e32746" category="cell">"預設"</block>
  <block id="5ff567e0863a47346f44f87ed793f508" category="cell"><block ref="1cc3921c0ab34ebcad1d7d62dc850c0a" prefix="" category="inline-code"></block></block>
  <block id="36f37bb9b250ed1fab33dfdced302bec" category="cell">使用 CHAP 對 iSCSI 進行身份驗證。  Trident使用 CHAP。</block>
  <block id="32738663b16444872e4e5721c7c37660" category="cell"><block ref="86d1f8dbc0e863904895b40bd0ac1775" prefix="" category="inline-code"></block></block>
  <block id="c4ca01925aae0c37398f0b30a4ce1273" category="cell">要使用的存取群組 ID 列表</block>
  <block id="1ed25c6118740d8ddd80ea0ce520e808" category="cell">尋找名為「trident」的訪問群組的 ID</block>
  <block id="18320b2a705a7bed37a6bc0af4aee093" category="cell">如果請求的磁碟區大小超過此值，則配置失敗。</block>
  <block id="c72dc6713f14ba2541824417f46e1cd6" category="cell">故障排除時要使用的調試標誌。例如，{"api":false, "method":true}</block>
  <block id="88dce60232453383ab0d1c3c59cc931d" category="admonition">請勿使用<block ref="effa2d809c72dcb6cce15a1e0b040e63" prefix=" " category="inline-code"></block>除非您正在進行故障排除並且需要詳細的日誌轉儲。</block>
  <block id="891d26d5e7410db6c0a971245c6025c0" category="section-title">範例 1：後端配置<block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block>具有三種音量類型的驅動器</block>
  <block id="3185240fb49cba19667fbdf639f3271e" category="paragraph">本範例展示了一個使用 CHAP 認證的後端文件，並對三種具有特定 QoS 保證的捲類型進行了建模。最有可能的情況是，您會定義儲存類別來使用它們。<block ref="79073619fba8242703524f16870ff858" prefix=" " category="inline-code"></block>儲存類別參數。</block>
  <block id="bfd7bf04b3d28a42267e8d1b30a05f01" category="section-title">範例 2：後端和儲存類別配置<block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block>帶有虛擬池的驅動程式</block>
  <block id="418ff75ccabac38370cc8570721746a3" category="paragraph">此範例顯示了配置了虛擬池的後端定義檔以及引用這些虛擬池的儲存類別。</block>
  <block id="626a366c19963bb80ca04337415711f5" category="paragraph">Trident在設定時將儲存池中的標籤複製到後端儲存 LUN。為了方便起見，儲存管理員可以為每個虛擬池定義標籤，並按標籤將磁碟區分組。</block>
  <block id="b003731e1d339366ed065ffe5a0f50ca" category="paragraph">在下方所示的範例後端定義檔中，所有儲存池都設定了特定的預設值，這些預設值決定了：<block ref="599dcce2998a6b40b1e38e8c6006cb0a" prefix=" " category="inline-code"></block>銀級。虛擬池在以下位置定義：<block ref="ddecebdea58b5f264d27f1f7909bab74" prefix=" " category="inline-code"></block>部分。在這個例子中，一些儲存池設定了自己的類型，而一些儲存池則覆蓋了上面設定的預設值。</block>
  <block id="615c9f89b360c50cfba2b2de02584387" category="paragraph">以下 StorageClass 定義與上述虛擬池相關。使用<block ref="bed471c4a88e25ac9a7e4a7b980700a8" prefix=" " category="inline-code"></block>在欄位中，每個 StorageClass 都會指定哪些虛擬池可用於託管磁碟區。卷將具有所選虛擬池中定義的各個方面。</block>
  <block id="6b414187e193a000944e395beb010938" category="paragraph">第一個儲存類<block ref="166028d9a95f5465a6ae917e6e089ce6" prefix="(" category="inline-code"></block>將映射到第一個虛擬池。這是唯一提供黃金級性能的泳池。<block ref="89bf6c97f9a3eaea76c86df0086361bc" prefix=" " category="inline-code"></block>黃金。最後一個儲存類別<block ref="b4457b3eeca98cadb51648f8fcef36cb" prefix="(" category="inline-code"></block>）指出任何提供銀級性能的儲存池。  Trident將決定選擇哪個虛擬池，並確保滿足儲存需求。</block>
  <block id="4d0d37d727675761e4c0e324eb57ca2f" category="list-text"><block ref="4d0d37d727675761e4c0e324eb57ca2f" category="inline-link-macro-rx"></block></block>
  <block id="cb4d8d2a5476183e7996047b4bd621a5" category="summary">了解Google Cloud NetApp Volumes的 NFS 和 NFS 後端設定選項，並查看設定範例。</block>
  <block id="45868a9cc24b15883bb385cc21568b9c" category="doc">Google Cloud NetApp Volumes後端設定選項和範例</block>
  <block id="bf5d13740edaf72b96d340da8b520aa2" category="paragraph">了解Google Cloud NetApp Volumes的後端設定選項並查看設定範例。</block>
  <block id="4dd7128ceae058946c44bbbb0985ec6f" category="paragraph">每個後端都在單一 Google Cloud 區域中配置磁碟區。若要在其他區域建立卷，您可以定義其他後端。</block>
  <block id="24efddb2a68726b53abbc21ed25602ec" category="cell">價值<block ref="d45aebe724c55b101f2ae8924ba3d486" prefix=" " category="inline-code"></block>必須指定為“google-cloud-netapp-volumes”。</block>
  <block id="486c28964f4c2b1cb7d4cf8476c6f43b" category="cell">（可選）儲存後端自訂名稱</block>
  <block id="f476273c71e20fc5a845a5345a620117" category="cell">驅動程式名稱 + "_" + API 金鑰的一部分</block>
  <block id="5782f9a9357b5678058d6d3ceed21988" category="cell"><block ref="c614017642b6cfd9e6a25c7df122d917" prefix="" category="inline-code"></block></block>
  <block id="04075132f95c6ef305485ab113422c5a" category="cell">用於指定磁碟區建立儲存池的可選參數。</block>
  <block id="c96383270cbab23de47b4f0961f64929" category="cell"><block ref="80ef6899136dfcff295c16caa93c2138" prefix="" category="inline-code"></block></block>
  <block id="4149383e1cf45a36b373c5bded2ff6ba" category="cell">Google Cloud 帳戶項目編號。該值可在 Google Cloud 入口網站首頁找到。</block>
  <block id="4f50ef2995c3caa2284d837d375e4db0" category="cell">Trident建立 GCNV 磁碟區的 Google Cloud 位置。建立跨區域 Kubernetes 叢集時，在下列位置建立的磁碟區：<block ref="d5189de027922f81005951e6efe0efd5" prefix=" " category="inline-code"></block>可用於跨多個 Google Cloud 區域的節點上調度的工作負載。跨區域運輸會產生額外費用。</block>
  <block id="a34d72a685d5e27eb6bc18f54a7bab1d" category="cell"><block ref="c9ff119073ea2567730fb42e3a4fe805" prefix="" category="inline-code"></block></block>
  <block id="b22804421b3e5bca94f2a9979721eb60" category="cell">用於 Google Cloud 服務帳戶的 API 金鑰<block ref="e50dbf86780cfad5e007e4a95a6aa71e" prefix=" " category="inline-code"></block>角色。它包含 Google Cloud 服務帳戶私鑰檔案的 JSON 格式內容（原封不動地複製到後端設定檔中）。這<block ref="c9ff119073ea2567730fb42e3a4fe805" prefix=" " category="inline-code"></block>必須包含以下鍵的鍵值對：<block ref="599dcce2998a6b40b1e38e8c6006cb0a" prefix=" " category="inline-code"></block> ，<block ref="b098ad43c65e68f3d8ce27a3c7e6f6e2" prefix=" " category="inline-code"></block> ，<block ref="a4a9fd77bfb3720e66b510bef7ffe71a" prefix=" " category="inline-code"></block> ，<block ref="2bfe9d72a4aae8f06a31025b7536be80" prefix=" " category="inline-code"></block> ，<block ref="478cc0e49bfbb9ded4ffc7ea662d3968" prefix=" " category="inline-code"></block> ，<block ref="98b215082431c21156af94f3aa69f838" prefix=" " category="inline-code"></block> ，<block ref="8201fe8e688f4f948a62370fd1b411d4" prefix=" " category="inline-code"></block> ， 和<block ref="61426bc7fdd11e59a5c98e7ee37e3dbb" prefix=" " category="inline-code"></block>。</block>
  <block id="b9cc8276829a756e7a22476617204267" category="cell">對 NFS 掛載選項進行精細控制。</block>
  <block id="4d9239a7fce916964ba8529021ab535f" category="cell">如果請求的磁碟區大小大於此值，則配置失敗。</block>
  <block id="1713a0b57aa7aa8811b66291bd6740ea" category="cell">儲存池的服務等級及其容量。這些值是<block ref="897a779351421523cadbafccdce22efe" prefix=" " category="inline-code"></block>，<block ref="c00f0c4675b91fb8b918e4079a0b1bac" prefix=" " category="inline-code"></block> ，<block ref="a288195832f8717bca4671416014a464" prefix=" " category="inline-code"></block> ， 或者<block ref="287e9593819b2fcdf9945e7ccacd637d" prefix=" " category="inline-code"></block>。</block>
  <block id="b5cbbe3dadaab4a036fdb38af67ee936" category="cell">若要套用於磁碟區的任意 JSON 格式標籤集</block>
  <block id="1631dca111b8c1a922c7f29d48eb7121" category="cell"><block ref="91e02cd2b8621d0c05197f645668c5c4" prefix="" category="inline-code"></block></block>
  <block id="c1a95f00cc65baba0b4226ef5a52eb6c" category="cell">Google Cloud 網路用於 GCNV 磁碟區。</block>
  <block id="ed9bce6a4d879e7f479badb9932b75b3" category="cell">故障排除時要使用的調試標誌。例子，<block ref="448bcae3131355f9b92b192b1057af2f" prefix=" " category="inline-code"></block> 。除非您正在進行故障排除並需要詳細的日誌轉儲，否則請勿使用此功能。</block>
  <block id="827683b582e1abfa2478a23d65a88a1f" category="cell">表示從後端支援的區域和區域列表。更多信息，請參閱<block ref="a735758eec435cad1c5672b75bd657c0" category="inline-link-macro-rx"></block>。例如：<block ref="1e97fdca2db62120d99c87c9fad7ac06" prefix=" " category="inline-code"></block></block>
  <block id="eb60cd2c0cff094ad0ecbe9d6fededcf" category="section-title">卷配置選項</block>
  <block id="afe8445a326424c54dfec7cc20994e8f" category="paragraph">您可以控制預設卷配置<block ref="a4a918a45181164207929d52aec36aec" prefix=" " category="inline-code"></block>設定檔部分。</block>
  <block id="95c5fc7684c0c685ae305908e8360de5" category="cell">新卷的出口規則。必須是以逗號分隔的 IPv4 位址列表，位址可以任意組合。</block>
  <block id="51b2015e6da8653f4041b71312ad43fe" category="cell">訪問<block ref="a15da8cecb1f1192c4d913b8ba676121" prefix=" " category="inline-code"></block>目錄</block>
  <block id="31ed61cc3c85d0bb697cd12b77f37fd1" category="cell">快照預留的磁碟區百分比</block>
  <block id="3731633acfd0b9fb847e03ce2fdab4fa" category="cell">（接受預設值 0）</block>
  <block id="f666bd4432d66c3d0a6c3eb68602a507" category="cell">新磁碟區的 Unix 權限（4 位八進位數字）。</block>
  <block id="9f857ec3fcdcb6ffcc762e0be5004aa2" category="paragraph">這是最基本的後端配置。透過此配置， Trident會發現您已委派給配置位置中Google Cloud NetApp Volumes的所有儲存池，並隨機將新磁碟區放置在其中一個儲存池上。因為<block ref="296026821ada2ab8aebcf13547a63df5" prefix=" " category="inline-code"></block>省略了<block ref="2521ef5d58fc027d3121662b7d8f9ac2" prefix=" " category="inline-code"></block>預設設定生效，後端將為 NFS 磁碟區進行設定。</block>
  <block id="b0663450e547d90a59ef16fd10b49313" category="paragraph">如果您剛開始使用Google Cloud NetApp Volumes並進行嘗試，這種配置是理想的，但在實踐中，您很可能需要為配置的磁碟區提供額外的範圍。</block>
  <block id="a61f1a0c3100fa19040c465723b8d138" category="example-title">SMB磁碟區配置</block>
  <block id="2d55ceabc505d58735d6f639a0ddee3c" category="example-title">使用儲存池過濾器進行配置</block>
  <block id="9f50e88dc1b2f50c32d6623a46186422" category="paragraph">此後端配置在一個檔案中定義了多個虛擬池。虛擬池在以下位置定義：<block ref="ddecebdea58b5f264d27f1f7909bab74" prefix=" " category="inline-code"></block>部分。當您有多個支援不同服務等級的儲存池，並且想要在 Kubernetes 中建立代表這些儲存層級的儲存類別時，它們非常有用。虛擬池標籤用於區分不同的池子。例如，在下面的例子中<block ref="c05f6c233521207f6fe311afef550c3c" prefix=" " category="inline-code"></block>標籤和<block ref="f1d0ae63f2e948a9e43dcc60303d595d" prefix=" " category="inline-code"></block>類型用於區分虛擬池。</block>
  <block id="88b8febb44310d1976318cdfbfc8e272" category="paragraph">您也可以設定一些適用於所有虛擬池的預設值，並覆寫各個虛擬池的預設值。在下面的例子中，<block ref="bb0d75280f9b683f2f1f0767fd0aff9b" prefix=" " category="inline-code"></block>和<block ref="c72971f17465d2a32345bc872af62a34" prefix=" " category="inline-code"></block>作為所有虛擬池的預設值。</block>
  <block id="6a34de146c5cb15d515a8eccfe1e159a" category="paragraph">更多信息，請參閱<block ref="2485f0c91682fe52be2f7fb65e682d5e" category="inline-link-macro-rx"></block>。</block>
  <block id="aae18f7253cac406ae284f53b287a9df" category="paragraph">若要驗證後端是否已建立成功，請執行下列命令：</block>
  <block id="03b8a172613e4de074d79fb4f46074a3" category="paragraph">如果後端建立失敗，則後端配置存在問題。您可以使用以下方式描述後端：<block ref="229abe1e223382a9207e6c5818f53303" prefix=" " category="inline-code"></block>執行以下命令查看日誌以確定原因：</block>
  <block id="c80946da495de259ca1ba66a90f669f1" category="paragraph">在您發現並修正設定檔中的問題後，您可以刪除後端並再次執行建立命令。</block>
  <block id="7412fabe1fe110c48954fa7d913c7aa6" category="paragraph">以下是一個基本內容<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block>上述後端所指的定義。</block>
  <block id="73edba1e6e192a3d47eeb049261cf706" category="paragraph">*使用以下範例定義<block ref="4d859186a09b1da3597e5901157d9400" prefix=" " category="inline-code"></block>場地：*</block>
  <block id="131942def57ce0eceb784a70e3a3c6b7" category="inline-link-macro">虛擬池</block>
  <block id="21f282d336bd6884d8049de5c63672b5" category="paragraph">使用<block ref="4d859186a09b1da3597e5901157d9400" prefix=" " category="inline-code"></block>你可以為每個物件指定。<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block>這<block ref="6679d756882db6798c9460928c0b140b" category="inline-link-macro-rx"></block>用於託管卷。該磁碟區將具有所選池中定義的方面。</block>
  <block id="017c90fe97524fad37b16a935c4a6d93" category="paragraph">有關存儲類別的更多詳細信息，請參閱<block ref="70514be1adf68f525abe0b1ddd1123f6" category="inline-link-macro-rx"></block>。</block>
  <block id="aaa0c40b2c8011bdffe750a1ba36c398" category="paragraph">使用<block ref="296026821ada2ab8aebcf13547a63df5" prefix=" " category="inline-code"></block>，<block ref="e12fdd044232e643620eed06bf33c7af" prefix=" " category="inline-code"></block> ， 和<block ref="1ad68a6a046942b7c1666aed825df70a" prefix=" " category="inline-code"></block>您可以指定 SMB 磁碟區並提供所需的 Active Directory 憑證。任何 Active Directory 使用者/密碼，無論擁有任何權限或沒有權限，都可以用作節點階段金鑰。</block>
  <block id="f9f2eb48a9034cb5dc809b4a8cfe0514" category="section-title">PVC定義範例</block>
  <block id="1fa71ec0db169cb1ef6cfabf7648910e" category="paragraph">若要驗證 PVC 是否已綁定，請執行以下命令：</block>
  <block id="42d7c2849e22a4d78da8b275f64f75aa" category="summary">在設定Google Cloud NetApp Volumes後端之前，您需要確保符合下列要求。</block>
  <block id="b50d4e4fb1b847d1270df87e42364fe0" category="doc">準備設定Google Cloud NetApp Volumes後端</block>
  <block id="0935df2153a18d9a4776751ebfb7cb82" category="section-title">NFS 磁碟區的先決條件</block>
  <block id="a03c3224ff98ca5b518f8a11ed9d6f72" category="paragraph">如果您是第一次使用Google Cloud NetApp Volumes或在新的位置使用，則需要進行一些初始設定來設定Google Cloud NetApp Volumes並建立 NFS 磁碟區。參考<block ref="d2edeebd0b5ddcd8a293f6eb7960f37c" category="inline-link-macro-rx"></block>。</block>
  <block id="ec8b4b1603705e8f5deb17b1f83c5b04" category="paragraph">在設定Google Cloud NetApp Volumes後端之前，請確保您已具備以下條件：</block>
  <block id="cbd1a08f0c7e9ece495b85acebbda95f" category="list-text">已設定Google Cloud NetApp Volumes服務的 Google Cloud 帳戶。參考<block ref="633097af004065de10009ea2f33900c4" category="inline-link-macro-rx"></block>。</block>
  <block id="d602f37c15ba943e502f28694eb5a2b1" category="inline-link-macro">確定項目</block>
  <block id="ecf1c0124555e123ac90e38128ef83e5" category="list-text">您的 Google Cloud 帳戶項目編號。參考<block ref="64c0ff4c5d45f1d3f3d8ce4197eed1cc" category="inline-link-macro-rx"></block>。</block>
  <block id="aa22e5fd0429d1ecf78d5deedf0c6dc8" category="inline-link-macro">身分和存取管理角色和權限</block>
  <block id="d0e48e9528072c6ff90b82adeab94dea" category="list-text">擁有NetApp Volumes 管理員權限的 Google Cloud 服務帳戶<block ref="04bf1a6a0250bc9d4cba09ee34106dfc" prefix="(" category="inline-code"></block>） 角色。參考<block ref="4f506c30a158c85db714d53536a12770" category="inline-link-macro-rx"></block>。</block>
  <block id="ec0fec1613e760b6689b9fb4990bdb46" category="inline-link-macro">建立服務帳戶金鑰</block>
  <block id="704f74ac9dc2a2a60c73df6b9d8a9eff" category="list-text">GCNV帳戶的API金鑰檔案。請參閱<block ref="068ee9c4fdcce4c0fd131a7dd8fe524f" category="inline-link-macro-rx"></block></block>
  <block id="ef2186bedd233e9b009e5d1764dc1e3c" category="inline-link-macro">儲存池概覽</block>
  <block id="33773afc759728866f9a57d82940a56c" category="list-text">儲水池。參考<block ref="d347dce2da907b926fcf6a02a7257712" category="inline-link-macro-rx"></block>。</block>
  <block id="dd2c158264290c91be79556252aca308" category="inline-link-macro">設定對Google Cloud NetApp Volumes 的存取權限</block>
  <block id="7cef0ad261753740989fa192df2e19e9" category="paragraph">有關如何設定對Google Cloud NetApp Volumes 的存取權限的更多信息，請參閱：<block ref="5e9b4ec852ec4a511a1370be58118d01" category="inline-link-macro-rx"></block> 。</block>
  <block id="d7532ab2cf050869a37a3b301475208c" category="paragraph">現在您可以將Google Cloud NetApp Volumes設定為Trident的後端。您可以使用Google Cloud NetApp Volumes後端來附加 NFS 和 SMB 磁碟區。</block>
  <block id="23fa813a6884f33dc0d2070ae5260e6a" category="section-title">Google Cloud NetApp Volumes驅動程式詳情</block>
  <block id="6db42dae8341edee9e823963baa82d9d" category="paragraph">Trident提供<block ref="94594b2ccbc8e0d220ad37504461650b" prefix=" " category="inline-code"></block>驅動程式與集群通訊。支援的存取模式有：_ReadWriteOnce_ (RWO)、_ReadOnlyMany_ (ROX)、_ReadWriteMany_ (RWX)、_ReadWriteOncePod_ (RWOP)。</block>
  <block id="5ab9649a1218ec1b35bfb38efbeaea76" category="cell"><block ref="94594b2ccbc8e0d220ad37504461650b" prefix="" category="inline-code"></block></block>
  <block id="dd0d8a6eeca2940c60cd0ac812afed1d" category="paragraph">雲端身分使 Kubernetes pod 能夠透過作為工作負載身分進行驗證來存取 Google Cloud 資源，而無需提供明確的 Google Cloud 憑證。</block>
  <block id="299b031aaa6fc8a06127791cf12decf9" category="paragraph">若要在 Google Cloud 中利用雲端身分功能，您必須具備以下條件：</block>
  <block id="df181b0b41273ec7065dab05b4a6da10" category="list-text">使用 GKE 部署的 Kubernetes 叢集。</block>
  <block id="239be7c008105ac7fd4ca34940e848dd" category="list-text">在 GKE 叢集上配置工作負載標識，並在節點池上配置 GKE 元資料伺服器。</block>
  <block id="cf1b0c32b7f8d889140a0a7a048bc29b" category="list-text">具有Google Cloud NetApp Volumes管理員 (roles/netapp.admin) 角色或自訂角色的 GCP 服務帳戶。</block>
  <block id="b70329a4cd0d7e433e8af087eebce89a" category="list-text">Trident已安裝，其中包括 cloudProvider（指定「GCP」）和 cloudIdentity（指定新的 GCP 服務帳戶）。下面給出一個例子。</block>
  <block id="3bd49228e6aff48852b023fa1ceaf62c" category="paragraph">若要使用Trident操作員安裝Trident ，請編輯<block ref="244895464fd1d6c7ff5a2044c324c0fc" prefix=" " category="inline-code"></block>設定<block ref="d19f2c0377f3ed7cab9377cf066cb7ef" prefix=" " category="inline-code"></block>到<block ref="9856712fdf7563a4074fc130ed9f0755" prefix=" " category="inline-code"></block>並設定<block ref="89abe9fddbe3cf0f9bcd7779fe4aed69" prefix=" " category="inline-code"></block>到<block ref="90f8fb110d694743ec7a069beef76b7b" prefix=" " category="inline-code"></block>。</block>
  <block id="a7080c23e8c14c73db47d3f3e492003c" category="paragraph"><block ref="9e6b25667a12ee82b7da8f90b3adfb4d" prefix="" category="inline-code"></block><block ref="e831869c37ce314b5ade82786bf3348f" prefix=" " category="inline-code"></block></block>
  <block id="7ba174e1291062b960ec1b8607b6e1e2" category="paragraph">以下範例安裝Trident並進行設置<block ref="d19f2c0377f3ed7cab9377cf066cb7ef" prefix=" " category="inline-code"></block>使用環境變數連接到 GCP<block ref="e7b51407a2bfaa34b58afce0107e9a5f" prefix=" " category="inline-code"></block>並設定<block ref="89abe9fddbe3cf0f9bcd7779fe4aed69" prefix=" " category="inline-code"></block>使用環境變數<block ref="fab50dca589d1a68fdf56bd4ae0b4a83" prefix=" " category="inline-code"></block>：</block>
  <block id="bde178d22672aa38120646e529ed04b5" category="paragraph">以下範例安裝Trident並進行設置<block ref="e33bb4eb32023da4a8ea7a1ba6927067" prefix=" " category="inline-code"></block>標記<block ref="e7b51407a2bfaa34b58afce0107e9a5f" prefix=" " category="inline-code"></block>， 和<block ref="c5af480af77c330e04a1fce1f6c2b03a" prefix=" " category="inline-code"></block>到<block ref="fab50dca589d1a68fdf56bd4ae0b4a83" prefix=" " category="inline-code"></block>：</block>
  <block id="ff87a1c47933f4d6895655dd61ad9d5c" category="summary">了解如何使用提供的範例配置，將 Google Cloud 的Cloud Volumes Service配置為Trident安裝的後端。</block>
  <block id="53ba532dfa04fe29152221a3efb3e98f" category="doc">為 Google Cloud 後端設定Cloud Volumes Service</block>
  <block id="6385dfeab6eb1cdf5e0b269b83c02870" category="paragraph">了解如何使用提供的範例配置，將NetApp Cloud Volumes Service for Google Cloud 配置為Trident安裝的後端。</block>
  <block id="8126e96f64b1a5de24d4cf6e4b09b986" category="section-title">Google Cloud 驅動程式詳情</block>
  <block id="f501f5f541b4e828bada7eb37751ec96" category="paragraph">Trident提供<block ref="5935ea92cdd7d975b4e764b429f21c01" prefix=" " category="inline-code"></block>驅動程式與集群通訊。支援的存取模式有：_ReadWriteOnce_ (RWO)、_ReadOnlyMany_ (ROX)、_ReadWriteMany_ (RWX)、_ReadWriteOncePod_ (RWOP)。</block>
  <block id="bc3c06062e58c58165fa787186ae374c" category="section-title">了解Trident對 Google Cloud Cloud Volumes Service 的支持</block>
  <block id="1d326a2a7f267c800fe3eafb89e5c7cd" category="inline-link-macro">服務類型</block>
  <block id="fe7058df6a1b56e94957ef68f8ddf955" category="paragraph">Trident可以在以下兩種格式之一建立Cloud Volumes Service磁碟區：<block ref="a3cd55e5a9ff014b76f6953040234c24" category="inline-link-macro-rx"></block> ：</block>
  <block id="3671a5060127094ad405aad9295e6609" category="inline-link-macro">三個服務級別</block>
  <block id="48cbfcdcce7c2c2d2876ce5a2c74ea32" category="list-text">*CVS-Performance*： Trident 的預設服務類型。這種效能優化型服務類型最適合重視效能的生產工作負載。 CVS-Performance 服務類型是一種硬體選項，支援最小 100 GiB 大小的磁碟區。您可以選擇其中之一<block ref="87d12cea36129673eb9128fd986958c5" category="inline-link-macro-rx"></block>：</block>
  <block id="1b3b34a1280074ca8311ff50bbacac6c" category="list-text"><block ref="c00f0c4675b91fb8b918e4079a0b1bac" prefix="" category="inline-code"></block></block>
  <block id="3f27980baf5bae9c9c40df09c54f6f23" category="list-text"><block ref="a288195832f8717bca4671416014a464" prefix="" category="inline-code"></block></block>
  <block id="091d891c1f040cef1072e2593b7f1f3b" category="list-text"><block ref="287e9593819b2fcdf9945e7ccacd637d" prefix="" category="inline-code"></block></block>
  <block id="1048ee58172376b84dda9c7505d858ea" category="inline-link-macro">兩種服務級別</block>
  <block id="6c62a8c68facf167a61fbd54e9cceb5f" category="list-text">*CVS*：CVS 服務類型提供較高的區域可用性，但效能水準有限或中等。 CVS 服務類型是一種軟體選項，它使用儲存池來支援小至 1 GiB 的磁碟區。儲存池最多可包含 50 個磁碟區，所有磁碟區共用池的容量和效能。您可以選擇其中之一<block ref="21d52e1e64b94d45bea308be30f5a76a" category="inline-link-macro-rx"></block>：</block>
  <block id="277d5dd64fbcc2dbcd79252b41d6113e" category="list-text"><block ref="317ec56a799e879712bbd2d0fcbd3b93" prefix="" category="inline-code"></block></block>
  <block id="4bfd77bf3278584b71bc8c9deef39ca9" category="list-text"><block ref="75b65576cc4a19f0836b73610ad5957a" prefix="" category="inline-code"></block></block>
  <block id="b0cee72642f5457a71ddd0b49efb6d93" category="inline-link">適用於 Google Cloud 的Cloud Volumes Service</block>
  <block id="da195e41c537042ae77405110c4512ff" category="paragraph">配置和使用<block ref="5129d3f1116e9c5221bfcf965a1ede35" category="inline-link-rx"></block>後端需要以下組件：</block>
  <block id="66d7ad821e261a4b5099f37ced19ebb1" category="list-text">已配置NetApp Cloud Volumes Service的 Google Cloud 帳戶</block>
  <block id="2c00ff9c7700dc3529c57f0a5281bbe2" category="list-text">您的 Google Cloud 帳戶的項目編號</block>
  <block id="43752d169c5729fffa3a6557a0978cb8" category="list-text">擁有 Google Cloud 服務帳戶<block ref="4a5395c87dd91b3242056f83b7cedb9b" prefix=" " category="inline-code"></block>角色</block>
  <block id="f56a3add505b7e123b55b814f7acc26b" category="list-text">您的Cloud Volumes Service帳戶的 API 金鑰文件</block>
  <block id="07cc9934740ba3dd46a0d7d2c9502d39" category="cell">"gcp-cvs"</block>
  <block id="6eb82a822b962404b9694b93f2967679" category="cell"><block ref="78ec9b60245b46a4f05158076962ace9" prefix="" category="inline-code"></block></block>
  <block id="d75d4a2bd644e06cc6588477267e33d8" category="cell">用於指定 CVS 服務類型的可選參數。使用<block ref="f9fa10ba956cacf91d7878861139efb9" prefix=" " category="inline-code"></block>選擇 CVS 服務類型。否則， Trident會假定為 CVS-Performance 服務類型<block ref="3ca14c518d1bf901acc339e7c9cd6d7f" prefix="(" category="inline-code"></block>）。</block>
  <block id="4efa10ec47c98c5ed67e1a72f7515240" category="cell">僅限CVS服務類型。用於指定磁碟區建立儲存池的可選參數。</block>
  <block id="1a269fb3ec0496720ca75e984d8de40e" category="cell"><block ref="b5caf2c58446baec75b83bf637a98d1b" prefix="" category="inline-code"></block></block>
  <block id="f0559497c76611a262c1a6fa93592cd7" category="cell">如果使用共用 VPC 網絡，則必須執行此操作。在這種情況下，<block ref="80ef6899136dfcff295c16caa93c2138" prefix=" " category="inline-code"></block>這是一個服務項目，而且<block ref="b5caf2c58446baec75b83bf637a98d1b" prefix=" " category="inline-code"></block>是宿主項目。</block>
  <block id="2086191016950a784040f7d22ab27f60" category="cell"><block ref="1e9c0fd1beef5ff8ed3bef2ae3b7e560" prefix="" category="inline-code"></block></block>
  <block id="dc7c0c7001706c97a9a03d5f77e6883e" category="cell">Trident建立Cloud Volumes Service區的 Google Cloud 區域。建立跨區域 Kubernetes 叢集時，在下列位置建立的磁碟區：<block ref="1e9c0fd1beef5ff8ed3bef2ae3b7e560" prefix=" " category="inline-code"></block>可用於跨多個 Google Cloud 區域的節點上調度的工作負載。跨區域運輸會產生額外費用。</block>
  <block id="665f1a07bc016a07fdc13ef823fcdb03" category="cell">用於 Google Cloud 服務帳戶的 API 金鑰<block ref="4a5395c87dd91b3242056f83b7cedb9b" prefix=" " category="inline-code"></block>角色。它包含 Google Cloud 服務帳戶私鑰檔案的 JSON 格式內容（原封不動地複製到後端設定檔中）。</block>
  <block id="af18429250667f805769a7755a008c1f" category="cell"><block ref="10231d8ea5ef7f2b145e34a646b05e79" prefix="" category="inline-code"></block></block>
  <block id="3430995d97c2d987bf88dfb93ddb34f7" category="cell">如果需要代理伺服器才能連接到 CVS 帳戶，請提供代理 URL。代理伺服器可以是HTTP代理，也可以是HTTPS代理。對於 HTTPS 代理，會跳過憑證驗證，以允許在代理伺服器中使用自簽名憑證。不支援啟用身份驗證的代理伺服器。</block>
  <block id="c4105759a421b56f4e5aa47752aa6812" category="cell">CVS-Performance 或 CVS 服務等級（適用於新磁碟區）。  CVS-Performance 值是<block ref="c00f0c4675b91fb8b918e4079a0b1bac" prefix=" " category="inline-code"></block>，<block ref="a288195832f8717bca4671416014a464" prefix=" " category="inline-code"></block> ， 或者<block ref="287e9593819b2fcdf9945e7ccacd637d" prefix=" " category="inline-code"></block>。  CVS 值是<block ref="317ec56a799e879712bbd2d0fcbd3b93" prefix=" " category="inline-code"></block>或者<block ref="75b65576cc4a19f0836b73610ad5957a" prefix=" " category="inline-code"></block>。</block>
  <block id="5c3d9364df4807427e3297a90edf2831" category="cell">CVS-Performance 預設值為「標準」。  CVS 預設值為“standardsw”。</block>
  <block id="5715e76155b75e9062107ef13c0576ed" category="cell">Google Cloud 網路用於Cloud Volumes Service磁碟區。</block>
  <block id="ad438db80cb3bcd5f6fccdb1010b02f1" category="cell">故障排除時要使用的調試標誌。例子，<block ref="9b8710f6da218ae915e4ba2ae63f23d0" prefix=" " category="inline-code"></block> 。除非您正在進行故障排除並需要詳細的日誌轉儲，否則請勿使用此功能。</block>
  <block id="a5f4597012dd7af2b717fd4cc2f687fe" category="cell"><block ref="df6ccab784b5892507a7d11443254dc8" prefix="" category="inline-code"></block></block>
  <block id="d2e98deb07632de971600ae032776fe8" category="cell">若要啟用跨區域訪問，您的 StorageClass 定義如下：<block ref="df6ccab784b5892507a7d11443254dc8" prefix=" " category="inline-code"></block>必須包含所有地區。例如：<block ref="3e7c75911911d149520dd40104fd92d7" prefix=" " category="inline-code"></block></block>
  <block id="fdcd5d79603b7f7c0f9b4525dd19b6ab" category="cell">新卷的出口規則。必須是以逗號分隔的 IPv4 位址或 IPv4 子網路的列表，採用 CIDR 表示法。</block>
  <block id="c07fbc0b2a1a865fe9e3a55c05b4f690" category="cell">“錯誤的”</block>
  <block id="e76dcf1d6497658a2994b5f1f65b7a83" category="cell">（接受 CVS 預設值 0）</block>
  <block id="d5c8102144978e060556ba194e006d1e" category="cell">新卷的規模。  CVS-Performance 最低要求為 100 GiB。  CVS 最小容量為 1 GiB。</block>
  <block id="400f2f53e7d26564783ac50a601d32cb" category="cell">CVS-Performance 服務類型預設為「100GiB」。  CVS 服務類型不設定預設值，但要求至少 1 GiB。</block>
  <block id="94e5c486f56b72f4237fe801615b4406" category="section-title">CVS-Performance 服務類型範例</block>
  <block id="dea6ff4202a54251e04f7b84647690b6" category="paragraph">以下範例提供了 CVS-Performance 服務類型的範例設定。</block>
  <block id="25f4894ddaab3c1182f12732d3bcf889" category="example-title">範例 1：最小配置</block>
  <block id="ae174742813090d1ddbc3ed75d27f7f2" category="paragraph">這是使用預設 CVS-Performance 服務類型和預設「標準」服務等級的最小後端配置。</block>
  <block id="8228a8de88271b4a6a07d5021ae4ff7c" category="example-title">範例 2：服務等級配置</block>
  <block id="38a24bdf59c77f7705c407c60f3ea81e" category="paragraph">此範例展示了後端配置選項，包括服務等級和磁碟區預設值。</block>
  <block id="4565a2282ee3312eddd091b3a3f6a263" category="example-title">範例 3：虛擬池配置</block>
  <block id="ed7c2c2093c7c8deca88a6580c82633a" category="paragraph">此範例使用<block ref="ddecebdea58b5f264d27f1f7909bab74" prefix=" " category="inline-code"></block>配置虛擬池和<block ref="f652904c3bfb48fb25a0a75f485f0ff6" prefix=" " category="inline-code"></block>指的是他們。請參閱<block ref="f986c11e10e5f3c768f256080a1f3f99" category="inline-xref-macro-rx"></block>查看儲存類別的定義方式。</block>
  <block id="935927e4b464388790a08251e1c2254d" category="paragraph">這裡為所有虛擬池設定了特定的預設值，這些預設值決定了：<block ref="bb0d75280f9b683f2f1f0767fd0aff9b" prefix=" " category="inline-code"></block> 5%和<block ref="c72971f17465d2a32345bc872af62a34" prefix=" " category="inline-code"></block>至 0.0.0.0/0。虛擬池在以下位置定義：<block ref="ddecebdea58b5f264d27f1f7909bab74" prefix=" " category="inline-code"></block>部分。每個虛擬池都定義了自己的規則。<block ref="f1d0ae63f2e948a9e43dcc60303d595d" prefix=" " category="inline-code"></block>並且有些池會覆蓋預設值。虛擬池標籤用於根據以下因素區分池子：<block ref="c05f6c233521207f6fe311afef550c3c" prefix=" " category="inline-code"></block>和<block ref="152f5dc0f7ac734f8e8ee17d4a482462" prefix=" " category="inline-code"></block>。</block>
  <block id="5b797cdb3913e416eaea99109620eb0d" category="paragraph">以下 StorageClass 定義適用於虛擬池設定範例。使用<block ref="bed471c4a88e25ac9a7e4a7b980700a8" prefix=" " category="inline-code"></block>您可以為每個 StorageClass 指定用於託管磁碟區的虛擬池。該磁碟區將具有所選池中定義的方面。</block>
  <block id="ea7cdbae94b0329e6731e1f3ae9fc4fc" category="example-title">儲存類別範例</block>
  <block id="48bbf2b27d410d92674b0f8f5d3447a0" category="list-text">第一個儲存類<block ref="d3b08f69c5bb5aadd45b7ba9391c7447" prefix="(" category="inline-code"></block>) 映射到第一個虛擬池。這是唯一提供極致效能且快照儲備為 10% 的儲存池。</block>
  <block id="7630c5d33e3b852f758af8c20c4caefb" category="list-text">最後一個儲存類別<block ref="92c87bc6be7db462499a5a2258aa7ba9" prefix="(" category="inline-code"></block>) 呼叫任何提供 10% 快照保留的儲存池。  Trident決定選擇哪個虛擬池，並確保滿足快照儲備要求。</block>
  <block id="d371b8466ee11b2a14782e343e3ed344" category="section-title">CVS 服務類型範例</block>
  <block id="f7a4e685ebf6839fc43b3bbaeff96c33" category="paragraph">以下範例提供了 CVS 服務類型的範例配置。</block>
  <block id="96899a80429985fe87db6dedf997357e" category="example-title">範例 1：最小配置</block>
  <block id="2bab01748045e624b36f643d0a50b1c2" category="paragraph">這是使用最簡後端配置<block ref="78ec9b60245b46a4f05158076962ace9" prefix=" " category="inline-code"></block>指定 CVS 服務類型和預設值<block ref="317ec56a799e879712bbd2d0fcbd3b93" prefix=" " category="inline-code"></block>服務水平。</block>
  <block id="d1f5fcc31a1c5bb592600c9f986af71c" category="example-title">範例 2：儲存池配置</block>
  <block id="879b7d1da5135e7d94358584a7245e33" category="paragraph">此範例後端配置使用<block ref="c614017642b6cfd9e6a25c7df122d917" prefix=" " category="inline-code"></block>配置儲存池。</block>
  <block id="a22a8450047f7b7aea2c76b348f6ba43" category="summary">您可以查看現有儲存類別、設定預設儲存類別、識別儲存類別後端以及刪除儲存類別。</block>
  <block id="e8b9c3a9859a62e9a58431c3b61f75d5" category="doc">管理儲存類別</block>
  <block id="e606165355271961ba07945766fbf83a" category="section-title">查看現有儲存類</block>
  <block id="7c237bc6c124137d25df2dec1cb3e528" category="list-text">若要查看現有的 Kubernetes 儲存類，請執行下列命令：</block>
  <block id="4aae22fbb9c0d354d0a9c15c6c126d89" category="list-text">要查看 Kubernetes 儲存類別詳細信息，請執行以下命令：</block>
  <block id="ab10f4a91ef779d380fca281ef9df578" category="list-text">若要查看 Trident 的同步儲存類，請執行下列命令：</block>
  <block id="0953527d940d16d1979f49a4ac5bc746" category="list-text">要查看 Trident 的同步儲存類別詳細信息，請執行以下命令：</block>
  <block id="ce32eb748bd7452bd6ee6d1d7ad6d3a7" category="section-title">設定預設儲存類</block>
  <block id="f30a1542c01c3c493f3c01c88dfe5fcd" category="paragraph">Kubernetes 1.6 增加了設定預設儲存類別的功能。如果使用者未在持久性磁碟區宣告 (PVC) 中指定持久卷，則將使用此儲存類別來設定持久性磁碟區。</block>
  <block id="7c435ae4763642458286cb691812ea55" category="list-text">透過設定註解來定義預設儲存類<block ref="2e87d06175a666e414e1b430b811ef2d" prefix=" " category="inline-code"></block>在儲存類別定義中設定為 true。根據規範，任何其他值或缺少註釋均被解釋為錯誤。</block>
  <block id="61fd76f55d29aaceb4a6ee09a318dc45" category="list-text">您可以使用下列命令將現有儲存類別配置為預設儲存類別：</block>
  <block id="800477137444bec636483de85335cbb5" category="list-text">同樣，您可以使用以下命令移除預設的儲存類別註解：</block>
  <block id="2d2f31c3012657fd7b38b41312d1a0b8" category="paragraph">Trident安裝程式包中也有一些包含此註解的範例。</block>
  <block id="e372af4ebeb99af557aa13609f47f47c" category="admonition">叢集中一次只能存在一個預設儲存類別。從技術上講，Kubernetes 不會阻止你擁有多個預設儲存類，但它的行為就好像根本沒有預設儲存類別一樣。</block>
  <block id="6c36cb9c072dc4cb9e163c44568f6a91" category="section-title">確定儲存類別的後端</block>
  <block id="a78b12e067ec1975a317cab6fc947692" category="paragraph">這是一個您可以使用 JSON 回答的問題範例：<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block> Trident後端物件的輸出。這使用<block ref="d8757fb4e9ea07606d23a1ef5a4b8d4e" prefix=" " category="inline-code"></block>您可能需要先安裝該實用程式。</block>
  <block id="0fe0aa7b9b7529f66030afb1629507bb" category="section-title">刪除儲存類</block>
  <block id="4bf50148821c75f616a96daca9255e6f" category="paragraph">若要從 Kubernetes 中刪除儲存類，請執行以下命令：</block>
  <block id="65494a0b3404ce637afd88bcb7c82998" category="paragraph"><block ref="4c13babc60c6bf50b7fe85107bcf8af2" prefix="" category="inline-code"></block>應該替換成你的儲存類別。</block>
  <block id="2538c9a2100f674ce2db1e4b4c26315f" category="paragraph">透過此儲存類別建立的任何持久性磁碟區都將保持不變， Trident將繼續管理它們。</block>
  <block id="ad882e33b96ca33000804dbc738d1d50" category="admonition">Trident強制執行空白<block ref="7cfbb6f07899c8071ff38e69dca190e2" prefix=" " category="inline-code"></block>因為它創造了大量的銷售。對於 iSCSI 後端，建議強制執行<block ref="01cd995fd9a843d3ca767e057de28873" prefix=" " category="inline-code"></block>在儲存類別中。您應該刪除現有的 StorageClasses 並重新建立它們。<block ref="01cd995fd9a843d3ca767e057de28873" prefix=" " category="inline-code"></block>指定的。</block>
  <block id="0c2d4b956840e91a5026f299d11e6b2a" category="summary">Trident提供了一組 Prometheus 指標端點，您可以使用這些端點來監控 Trident 的效能。</block>
  <block id="f3bf54ffbc2b1eef233e6a26009af940" category="doc">監視Trident</block>
  <block id="023417a8020b969b0bbe5cc6cf816d22" category="paragraph">Trident提供了一組 Prometheus 指標端點，您可以使用這些端點來監控Trident 的效能。</block>
  <block id="5e65c891836aee4c311dc1e3dcbd072f" category="paragraph">Trident提供的指標讓您可以執行以下操作：</block>
  <block id="35ada9c61125e74058c883f83c6c6867" category="list-text">密切注意 Trident 的健康狀況和配置。您可以檢查操作是否成功，以及是否能如預期與後端通訊。</block>
  <block id="64dbac0ca36d9b1f6a8cf1e8a0123261" category="list-text">檢查後端使用資訊，了解後端配置了多少磁碟區、消耗了多少空間等等。</block>
  <block id="7f6516030964b624d9c71fd9ec7f83dd" category="list-text">維護可用後端已配置卷量的映射表。</block>
  <block id="35ff0baf577051daffe0a27ab0d03c9e" category="list-text">賽道表現。您可以查看Trident與後端通訊和執行作業所需的時間。</block>
  <block id="efe0d75090a22534acabc936f8669994" category="admonition">預設情況下，Trident 的指標會暴露在目標連接埠上。<block ref="bc3c4a6331a8a9950945a1aa8c95ab8a" prefix=" " category="inline-code"></block>在<block ref="ae3b848d2daecffc635ae20b0b882d8f" prefix=" " category="inline-code"></block>端點。安裝Trident時，這些指標*預設為啟用*。</block>
  <block id="cb9109c9018f4c25d0545bac0f21176f" category="list-text">已安裝Trident的 Kubernetes 叢集。</block>
  <block id="eb8bfd69bb88378a6f4d987811890ce6" category="inline-link">容器化的 Prometheus 部署</block>
  <block id="42ae2e91a939ffa9bbda53c10bf5f89f" category="inline-link">本機應用程式</block>
  <block id="050899631250104f17d24b27cc8a12e5" category="list-text">普羅米修斯實例。這可能是一個<block ref="bd5b9e4bd7b88b90afb221fb760a777c" category="inline-link-rx"></block>或者您可以選擇以某種方式運行 Prometheus<block ref="3f1d5beaea78c0fd8cb397fbeb1c88bd" category="inline-link-rx"></block> 。</block>
  <block id="68276ca40dfbfd36de911402152fa452" category="section-title">步驟 1：定義 Prometheus 目標</block>
  <block id="67cc72b550d17849cb7141b0b95aea77" category="paragraph">您應該定義一個 Prometheus 目標來收集指標並獲取有關Trident管理的後端、它創建的捲等的資訊。這<block ref="dc7964965bf1b3af43b28caf6231e550" category="inline-link-rx"></block>解釋如何將 Prometheus 和 Grafana 與Trident結合使用來檢索指標。這篇部落格解釋瞭如何在 Kubernetes 叢集中以 Operator 的形式運行 Prometheus，以及如何建立 ServiceMonitor 來取得Trident指標。</block>
  <block id="c33638e0de87536b08eeb94264671d0f" category="section-title">步驟 2：建立 Prometheus 服務監視器</block>
  <block id="81a21a88b42cd5c83d149a080a627bad" category="paragraph">要使用Trident指標，您應該建立一個 Prometheus ServiceMonitor 來監視<block ref="d9585690fd147c34fbd50c487a3520de" prefix=" " category="inline-code"></block>服務和監聽<block ref="aa59d67c2123f094d0d6798ffe651c4d" prefix=" " category="inline-code"></block>港口。一個範例 ServiceMonitor 如下所示：</block>
  <block id="a36c5d8fdf28501b60d84fa4b009f7c9" category="paragraph">此 ServiceMonitor 定義擷取由下列方式傳回的指標：<block ref="d9585690fd147c34fbd50c487a3520de" prefix=" " category="inline-code"></block>服務，特別是尋找<block ref="aa59d67c2123f094d0d6798ffe651c4d" prefix=" " category="inline-code"></block>服務的端點。因此，Prometheus 現在已配置為能夠理解 Trident 的指標。</block>
  <block id="b25be1046c4629be0262d9873a147d96" category="paragraph">除了Trident直接提供的指標外，kubelet 還公開了許多其他指標。<block ref="f706c2d1cef9479098166eec3d215483" prefix=" " category="inline-code"></block>透過其自身的指標端點獲取指標。 Kubelet 可以提供有關已附加磁碟區、Pod 以及它處理的其他內部操作的資訊。參考<block ref="3f1f0977d0df3e8b343e403140284021" category="inline-link-rx"></block>。</block>
  <block id="1db2022a8a8de5d612eda8e3be0e1065" category="section-title">步驟 3：使用 PromQL 查詢Trident指標</block>
  <block id="f5142e19a3b1edf809fce9d3b6aefc05" category="paragraph">PromQL 非常適合建立返回時間序列或表格資料的表達式。</block>
  <block id="8c6fb1be2521fd16337c11c626672678" category="paragraph">以下是您可以使用的 PromQL 查詢：</block>
  <block id="b214fd0009b3929347f097bd843f0bfd" category="section-title">獲取Trident健康資訊</block>
  <block id="0665ea39a4ca4388763b36eda9a3986d" category="list-text">Trident伺服器 HTTP 2XX 回應的百分比</block>
  <block id="26cd09e35e7d03c2f93f8d6a691c8567" category="list-text">** Trident REST 回應狀態碼百分比**</block>
  <block id="5919ab2f7a44a6b3f0a6741f7b0f3f86" category="list-text">** Trident執行操作的平均持續時間（毫秒）**</block>
  <block id="57421d698299c713c3afb841620271d8" category="section-title">獲取Trident使用信息</block>
  <block id="f160a52d617adf6e6c5d379a9b8bca89" category="list-text">平均體積大小</block>
  <block id="eb978bfe01ec0c72ad231f3953e304a2" category="list-text">**各後端分配的總儲存空間**</block>
  <block id="5f735ae12eafbe476178928f4645475b" category="section-title">取得個人用量</block>
  <block id="ee0898e9f0caa503f3eaa39c919f4c53" category="admonition">只有同時收集 kubelet 指標時，此功能才會啟用。</block>
  <block id="0bc301d2423b2ffaa38a5e275e4ec6f9" category="list-text">**各卷冊的空間利用率**</block>
  <block id="3ed8ff2d40a8a68841cd7d548c47f079" category="section-title">了解Trident AutoSupport遙測技術</block>
  <block id="b5fb620a79591716feab3605e0045775" category="paragraph">預設情況下， Trident每天向NetApp發送 Prometheus 指標和基本後端資訊。</block>
  <block id="41cc8a517566946bcfd42776583c2946" category="list-text">若要阻止Trident向NetApp發送 Prometheus 指標和基本後端訊息，請傳遞以下參數：<block ref="284e51f7c35ac8708577507873ff928e" prefix=" " category="inline-code"></block>在Trident安裝過程中發出警報。</block>
  <block id="ca0f9a86ca33f1d6baa9051bd7f4ed21" category="inline-link">隱私權政策</block>
  <block id="2293c34fd6ddef40c9c9ecb540c27898" category="list-text">Trident也可以按需透過以下方式將容器日誌傳送給NetApp支援：<block ref="8cf945b97dde0c7bfc643bea7edbff67" prefix=" " category="inline-code"></block> 。您需要觸發Trident上傳其日誌。在提交日誌之前，您應該接受 NetApp 的條款。<block ref="91b6c0438017ba5fa21c286a96d5acb4" category="inline-link-rx"></block> 。</block>
  <block id="517af010cc9f1850ec10fc55631d3437" category="list-text">除非另有說明， Trident會取得過去 24 小時的日誌。</block>
  <block id="5224919a4ae5ccf610fb0ee74e4e7a94" category="inline-link">Trident AutoSupport</block>
  <block id="cc368c6d3d859a01a63550429f01cb9c" category="list-text">您可以使用以下方式指定日誌保留時間範圍：<block ref="86339c2ed773d5bd944b82d3086d3477" prefix=" " category="inline-code"></block>旗幟。例如：<block ref="e238339d491d4840f7d8e509bdbb7b63" prefix=" " category="inline-code"></block> 。這些資訊透過以下方式收集和發送：<block ref="9d80ca17f097c8e365550f4036ccf0e3" prefix=" " category="inline-code"></block>與Trident一起安裝的容器。您可以從以下位置取得容器鏡像：<block ref="1b00454f0ab35dcec2ee1a0061efc6e5" category="inline-link-rx"></block> 。</block>
  <block id="53084cad3d11df800502598c11e2d10b" category="inline-link">最終用戶許可協議</block>
  <block id="b9a641d903e611a87a5e68ac7fdb0b84" category="list-text">Trident AutoSupport不會收集或傳輸個人識別資訊 (PII) 或個人資訊。它附帶一個<block ref="173a360b412944768c2ab13e6c8fd1c7" category="inline-link-rx"></block>這並不適用於Trident容器鏡像本身。您可以了解更多關於NetApp對資料安全和信任的承諾。<block ref="d3cc55401bc8303e01c6b0c43ba0733f" category="inline-link-rx"></block> 。</block>
  <block id="b508f8888445cd57bcf910ed51afb0dd" category="paragraph">Trident發送的有效載荷範例如下所示：</block>
  <block id="d2ec86f126f845e79aff07e70bf89472" category="list-text">AutoSupport訊息會傳送到 NetApp 的AutoSupport端點。如果您使用私有鏡像倉庫來存放容器鏡像，則可以使用<block ref="53b228c1c8295f49b0c35325e14fcd6a" prefix=" " category="inline-code"></block>旗幟。</block>
  <block id="86c5a11fba83815412aec79f67f2d276" category="list-text">您也可以透過產生安裝 YAML 檔案來設定代理 URL。這可以透過使用<block ref="758aee5ba3aed3d4e9a31a16ea04b47a" prefix=" " category="inline-code"></block>建立 YAML 檔案並新增<block ref="46f08f4431bbd907a039e14ddf39cf5f" prefix=" " category="inline-code"></block>論證<block ref="9d80ca17f097c8e365550f4036ccf0e3" prefix=" " category="inline-code"></block>容器<block ref="eb6cdeddd28243c1552ea3b1061b4410" prefix=" " category="inline-code"></block>。</block>
  <block id="19398926f4bb3de321ccfc2488d606dd" category="section-title">禁用Trident指標</block>
  <block id="8ec47dab227d183e0d3ad0cd529d289b" category="paragraph">若要**停用**指標報告，您應該產生自訂 YAML 檔案（使用下列方式）：<block ref="5de93c87952cd098700fb8d46daed4d6" prefix=" " category="inline-code"></block>標記）並編輯它們以刪除<block ref="7d91b1e10cf86478be03f54a8c39320a" prefix=" " category="inline-code"></block>阻止對<block ref="7883e3d8f80ff24d70c49bd975fb3f75" prefix=" " category="inline-code"></block>容器。</block>
  <block id="053cd9e68cf6c155e5b93616bc7e3e32" category="summary">了解如何在Trident安裝中建立和使用ONTAP NAS 驅動程式。本節提供後端設定範例以及如何將後端對應到 StorageClasses 的詳細資訊。</block>
  <block id="6603621fd665e289ada4dbb1dcc5835c" category="paragraph">學習如何在Trident系統中建立和使用ONTAP NAS 驅動程式。本節提供後端設定範例以及將後端對應到 StorageClasses 的詳細資訊。</block>
  <block id="e996b7ab8a2ede8d8b06fc99b3a11062" category="cell"><block ref="8321592ce24c8a122ecf26a63cfca407" prefix="" category="inline-code"></block>，<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block> ， 或者<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block></block>
  <block id="a288b0971f8f6c63f5e6510bcebf421b" category="cell">驅動程式名稱 + "_" + dataLIF</block>
  <block id="c31c728d8c1e31b350486f8db0ebd5df" category="cell">叢集或 SVM 管理 LIF 的 IP 位址可以指定完全限定網域名稱 (FQDN)。如果Trident安裝時使用了 IPv6 標誌，則可以設定為使用 IPv6 位址。 IPv6 位址必須用方括號定義，例如：<block ref="33e9328e92e3ef05629093b4693b3925" prefix=" " category="inline-code"></block> 。為了實現MetroCluster 的無縫切換，請參閱<block ref="41195e18a4a81a05f5c5a6be365a5602" category="inline-xref-macro-rx"></block>。</block>
  <block id="cc1ae9a700356c7c519b4aee7dcbf53b" category="cell">"10.0.0.1", "[2001:1234:abcd::fefe]"</block>
  <block id="762a96bc52f41b6b53a4e2d27fd14560" category="cell">LIF協定的IP位址。 NetApp建議指定<block ref="ea76b2438eb5996eb2c347e7341ed59a" prefix=" " category="inline-code"></block>。如果未提供， Trident將從 SVM 取得 dataLIF。您可以指定一個完全限定網域名稱 (FQDN) 用於 NFS 掛載操作，從而建立輪詢 DNS 以在多個 dataLIF 之間進行負載平衡。初始設定後可以更改。參考<block ref="b2c939cb81e81d99a25f4be74f517f2f" category="inline-xref-macro-rx"></block>。如果Trident安裝時使用了 IPv6 標誌，則可以設定為使用 IPv6 位址。  IPv6 位址必須用方括號定義，例如：<block ref="33e9328e92e3ef05629093b4693b3925" prefix=" " category="inline-code"></block> 。 *Metrocluster 除外。 *查看<block ref="41195e18a4a81a05f5c5a6be365a5602" category="inline-xref-macro-rx"></block>。</block>
  <block id="ae8df8316f5c485b7db4e7141e899701" category="cell">指定位址或從 SVM 派生，如果未指定（不建議）</block>
  <block id="19611c32e434019e356af9e0da999936" category="cell">要使用的儲存虛擬機器 *Metrocluster 除外。 *查看<block ref="41195e18a4a81a05f5c5a6be365a5602" category="inline-xref-macro-rx"></block>。</block>
  <block id="ef65dd3301d78701f7cfcf8a01834f2f" category="cell">如果是 SVM 則推導而來<block ref="a6ea6092cb7b9c5f31909eb4be8fa5ea" prefix=" " category="inline-code"></block>已指定</block>
  <block id="a0f3a965c12688befda99da850903dcb" category="cell"><block ref="323e871cfe2e70ead9c713e8f3164f8f" prefix="" category="inline-code"></block></block>
  <block id="5b487539b64483311ed87290e717353a" category="cell">啟用自動匯出策略建立和更新 [布林值]。使用<block ref="323e871cfe2e70ead9c713e8f3164f8f" prefix=" " category="inline-code"></block>和<block ref="b9c40fbe9daa81e40e06509d5bbd5a6c" prefix=" " category="inline-code"></block>選用功能包括： Trident可以自動管理出口策略。</block>
  <block id="b4ad0dff08149092bc3e4b16572af575" category="cell"><block ref="b9c40fbe9daa81e40e06509d5bbd5a6c" prefix="" category="inline-code"></block></block>
  <block id="aeeba745624a2ddc45043c3be805561e" category="cell">用於過濾 Kubernetes 節點 IP 的 CIDR 列表<block ref="323e871cfe2e70ead9c713e8f3164f8f" prefix=" " category="inline-code"></block>已啟用。使用<block ref="323e871cfe2e70ead9c713e8f3164f8f" prefix=" " category="inline-code"></block>和<block ref="b9c40fbe9daa81e40e06509d5bbd5a6c" prefix=" " category="inline-code"></block>選用功能包括： Trident可以自動管理出口策略。</block>
  <block id="e50e8adc0d4818a8ed496eb95b3aea51" category="cell">["0.0.0.0/0", "::/0"]`</block>
  <block id="cbdaf784161be9806a24fe78a8046c01" category="cell"><block ref="79fffaff4013c1e8c508e76646eca77b" prefix="" category="inline-code"></block></block>
  <block id="a84cbedc106b973917ae925d04533f97" category="cell">用戶端憑證的 Base64 編碼值。用於基於憑證的身份驗證</block>
  <block id="8545e54eea74cf2579fbe1cb56b11862" category="cell"><block ref="19dce7ac7f5290fc8fa218ad0c858df5" prefix="" category="inline-code"></block></block>
  <block id="4a54228eb2be79492f8f76bb814ddf63" category="cell">客戶端私鑰的 Base64 編碼值。用於基於憑證的身份驗證</block>
  <block id="b071cd8105f8f59b777098388b7a3322" category="cell"><block ref="8468461bca00a47ab5ddba2afc45f52c" prefix="" category="inline-code"></block></block>
  <block id="ffe4ce29fe1a6176d496c40332e9cb98" category="cell">受信任 CA 憑證的 Base64 編碼值。選修的。用於基於憑證的身份驗證</block>
  <block id="431f7ca0be64e2c321d4d4be79b721aa" category="inline-link-macro">使用 Active Directory 憑證向後端 SVM 驗證Trident 的身份</block>
  <block id="ebce82cad933beb695765f374ca16800" category="cell">用於連接到叢集/SVM 的使用者名稱。用於基於憑證的身份驗證。有關 Active Directory 驗證，請參閱 <block ref="c266761f957eda011224921a8539eded" category="inline-link-macro-rx"></block>。</block>
  <block id="c48567e30df98d399ca8a25594294caa" category="cell">連接到叢集/SVM 的密碼。用於基於憑證的身份驗證。有關 Active Directory 驗證，請參閱 <block ref="c266761f957eda011224921a8539eded" category="inline-link-macro-rx"></block>。</block>
  <block id="e3f688f3aa653574b3253640aa98f47c" category="paragraph">在 SVM 中配置新磁碟區時所使用的前綴。設定後無法更新</block>
  <block id="64467ac9530ff26c4e6495117175346d" category="admonition">當使用 ontap-nas-economy 和 24 個或更多字元的 storagePrefix 時，qtree 將不會嵌入儲存前綴，儘管它會包含在磁碟區名稱中。</block>
  <block id="86780ad6247dfbcd90ca1455ee592852" category="cell">“三叉戟”</block>
  <block id="0b74b16550d48484341fc52ad7af0c7d" category="paragraph">用於配置的聚合（可選；如果設置，則必須指派給 SVM）。對於<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block>驅動程序，此選項將被忽略。如果未分配，則可以使用任何可用的聚合來配置FlexGroup磁碟區。</block>
  <block id="f01b478814d1117e017539a48474a29d" category="admonition">當 SVM 中的聚合資料更新時， Trident會自動輪詢 SVM 進行更新，而無需重新啟動Trident控制器。當您在Trident中配置特定聚合以配置磁碟區時，如果該聚合被重新命名或移出 SVM，則在輪詢 SVM 聚合時， Trident中的後端將變為失敗狀態。您必須將聚合變更為 SVM 上存在的聚合，或將其完全刪除，才能使後端恢復連線。</block>
  <block id="09d5dcc1026143b7c8b97aead4ec1396" category="cell">如果使用率超過此百分比，則配置失敗。  *不適用於Amazon FSx for ONTAP*。</block>
  <block id="9b791871c2696d3b7bc8c95a1d487b58" category="cell">flexgroupAggregateList</block>
  <block id="77a0d40a429011d223a093dd3cf8713e" category="paragraph">用於配置的聚合清單（可選；如果設置，則必須指派給 SVM）。指派給 SVM 的所有聚合都用於配置FlexGroup磁碟區。支援 *ontap-nas-flexgroup* 儲存驅動程式。</block>
  <block id="dbe23b2e968cff9eb3692844d1e75516" category="admonition">當 SVM 中的聚合列表更新時， Trident會透過輪詢 SVM 自動更新該列表，而無需重新啟動Trident控制器。當您在Trident中設定了特定的聚合清單來設定磁碟區時，如果聚合清單被重新命名或移出 SVM，則在輪詢 SVM 聚合時， Trident中的後端將進入失敗狀態。您必須將聚合列表變更為 SVM 上存在的列表，或將其完全刪除，才能使後端恢復連線。</block>
  <block id="b9bc5d902a9cd0a94cdcf025103a3488" category="cell">如果請求的磁碟區大小大於此值，則配置失敗。此外，它還限制了 qtree 管理的捲的最大大小，以及<block ref="8b08152c170e621ffcc8bfac7c4d6785" prefix=" " category="inline-code"></block>此選項允許自訂每個FlexVol volume的最大 qtree 數量。</block>
  <block id="280a6a6866847c57b1a98bbcdc929268" category="cell">（預設不強制執行）</block>
  <block id="7e6a32bd8074b1aa2c8c0d2529140ae4" category="cell">故障排除時要使用的調試標誌。例如，{"api":false, "method":true} 請勿使用<block ref="effa2d809c72dcb6cce15a1e0b040e63" prefix=" " category="inline-code"></block>除非您正在進行故障排除並且需要詳細的日誌轉儲。</block>
  <block id="5160493063ea2e4f1b1a6e3b951b0a53" category="cell">以逗號分隔的 NFS 掛載選項清單。 Kubernetes 持久性磁碟區的掛載選項通常在儲存類別中指定，但如果儲存類別中沒有指定掛載選項， Trident將回退到使用儲存後端設定檔中指定的掛載選項。如果在儲存類別或設定檔中未指定任何掛載選項， Trident將不會在關聯的持久性磁碟區上設定任何掛載選項。</block>
  <block id="a13306f726fdf72d2d992a7ebdc63b1b" category="cell">每個FlexVol 的最大 Qtree 數量必須在 [50, 300] 範圍內</block>
  <block id="89ffa293e05655bd6be9d422345be38a" category="cell">“200”</block>
  <block id="7bb910e3cf11d0b34ca215aa399d3f23" category="cell"><block ref="5910159ef86741f119f7574a9064b5b0" prefix="" category="inline-code"></block></block>
  <block id="8f0dd7b65e6130f3f55d984ebc34bbdb" category="cell">您可以指定以下一項：使用 Microsoft 管理控制台或ONTAP CLI 建立的 SMB 共用的名稱；允許Trident建立 SMB 共用的名稱；或者您可以將參數留空以防止對磁碟區的公共共用存取。對於本地部署的ONTAP，此參數是可選的。此參數是Amazon FSx for ONTAP後端所必需的，不能為空。</block>
  <block id="2bd69c3354973375e1abed3c9beb1eff" category="cell"><block ref="f777ab485270937cd9b9efc63021484f" prefix="" category="inline-code"></block></block>
  <block id="f703d18584e163e18762e4dc13ad96a0" category="cell"><block ref="14d839191d1ecf387a15b5b0c802a8ae" prefix="" category="inline-code"></block></block>
  <block id="50a4fd89cedf0068776b972ce96fcceb" category="cell">使用ONTAP REST API 的布林參數。<block ref="14d839191d1ecf387a15b5b0c802a8ae" prefix=" " category="inline-code"></block>設定為<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>Trident使用ONTAP REST API 與後端通訊；當設定為<block ref="68934a3e9455fa72420237eb05902327" prefix=" " category="inline-code"></block>Trident使用 ONTAPI (ZAPI) 呼叫與後端通訊。此功能需要ONTAP 9.11.1 及更高版本。此外，所使用的ONTAP登入角色必須具有存取權限。<block ref="045ed0306c61104cb0777ccd31ce648b" prefix=" " category="inline-code"></block>應用。預定義項滿足了這一點。<block ref="6173aa5206484b5224450952747c7148" prefix=" " category="inline-code"></block>和<block ref="fdb6ba311fad29ec53069808f10ebef4" prefix=" " category="inline-code"></block>角色。從Trident 24.06 版本和ONTAP 9.15.1 或更高版本開始，<block ref="14d839191d1ecf387a15b5b0c802a8ae" prefix=" " category="inline-code"></block>設定為<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>預設；更改<block ref="14d839191d1ecf387a15b5b0c802a8ae" prefix=" " category="inline-code"></block>到<block ref="68934a3e9455fa72420237eb05902327" prefix=" " category="inline-code"></block>使用 ONTAPI (ZAPI) 呼叫。</block>
  <block id="a8d3b70256520cece459d618f0b69d22" category="cell"><block ref="b326b5062b2f0e69046810717534cb09" prefix="" category="inline-code"></block>適用於ONTAP 9.15.1 或更高版本，否則<block ref="68934a3e9455fa72420237eb05902327" prefix=" " category="inline-code"></block>。</block>
  <block id="98b1298645505c6ec838667dff651c81" category="cell">在 ontap-nas-economy 後端使用 Qtrees 時可請求的最大FlexVol大小。</block>
  <block id="c598aba0725ffc7663bf0f4db1a3238f" category="cell"><block ref="80fd16da9d17abac4374b362f2e409fe" prefix="" category="inline-code"></block></block>
  <block id="dc3d22611e67d08cb39256f8980be582" category="cell">限制<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block>後端創建新的FlexVol磁碟區來包含它們的 Qtree。只有預先存在的 Flexvol 才能用於配置新的 PV。</block>
  <block id="6830d19c259617eba954cda2aa1d541d" category="cell"><block ref="c860a3f92e27bd5d0798ef97b9454101" prefix="" category="inline-code"></block></block>
  <block id="3c26595dc5f4e2d90bc81b000429b6a7" category="cell">具有對 SMB 共用完全存取權限的 Active Directory 管理員使用者或使用者群組。使用此參數可為 SMB 共用提供管理員權限，並賦予其完全控制權限。</block>
  <block id="193a49bcfb561fea878daa5efe72cad9" category="section-title">用於配置磁碟區的後端配置選項</block>
  <block id="c59183b2f668b355e81e7bb1256f92b3" category="paragraph">您可以使用下列選項控制預設配置。<block ref="a4a918a45181164207929d52aec36aec" prefix=" " category="inline-code"></block>配置部分。例如，請參閱下面的設定範例。</block>
  <block id="7be7ec1f4262cda30e19c85af89449af" category="cell">Q樹的空間分配</block>
  <block id="ebc576222020c2a2ae2fc769169f1d2a" category="cell">“真的”</block>
  <block id="c41b872c22969c2098a0056121589349" category="cell">空間預留模式；「無」（細）或「大量」（粗）</block>
  <block id="f6d62a8e69201d3806ac1ef24ec64c4d" category="cell">“沒有任何”</block>
  <block id="77f69e470b8766d2dc5df4b7f469ed72" category="cell">要使用的快照策略</block>
  <block id="84d2c2c768bd1900489bad5fb46b4aac" category="cell"><block ref="36c38058d66835923c982c773a817f0b" prefix="" category="inline-code"></block></block>
  <block id="54b94bba5d336f4e3d5fd7e88544fad1" category="cell">若要為建立的磁碟區指派的 QoS 策略群組。每個儲存池/後端選擇 qosPolicy 或 adaptiveQosPolicy 之一</block>
  <block id="952e3a12d35e717bf86a6000b0c08976" category="cell"><block ref="3e5432e43a275793680f854329e05b72" prefix="" category="inline-code"></block></block>
  <block id="5896cc977dd7b9854957e18a2a5bf072" category="cell">若要為建立的磁碟區指派的自適應 QoS 策略群組。每個儲存池/後端選擇 qosPolicy 或 adaptiveQosPolicy 之一。  ontap-nas-economy 不支援此功能。</block>
  <block id="6b3e1a8dae111668b3e4e13c5949a7c0" category="cell">如果為“0”，<block ref="0a236e7685e50a59df980d0a30929d6c" prefix=" " category="inline-code"></block>為“無”，否則為“</block>
  <block id="6f5c0c94b1a17baffd2c33facaa10db6" category="cell">創建時將克隆體從其母體中分離出來</block>
  <block id="760f7a1b05bc9d3d50c534dc491c07d4" category="cell">在新磁碟區啟用NetApp磁碟區加密 (NVE)；預設為<block ref="68934a3e9455fa72420237eb05902327" prefix=" " category="inline-code"></block>。若要使用此選項，必須在叢集上取得 NVE 許可並啟用 NVE。如果後端啟用了 NAE，則在Trident中配置的任何磁碟區都會啟用 NAE。更多信息，請參閱：<block ref="5113a2fb1642ecd23870711ba25c4ad7" category="inline-link-macro-rx"></block> 。</block>
  <block id="7639141e9ab9cd89ef8bc0b16fd34e6a" category="cell">分層策略使用“無”</block>
  <block id="3e9a232d025270ed6767c385b8291871" category="cell">新卷模式</block>
  <block id="3eda001907760c018e29ddf4cb7aa3c8" category="cell">NFS 磁碟區的連接埠號碼為「777」；SMB 磁碟區的連接埠號碼為空（不適用）。</block>
  <block id="7e8aabb1dc00b7d4aac6d0876f6507f4" category="cell">控制對以下方面的訪問<block ref="a15da8cecb1f1192c4d913b8ba676121" prefix=" " category="inline-code"></block>目錄</block>
  <block id="c1a0e97f953c948568aed6c134fc9711" category="cell">出口政策的使用</block>
  <block id="375aa0b790f300787cdecf0f896b97f5" category="cell">新磁碟區的安全樣式。 NFS 支持<block ref="1d770934d44de09b0d24f04fd01708ba" prefix=" " category="inline-code"></block>和<block ref="4913a9178621eadcdf191db17915fbcb" prefix=" " category="inline-code"></block>安全措施。中小企業支持<block ref="1d770934d44de09b0d24f04fd01708ba" prefix=" " category="inline-code"></block>和<block ref="68e98b83f5bd746f1468dff89f529d1b" prefix=" " category="inline-code"></block>安全措施。</block>
  <block id="4a359bdcdb3ce547581bdea3ce6c5bd7" category="cell">NFS 預設值為<block ref="4913a9178621eadcdf191db17915fbcb" prefix=" " category="inline-code"></block>。  SMB 預設值為<block ref="68e98b83f5bd746f1468dff89f529d1b" prefix=" " category="inline-code"></block>。</block>
  <block id="1a917db78e9060d4bb44a3e3d9a60cb3" category="cell"><block ref="feeb5473f4afb4f667dfc9d369c3b454" prefix="" category="inline-code"></block></block>
  <block id="ae7206c28f1d0ee5f9f116f1cfe22c54" category="cell">用於建立自訂磁碟區名稱的範本。</block>
  <block id="9cae9ee80bd5bcfdc5aefb0ffdbdf25b" category="admonition">將 QoS 策略群組與Trident結合使用需要ONTAP 9.8 或更高版本。您應該使用非共享的 QoS 策略群組，並確保該策略群組單獨套用至每個成員。共享的 QoS 策略群組強制規定所有工作負載的總吞吐量上限。</block>
  <block id="e62f5d0a5a95571e25197caafe78cd98" category="section-title">卷配置範例</block>
  <block id="2043559d67ba802541907de326b5ecdd" category="paragraph">以下是一個定義了預設值的範例：</block>
  <block id="8c63942428249eaa15437c7e07b3dd1e" category="paragraph">為了<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block>和<block ref="10be922aa0fd75bc53ab71eda9229763" prefix=" " category="inline-code"></block>Trident現在使用新的計算方法，以確保FlexVol 的尺寸與 snapshotReserve 百分比和 PVC 正確匹配。當使用者要求 PVC 時， Trident會使用新的計算方法建立具有更多空間的原始FlexVol 。此計算方法可確保使用者在 PVC 中獲得其請求的可寫入空間，而不是少於其請求的空間。在 v21.07 之前，當使用者要求 PVC（例如 5 GiB）時，如果快照預留百分比為 50%，則只能獲得 2.5 GiB 的可寫入空間。這是因為使用者要求的是整個磁碟區。<block ref="bb0d75280f9b683f2f1f0767fd0aff9b" prefix=" " category="inline-code"></block>是其中的百分比。在Trident 21.07 中，使用者要求的是可寫入空間，而Trident定義了該空間。<block ref="bb0d75280f9b683f2f1f0767fd0aff9b" prefix=" " category="inline-code"></block>將數值表示為佔總體積的百分比。這不適用於<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block>。請參閱以下範例以了解其工作原理：</block>
  <block id="86ec808b80973d24eadfc617926f534e" category="paragraph">計算方法如下：</block>
  <block id="a9d0225032890b6fff6306b9c33e2cc9" category="paragraph">對於快照預留 = 50% 且 PVC 請求 = 5 GiB 的情況，總磁碟區大小為 5/.5 = 10 GiB，可用大小為 5 GiB，這正是使用者在 PVC 請求中請求的大小這<block ref="0c5606ed319753bb2d86a485f23c8f6d" prefix=" " category="inline-code"></block>該命令應顯示與此範例類似的結果：</block>
  <block id="2f1534ee8d0c6ec998511ed37cfe0da9" category="image-alt">顯示 volume show 指令的輸出結果。</block>
  <block id="b2badedae3a2fdd602b26112668ed612" category="paragraph">升級Trident時，先前安裝的現有後端將以上述方式設定磁碟區。對於升級前建立的捲，您應該調整其大小以觀察到變更。例如，一個 2 GiB 的 PVC<block ref="01d8e11bde220373533705ed26796e25" prefix=" " category="inline-code"></block>先前的結果是一個提供 1 GiB 可寫空間的磁碟區。例如，將磁碟區大小調整為 3 GiB，將在 6 GiB 的磁碟區上為應用程式提供 3 GiB 的可寫入空間。</block>
  <block id="2aae2b6accd04335b3eeceb2193b34d6" category="section-title">最小配置範例</block>
  <block id="f35c0fe4b6581c16866c964cef229bfa" category="admonition">如果您在NetApp ONTAP上使用Amazon FSx和Trident，建議為 LIF 指定 DNS 名稱而非 IP 位址。</block>
  <block id="9561077d9ef091b88a253b8593eb8bfb" category="example-title">ONTAP NAS 經濟範例</block>
  <block id="d24ddd1da817847ede47979e6e68c60e" category="example-title">ONTAP NAS Flexgroup 範例</block>
  <block id="16d35233bf6aa04a2ff7b9ec19d64661" category="example-title">MetroCluster範例</block>
  <block id="fd9313829353096dad83775c55ce66f8" category="paragraph">您可以設定後端，以避免在切換和切換回後端後手動更新後端定義。<block ref="6ffda35fd03109cc0d7cf7a1f79d2c30" category="inline-link-macro-rx"></block> 。</block>
  <block id="abc765e949697f25e96670a5cab132f3" category="paragraph">為了實現無縫切換和切換回，請指定 SVM<block ref="a6ea6092cb7b9c5f31909eb4be8fa5ea" prefix=" " category="inline-code"></block>並省略<block ref="ea76b2438eb5996eb2c347e7341ed59a" prefix=" " category="inline-code"></block>和<block ref="924ff83ff1e671bacfb07ff12b845703" prefix=" " category="inline-code"></block>參數。例如：</block>
  <block id="8788fe54575b03d9b62dbb1a38a7a277" category="example-title">SMB 磁碟區範例</block>
  <block id="dacbfb309aa16cb942510c02c224fdbc" category="example-title">基於憑證的身份驗證範例</block>
  <block id="78e5b29e139db71ceb7ca6bc99b5e228" category="paragraph">這是一個最小後端設定範例。<block ref="79fffaff4013c1e8c508e76646eca77b" prefix=" " category="inline-code"></block> ，<block ref="19dce7ac7f5290fc8fa218ad0c858df5" prefix=" " category="inline-code"></block> ， 和<block ref="8468461bca00a47ab5ddba2afc45f52c" prefix=" " category="inline-code"></block>（如果使用受信任的 CA，則為可選）<block ref="9c15d32711e9ef8c6f76deda35452e13" prefix=" " category="inline-code"></block>分別取客戶端憑證、私鑰和受信任 CA 憑證的 base64 編碼值。</block>
  <block id="1ce00ab507a065e4febc57b244e25d18" category="example-title">自動出口政策範例</block>
  <block id="04475efebba67943de12a2269d2e0a7b" category="paragraph">本範例向您展示如何指示Trident使用動態匯出策略來自動建立和管理匯出策略。這對於以下情況也適用：<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block>和<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block>司機。</block>
  <block id="5ef13a507a243e20eb0469a9d7670527" category="example-title">IPv6 位址範例</block>
  <block id="0275de02c3bba722f4540469d23cc535" category="paragraph">這個例子表明<block ref="a6ea6092cb7b9c5f31909eb4be8fa5ea" prefix=" " category="inline-code"></block>使用 IPv6 位址。</block>
  <block id="ee8af8063e9ea3725931d232730b8a8e" category="example-title">使用 SMB 磁碟區的Amazon FSx for ONTAP範例</block>
  <block id="33ef55e82416e2c1c4beb9cba9560b02" category="paragraph">這<block ref="5910159ef86741f119f7574a9064b5b0" prefix=" " category="inline-code"></block>使用 SMB 磁碟區的 FSx for ONTAP需要此參數。</block>
  <block id="b797b4560e6c4ae4e13d035bbce23b4d" category="example-title">使用 nameTemplate 的後端設定範例</block>
  <block id="1b9ef354b22d8a8b125247fd538da4b2" category="section-title">具有虛擬池的後端範例</block>
  <block id="71b79981e733eabd769324fa40c8fa6d" category="paragraph">在下方所示的範例後端定義檔中，所有儲存池都設定了特定的預設值，例如：<block ref="cae77b049bf504af7afc43b99b6c5213" prefix=" " category="inline-code"></block>沒有，<block ref="45922ba6ba8428764f22ed06f814c762" prefix=" " category="inline-code"></block>為假，並且<block ref="5bdf74912a51c34815f11e9a3d20b609" prefix=" " category="inline-code"></block>錯誤。虛擬池在儲存部分中定義。</block>
  <block id="917b750655d8fd1d6c961e661535fa99" category="paragraph">Trident在「備註」欄位中設定配置標籤。  FlexVol上已設定評論<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block>或FlexGroup<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block> 。 Trident在設定時會將虛擬池上的所有標籤複製到儲存磁碟區。為了方便起見，儲存管理員可以為每個虛擬池定義標籤，並按標籤將磁碟區分組。</block>
  <block id="71fcdf20b31ca43f6ef64c06530f313d" category="paragraph">在這些範例中，一些儲存池會設定自己的參數。<block ref="cae77b049bf504af7afc43b99b6c5213" prefix=" " category="inline-code"></block> ，<block ref="45922ba6ba8428764f22ed06f814c762" prefix=" " category="inline-code"></block> ， 和<block ref="5bdf74912a51c34815f11e9a3d20b609" prefix=" " category="inline-code"></block>有些值會覆蓋預設值，有些池會覆蓋預設值。</block>
  <block id="574e53d92fdeaac37ba2d879a9b88f12" category="example-title">ONTAP NAS 範例</block>
  <block id="bdb252122df8a6e68a54782628d1944f" category="example-title">ONTAP NAS FlexGroup範例</block>
  <block id="f00b69018be0961b32ee24ec54fb56d1" category="section-title">將後端映射到儲存類</block>
  <block id="eb2e955f1a984e2be0e3fa8cdbe6667c" category="paragraph">以下 StorageClass 定義指的是<block ref="d690aebda44a37b8ae9c2c6f1918cb30" category="inline-xref-macro-rx"></block>。使用<block ref="bed471c4a88e25ac9a7e4a7b980700a8" prefix=" " category="inline-code"></block>在欄位中，每個 StorageClass 都會指出哪些虛擬池可用於託管磁碟區。卷將具有所選虛擬池中定義的各個方面。</block>
  <block id="01eacb47d802acac83a7e60311768055" category="list-text">這<block ref="63f9100803e1f67a5e33cbd5da9dbb33" prefix=" " category="inline-code"></block>StorageClass 將會對應到第一個和第二個虛擬池。<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block>後端。只有這些泳池提供黃金級保護。</block>
  <block id="6b35cdd98b7f7e55e698a6d0628e18e0" category="list-text">這<block ref="afbfe298fa275e5fff1aca9b2f213d9a" prefix=" " category="inline-code"></block>StorageClass 將會對應到第三個和第四個虛擬池。<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block>後端。除了黃金之外，只有這些金池提供其他等級的保護。</block>
  <block id="535efa214445261dfda5d5edc613e56b" category="list-text">這<block ref="65846755494383158592c748f74421ec" prefix=" " category="inline-code"></block>StorageClass 將會對應到第四個虛擬池。<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block>後端。這是唯一一個為mysqldb類型應用程式提供儲存池配置的儲存池。</block>
  <block id="d0c5a28c77fc4e37f7271d37f7372724" category="list-text">該<block ref="2e63b2ff91d4aeb88b54db5c90b71443" prefix=" " category="inline-code"></block>StorageClass 將會對應到第三個虛擬池。<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block>後端。這是唯一提供銀級保護和 20000 積分的彩池。</block>
  <block id="0191eea3640b05213a7522d6581a2fd5" category="list-text">這<block ref="a96bee9dd30f3ea0af93b4c64ca1e4a4" prefix=" " category="inline-code"></block>StorageClass 將會對應到第三個虛擬池。<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block>後端和第二個虛擬池<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block>後端。這是唯一提供 5000 點的彩池產品。</block>
  <block id="fb66862ac33cf61ecc10382c3a42dee3" category="paragraph">Trident將決定選擇哪個虛擬池，並確保滿足儲存需求。</block>
  <block id="0bd54df5242a2a2e9eca045fc695b41f" category="section-title">更新<block ref="ea76b2438eb5996eb2c347e7341ed59a" prefix=" " category="inline-code"></block>初始配置後</block>
  <block id="6e7bd344d0c1260e0145e18171b598bb" category="paragraph">初始設定完成後，您可以透過執行以下命令來變更 dataLIF，從而為新的後端 JSON 檔案提供更新的 dataLIF。</block>
  <block id="df9bc5d5fd5d258576244d9b760ef3d9" category="admonition">如果 PVC 連接到一個或多個艙體，則必須將所有相應的艙體放下，然後再將它們重新升起，以便新的 dataLIF 生效。</block>
  <block id="007eb2831357fc17158f683f6dcff454" category="section-title">安全的中小企業範例</block>
  <block id="d31bd17463bbf5861b916a74d031385b" category="section-title">使用 ontap-nas 驅動程式進行後端配置</block>
  <block id="0f4ec0551cca9ca01494fc00becd7670" category="section-title">使用 ontap-nas-economy 驅動程式進行後端配置</block>
  <block id="423fe93aaec50040bb6be02e84f7efdf" category="section-title">後端配置及儲存池</block>
  <block id="932c29a089501176987cc43435fb9490" category="section-title">使用 ontap-nas 驅動程式的儲存類別範例</block>
  <block id="6710620e6b99c9d38a3eae8738824721" category="admonition">請確保添加<block ref="4ab6864fc58ecd8b598ee10dfe2ac311" prefix=" " category="inline-code"></block>實作安全的SMB。如果沒有註釋，無論後端或 PVC 中設定了什麼配置，安全 SMB 都無法運作。</block>
  <block id="df600c813a46f3b822f7e5f064845591" category="section-title">使用 ontap-nas-economy 驅動程式的儲存類別範例</block>
  <block id="14026c1ce10412c2adbe88758af8fecd" category="section-title">包含單一 AD 使用者的 PVC 範例</block>
  <block id="6588dbd33e470b3f0858ad0b7d2075c2" category="section-title">包含多個 AD 使用者的 PVC 範例</block>
  <block id="ef0e40b987d8b9ad523bdde2bba5157a" category="summary">了解配置具有ONTAP NAS 驅動程式的ONTAP後端的要求、驗證選項和匯出策略。</block>
  <block id="fd05c90de484dbc1cb963df796886af4" category="doc">準備配置帶有ONTAP NAS 驅動程式的後端</block>
  <block id="46d663191f16f782a681e5f6702a09d4" category="list-text">對於所有ONTAP後端， Trident要求至少將一個聚合分配給 SVM。</block>
  <block id="ffd4000c9e43a23d97e231d47f99dcd4" category="list-text">您可以執行多個驅動程序，並建立指向其中一個或另一個驅動程式的儲存類別。例如，您可以設定一個使用以下方式的 Gold 類別：<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block>駕駛員和使用青銅級的駕駛員<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block>一。</block>
  <block id="d7e54271baba05c2253c5c79a6155965" category="list-text">所有 Kubernetes 工作節點都必須安裝對應的 NFS 工具。請參閱<block ref="f1f954e59a21e3ffe189e77dd2ee9f86" category="inline-link-macro-rx"></block>更多詳情請見下文。</block>
  <block id="3791349e449ca2bc9a8b7b7ed4c843de" category="list-text">Trident僅支援掛載到執行在 Windows 節點上的 pod 的 SMB 磁碟區。參考 <block ref="688177e6b45c5d27a545463079c58d82" category="inline-xref-macro-rx"></block> 了解詳情。</block>
  <block id="c63609aba869239be30364b58d99b1a3" category="section-title">對ONTAP後端進行身份驗證</block>
  <block id="bef1bdf06ff1fb19147e51880974a6c5" category="paragraph">Trident提供兩種ONTAP後端身分驗證方式。</block>
  <block id="f3554362e5b550c58586036685aca0f6" category="list-text">基於憑證：此模式需要對ONTAP後端擁有足夠的權限。建議使用與預先定義的安全登入角色關聯的帳戶，例如：<block ref="21232f297a57a5a743894a0e4a801fc3" prefix=" " category="inline-code"></block>或者<block ref="6173aa5206484b5224450952747c7148" prefix=" " category="inline-code"></block>確保與ONTAP版本最大程度相容。</block>
  <block id="c3ac6347a688cffd729947263e3387fb" category="list-text">基於證書：此模式要求後端安裝證書，以便Trident才能與ONTAP叢集通訊。此處，後端定義必須包含用戶端憑證、金鑰和受信任 CA 憑證（如果使用，建議使用）的 Base64 編碼值。</block>
  <block id="1ea1b160621872df5909653ebde1bf7f" category="paragraph">您可以更新現有後端，以在基於憑證的方法和基於憑證的方法之間進行切換。但是，一次只能支援一種身份驗證方法。要切換到不同的身份驗證方法，必須從後端配置中刪除現有方法。</block>
  <block id="7335992f174c029a990442aca68aacbd" category="admonition">如果您嘗試同時提供憑證和證書，則後端建立將會失敗，並出現錯誤，提示設定檔中提供了多個驗證方法。</block>
  <block id="a2f8f419bf420960ef8cca73e1999e09" category="section-title">啟用基於憑證的身份驗證</block>
  <block id="3dcd67bbe9a272b52d3d7a0b30220f72" category="paragraph">Trident需要 SVM 範圍/叢集範圍管理員的憑證才能與ONTAP後端通訊。建議使用標準的、預先定義的角色，例如：<block ref="21232f297a57a5a743894a0e4a801fc3" prefix=" " category="inline-code"></block>或者<block ref="6173aa5206484b5224450952747c7148" prefix=" " category="inline-code"></block>。這樣可以確保與未來ONTAP版本向前相容，這些版本可能會公開一些功能 API，供未來的Trident版本使用。雖然可以建立自訂安全登入角色並將其與Trident一起使用，但不建議這樣做。</block>
  <block id="2312b8f77f99c346269b67308afc3649" category="paragraph">後端定義範例如下圖所示：</block>
  <block id="2a2ef6dcf08a8789a55301af5f71304c" category="paragraph">請注意，後端定義是唯一以純文字形式儲存憑證的地方。後端建立完成後，使用者名稱/密碼將使用 Base64 進行編碼，並儲存為 Kubernetes 金鑰。後端建立/更新是唯一需要了解憑證的步驟。因此，這是一項僅限管理員執行的操作，由 Kubernetes/儲存管理員執行。</block>
  <block id="052f76b486189a7b01340d5134eb7985" category="section-title">啟用基於憑證的身份驗證</block>
  <block id="0778b06c5ea9fded4fd7b586b248dd86" category="paragraph">新的和現有的後端都可以使用憑證與ONTAP後端通訊。後端定義需要三個參數。</block>
  <block id="d5b9c9db262b1927d7914504f3587adb" category="list-text">clientCertificate：客戶端憑證的 Base64 編碼值。</block>
  <block id="8f2b750dd6a57864f0e36828c248ddfc" category="list-text">clientPrivateKey：關聯私鑰的 Base64 編碼值。</block>
  <block id="200c2d2a44dec6455fa1c947f9c1f534" category="list-text">trustedCACertificate：受信任 CA 憑證的 Base64 編碼值。如果使用受信任的 CA，則必須提供此參數。如果沒有使用受信任的憑證授權機構，則可以忽略此步驟。</block>
  <block id="6b634823c19ebc37c9e4fdbf08de1fff" category="paragraph">典型的工作流程包括以下步驟。</block>
  <block id="c92e58d7dd251e6e6cdb16291a6dec90" category="list-text">產生客戶端憑證和金鑰。產生時，將通用名稱 (CN) 設定為要進行驗證的ONTAP使用者。</block>
  <block id="69b521cddbc52a2d14539e349e2930f0" category="list-text">在ONTAP叢集中新增受信任的 CA 憑證。這可能已經由儲存管理員處理了。如果沒有使用受信任的憑證授權機構，則忽略此操作。</block>
  <block id="2f3945695e5ca88abb46af80d87c6972" category="list-text">在ONTAP叢集上安裝客戶端憑證和金鑰（來自步驟 1）。</block>
  <block id="e81810c4035ad015ad3f0d8c4f2c6454" category="list-text">確認ONTAP安全登入角色支持<block ref="b6ba9fa6ea18201bf39ea635ecca9f13" prefix=" " category="inline-code"></block>身份驗證方法。</block>
  <block id="997cff957213b9212a22d7cac2b4275d" category="list-text">使用產生的憑證進行身份驗證。請將 &lt; ONTAP管理 LIF&gt; 和 &lt;vserver 名稱&gt; 替換為管理 LIF IP 位址和 SVM 名稱。您必須確保 LIF 的服務策略已設定為<block ref="1e2cb0c539a96182e302d676a4b791be" prefix=" " category="inline-code"></block>。</block>
  <block id="83f2adf143dc8f5fbbb9d924f840c1ce" category="list-text">使用 Base64 對憑證、金鑰和受信任的 CA 憑證進行編碼。</block>
  <block id="8d36e570f1edac5ae19e6733e3fbb4d5" category="list-text">使用上一步獲得的值建立後端。</block>
  <block id="2ab8ad0fce083cd02635b9126cf4353c" category="section-title">更新身份驗證方法或輪換憑證</block>
  <block id="31aae55e68bb5034f8f948ec526b9ff3" category="paragraph">您可以更新現有後端，以使用不同的身份驗證方法或輪換其憑證。這種方法是雙向的：使用使用者名稱/密碼的後端可以更新為使用憑證；使用憑證的後端可以更新為基於使用者名稱/密碼的後端。為此，您必須刪除現有的身份驗證方法並新增新的身份驗證方法。然後使用包含所需參數的更新後的 backend.json 檔案來執行<block ref="defd1e55f93269ac9278afc086951ba8" prefix=" " category="inline-code"></block>。</block>
  <block id="5e36c3d66bd47ae551071244dc48df17" category="admonition">輪換密碼時，儲存管理員必須先更新ONTAP上使用者的密碼。接下來將進行後端更新。輪換證書時，可以為使用者新增多個證書。然後更新後端以使用新證書，之後即可從ONTAP叢集中刪除舊證書。</block>
  <block id="9cce0e23fbc00d5ef4aa8264a88e346a" category="paragraph">更新後端不會中斷對已建立磁碟區的訪問，也不會影響之後建立的磁碟區連線。後端更新成功表明Trident可以與ONTAP後端通訊並處理未來的磁碟區操作。</block>
  <block id="1d67220b5084f7489e1a078d7ce093c3" category="section-title">為Trident建立自訂ONTAP角色</block>
  <block id="2c7e6d2877f857f126c24c7742e84098" category="paragraph"><block ref="c33f6523b710a03a2fd5d3e78562afa6" prefix="" category="inline-code"></block></block>
  <block id="1af6536f50b7c77854633155c6ae923a" category="paragraph"><block ref="496d78c32dd2b2752181d6346f8b0aeb" prefix="" category="inline-code"></block></block>
  <block id="80812a5ac42a9862b7d20ef498a269ce" category="paragraph"><block ref="5eb0d996baab37017dab0c8a2a171589" prefix="" category="inline-code"></block></block>
  <block id="07b434b23f63ca6490df33b213599320" category="section-title">管理 NFS 導出策略</block>
  <block id="9284d31490691a3e4c3cb7c3fa6bdb30" category="paragraph">Trident使用 NFS 匯出策略來控制對其所配置磁碟區的存取。</block>
  <block id="911e36a0e95c6a8cd786e86a3fcc313a" category="paragraph">Trident在處理出口策略時提供兩種選擇：</block>
  <block id="5dc1a99b61ad0584100fea35d3c77e2d" category="list-text">Trident可以動態管理匯出策略本身；在這種操作模式下，儲存管理員指定 CIDR 區塊列表，這些 CIDR 區塊代表可接受的 IP 位址。 Trident會在發佈時自動將屬於這些範圍的適用節點 IP 新增至匯出原則。或者，如果沒有指定 CIDR，則會將發布捲的節點上找到的所有全域範圍的單播 IP 新增至匯出策略。</block>
  <block id="d6f1d6cb064a0fa1dad0c21c9e750994" category="list-text">儲存管理員可以建立匯出策略並手動新增規則。除非在組態中指定了不同的導出策略名稱，否則Trident將使用預設導出策略。</block>
  <block id="4603f08ad837f4108ff2fe7665b0b1e3" category="section-title">動態管理出口策略</block>
  <block id="9391b78a23c85c79820dc84c10db96aa" category="paragraph">Trident提供了動態管理ONTAP後端匯出策略的功能。這樣，儲存管理員就可以指定工作節點 IP 的允許位址空間，而無需手動定義明確的規則。它大大簡化了導出策略管理；對導出策略的修改不再需要對儲存叢集進行人工幹預。此外，這有助於將對儲存叢集的存取限制在僅允許掛載磁碟區且 IP 位址在指定範圍內的節點上，從而支援細粒度和自動化管理。</block>
  <block id="0cd8d0588cd2b20face3a0379d38f777" category="admonition">使用動態匯出策略時，請勿使用網路位址轉換（NAT）。使用 NAT 時，儲存控制器看到的是前端 NAT 位址而不是實際的 IP 主機位址，因此在匯出規則中找不到匹配項時，存取將被拒絕。</block>
  <block id="66cbadc48d2dbe3accb93937a8d42d1e" category="paragraph">必須使用兩種配置選項。以下是一個後端定義範例：</block>
  <block id="b1c10dc35d4f2204f84dafbae3a9db72" category="admonition">使用此功能時，必須確保 SVM 中的根連接點具有先前建立的匯出策略，該策略的匯出規則允許節點 CIDR 區塊（例如預設匯出策略）。始終遵循NetApp推薦的最佳實踐，為Trident專用一個 SVM。</block>
  <block id="4975fc485ff51ca8f82c6ea96f927287" category="paragraph">以下以上述範例為例，說明此功能的工作原理：</block>
  <block id="891bc9d98980555712816ab85ae4a747" category="list-text"><block ref="323e871cfe2e70ead9c713e8f3164f8f" prefix="" category="inline-code"></block>設定為<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>。這表示Trident會為使用從後端配置的每個磁碟區建立一個匯出策略。<block ref="3568c00ad84b08a31b2dfadbfd8ee221" prefix=" " category="inline-code"></block>使用 SVM 處理規則的新增和刪除<block ref="c108f084ab28ac46ad3787ba09ae8304" prefix=" " category="inline-code"></block>地址塊。在磁碟區連接到節點之前，該磁碟區使用空的匯出策略，沒有任何規則來防止對該磁碟區的未經授權的存取。當磁碟區發佈到節點時， Trident會建立一個匯出策略，該策略的名稱與包含指定 CIDR 區塊內節點 IP 的底層 qtree 的名稱相同。這些 IP 位址也會加入到父FlexVol volume所使用的匯出策略中。</block>
  <block id="be5fcef35e23604f5b0fc183ca7506c7" category="list-text">後端 UUID 403b5326-8482-40db-96d0-d83fb3f4daec</block>
  <block id="28dfab96c79abedb70e1d50d710ea98b" category="list-text"><block ref="323e871cfe2e70ead9c713e8f3164f8f" prefix="" category="inline-code"></block>設定為<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block></block>
  <block id="580cc4344cc0f2e6db295db4ab750199" category="list-text">儲存前綴<block ref="47cb44be55a0dffa15dfc900a4c687be" prefix=" " category="inline-code"></block></block>
  <block id="281f254b4327225d2f04f74bef468fda" category="list-text">PVC UUID a79bcf5f-7b6d-4a40-9876-e2551f159c1c</block>
  <block id="9f39168351aa064bf4add0614e72cf76" category="list-text">名為 trident_pvc_a79bcf5f_7b6d_4a40_9876_e2551f159c1c 的 qtree 為名為FlexVol的 FlexVol 建立了一個匯出策略。<block ref="c39e5727ab9fde433a5c617f19a07adc" prefix=" " category="inline-code"></block> ，名為 qtree 的匯出策略<block ref="a9394417b5c3be8334bc253bf0db8df0" prefix=" " category="inline-code"></block>以及一個名為「空的匯出策略」的<block ref="735cc5128643b8de22e29beb94c9ccf4" prefix=" " category="inline-code"></block>在支援向量機上。 FlexVol導出策略的規則將是 qtree 導出策略中包含的任何規則的超集。任何未附加的磁碟區都將重複使用空匯出策略。</block>
  <block id="1ac483d2832bce598fb016d9eb24a804" category="list-text"><block ref="b9c40fbe9daa81e40e06509d5bbd5a6c" prefix="" category="inline-code"></block>包含地址塊列表。此字段為可選字段，預設值為 ["0.0.0.0/0", "::/0"]。如果未定義， Trident會新增在工作節點上找到的所有具有發佈的全域作用域的單播位址。</block>
  <block id="b2a40ed90888ed4dd5f4dce75ca437a5" category="paragraph">在這個例子中，<block ref="f2293842bd9b1febec66e01804867721" prefix=" " category="inline-code"></block>已提供地址空間。這意味著，位於此位址範圍內且已發佈 Kubernetes 節點 IP 的節點將被加入到Trident建立的匯出策略中。當Trident註冊它運行所在的節點時，它會檢索該節點的 IP 位址，並將其與提供的位址區塊進行比對。<block ref="b9c40fbe9daa81e40e06509d5bbd5a6c" prefix=" " category="inline-code"></block>在發佈時， Trident在過濾 IP 位址後，會為它要發佈到的節點的用戶端 IP 位址建立匯出政策規則。</block>
  <block id="4646f167a1fb9819f41f28d5ab11c1fa" category="paragraph">您可以更新<block ref="323e871cfe2e70ead9c713e8f3164f8f" prefix=" " category="inline-code"></block>和<block ref="b9c40fbe9daa81e40e06509d5bbd5a6c" prefix=" " category="inline-code"></block>建立後端之後，需要進行以下操作。您可以為自動管理的後端新增新的 CIDR，或刪除現有的 CIDR。刪除 CIDR 時要格外小心，確保現有連線不會中斷。您也可以選擇停用<block ref="323e871cfe2e70ead9c713e8f3164f8f" prefix=" " category="inline-code"></block>對於後端，如果出現問題，則回退到手動建立的匯出策略。這將需要進行設置<block ref="647ce4e5394e2e595e46b4fc50a628e9" prefix=" " category="inline-code"></block>後端配置中的參數。</block>
  <block id="7bbfd70596d4809b3a59a1d543c64933" category="paragraph">Trident建立或更新後端後，您可以使用下列指令檢查後端：<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>或相應的<block ref="18d388723371b89385366f93f0fbbbc6" prefix=" " category="inline-code"></block>CRD：</block>
  <block id="c21ad3c9d699da710d3d9a10d356f72d" category="paragraph">當一個節點被移除時， Trident會檢查所有匯出策略，以移除與該節點對應的存取規則。透過從受管後端匯出政策移除此節點 IP， Trident可以防止惡意掛載，除非叢集中的新節點重新使用此 IP。</block>
  <block id="560093aa674b397879f076b8f8a64fb1" category="paragraph">對於先前存在的後端，使用以下方式更新後端：<block ref="defd1e55f93269ac9278afc086951ba8" prefix=" " category="inline-code"></block>確保Trident自動管理出口策略。這樣，當需要時，就會建立兩個以以後端 UUID 和 qtree 名稱命名的新匯出策略。後端存在的磁碟區在卸載並重新掛載後，將使用新建立的匯出策略。</block>
  <block id="de1d1f6b64a5c5b6890c313888b290b7" category="admonition">刪除具有自動管理匯出策略的後端將刪除動態建立的匯出策略。如果後端被重新創建，它將被視為一個新的後端，並將導致創建一個新的匯出策略。</block>
  <block id="5be86c6240034dbc77f8dad4eae132b0" category="paragraph">如果正在執行中的節點的 IP 位址更新，則必須重新啟動該節點上的Trident pod。  Trident隨後將更新其管理的後端的匯出策略，以反映此 IP 變更。</block>
  <block id="fc4e16be02eac62a40d8ba5714cbeda1" category="section-title">準備配置SMB卷</block>
  <block id="e5fdb627c170dc14e3873b3da32f3aa5" category="paragraph">稍作準備，您就可以使用以下方式設定 SMB 卷<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block>司機。</block>
  <block id="ce3bd20884ed2b4f4a604d922dbb0dd9" category="admonition">您必須在 SVM 上同時設定 NFS 和 SMB/CIFS 協定才能建立<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block>適用於ONTAP本地叢集的 SMB 磁碟區。如果未能配置這些協定中的任何一個，都會導致 SMB 磁碟區建立失敗。</block>
  <block id="3c84638211d81849fc9b0b95216d1afa" category="admonition"><block ref="323e871cfe2e70ead9c713e8f3164f8f" prefix="" category="inline-code"></block>不支援 SMB 磁碟區。</block>
  <block id="8de0a7910b914d44521684fe2a3a28c6" category="paragraph">在配置 SMB 磁碟區之前，您必須具備以下條件。</block>
  <block id="072a79a382792fdaa71cab41d1340dae" category="list-text">至少有一個包含您的 Active Directory 憑證的Trident金鑰。生成秘密<block ref="e47a193687dde960f6b6f80d394142a3" prefix=" " category="inline-code"></block>：</block>
  <block id="f05dd4ff0ba35f59e465466148e57015" category="list-text">對於本地部署的ONTAP，您可以選擇建立 SMB 共享，或者Trident可以為您建立一個。</block>
  <block id="6a402202521e2168a911181e81c72faf" category="admonition">Amazon FSx for ONTAP需要 SMB 共用。</block>
  <block id="d98f239eeb5789a80cb4b247e5be144d" category="inline-link-macro">Microsoft 管理控制台</block>
  <block id="7f7041fc0ca0e00f3d3e39e4ce4a5149" category="paragraph">您可以透過以下兩種方式之一建立 SMB 管理共用：<block ref="364bc251e9c8cfbf6ce258767d17d682" category="inline-link-macro-rx"></block>共用資料夾管理單元或使用ONTAP CLI。使用ONTAP CLI 建立 SMB 共享：</block>
  <block id="c9e9c2bb32e43693c4687ec082488811" category="list-text">如有必要，請建立共用的目錄路徑結構。</block>
  <block id="8a19300a396203718795b4620552b59c" category="paragraph">這<block ref="293a1aaca0a542f4f1b1dc1a3ad95728" prefix=" " category="inline-code"></block>此指令檢查在建立共用時 -path 選項中指定的路徑。如果指定的路徑不存在，則命令執行失敗。</block>
  <block id="a968d0620b250ca44da661cadac02e42" category="list-text">建立與指定 SVM 關聯的 SMB 共用：</block>
  <block id="e172e0c83051eb537305571585af294a" category="list-text">確認共享已建立：</block>
  <block id="a6e62ff657f01a7df2d91d1ea0d3e76c" category="inline-link-macro">建立 SMB 共享</block>
  <block id="39026ea2687a8de2a318f8245aceb992" category="admonition">請參閱<block ref="2b8c6fb4597e9bb000d4d88db3769c9a" category="inline-link-macro-rx"></block>了解詳細資訊。</block>
  <block id="e4f84f59067aa8e22119bf499379385a" category="inline-link-macro">FSx for ONTAP設定選項和範例</block>
  <block id="ca088cbb36bbab4b23e57d63d95a628c" category="list-text">建立後端時，必須配置以下內容以指定 SMB 磁碟區。有關所有 FSx for ONTAP後端設定選項，請參閱<block ref="dd05fa371cf4b2c8377b8b4b261a8edd" category="inline-link-macro-rx"></block>。</block>
  <block id="3b84c7b88317953423192c633a83db9f" category="cell">*必須設定為<block ref="79e0f325804dafbdaef73b3b17c0fd8d" prefix=" " category="inline-code"></block>.*如果為空，則預設為空。<block ref="2521ef5d58fc027d3121662b7d8f9ac2" prefix=" " category="inline-code"></block> 。</block>
  <block id="767b06b78582b463da02281e05c82e45" category="cell"><block ref="79e0f325804dafbdaef73b3b17c0fd8d" prefix="" category="inline-code"></block></block>
  <block id="11d7f0efe30199fc66cbc43c427e147d" category="cell">新磁碟區的安全樣式。  *必須設定為<block ref="68e98b83f5bd746f1468dff89f529d1b" prefix=" " category="inline-code"></block>或者<block ref="1d770934d44de09b0d24f04fd01708ba" prefix=" " category="inline-code"></block>適用於 SMB 卷。 *</block>
  <block id="e76ea7f2be658dc914f9c95fe8d14fcf" category="cell"><block ref="68e98b83f5bd746f1468dff89f529d1b" prefix="" category="inline-code"></block>或者<block ref="1d770934d44de09b0d24f04fd01708ba" prefix=" " category="inline-code"></block>適用於 SMB 卷</block>
  <block id="1928bae58ae496b53ef1a163c3dbeeb4" category="cell">新卷模式。  *對於 SMB 卷，此項必須留空。 *</block>
  <block id="353061699a2e052736b77ea68a2871e3" category="paragraph">從 25.06 版本開始， NetApp Trident支援使用以下方式安全配置建立的 SMB 磁碟區：<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block>和<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block>後端。啟用安全 SMB 後，您可以使用存取控制清單 (ACL) 為 Active Directory (AD) 使用者和使用者群組提供對 SMB 共用的受控存取。</block>
  <block id="fad725216d945a6443f15949ae73b316" category="list-title">需要記住的要點</block>
  <block id="fc531b442f38e267ff561d8bd20a3d71" category="list-text">輸入<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block>不支援卷。</block>
  <block id="ae588b4a9791f58d2c577c52692f45d9" category="list-text">僅支援唯讀克隆<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block>卷。</block>
  <block id="250a0cf82016b0cf28e3072852df48ed" category="list-text">如果啟用了安全 SMB， Trident將忽略後端提到的 SMB 共用。</block>
  <block id="87275c5e346f7178346f0399a6ceb9de" category="list-text">更新 PVC 註解、儲存類別註解和後端欄位不會更新 SMB 共用 ACL。</block>
  <block id="972efd467b8594821be7b5680a32c911" category="list-text">克隆 PVC 註釋中指定的 SMB 共用 ACL 將優先於來源 PVC 中的 ACL。</block>
  <block id="a3a338c1a9eb99aaf1ddaad940b0c906" category="list-text">啟用安全 SMB 時，請確保提供有效的 AD 使用者。無效使用者將不會被加入到存取控制清單 (ACL) 中。</block>
  <block id="4dcf9ab5a157e5be3f0891588273273e" category="list-text">如果在後端、儲存類別和 PVC 中為同一個 AD 使用者提供不同的權限，則權限優先權為：PVC、儲存類，然後是後端。</block>
  <block id="e56268d5a3bb9869b9e76613edc53128" category="list-text">支援安全 SMB<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block>僅適用於託管磁碟區匯入，不適用於非託管磁碟區匯入。</block>
  <block id="315910c69a0b41f8011b0ed2cbf00430" category="list-text">在 TridentBackendConfig 中指定 adAdminUser，如下例所示：</block>
  <block id="73f6ef8943a1983b789b024c7bfecf20" category="list-text">在儲存類別中加入註解。</block>
  <block id="f89369f9c30ff9c8236b833fb1b96aef" category="paragraph">添加<block ref="b85be3102972ffc22dfe9101b510b6f3" prefix=" " category="inline-code"></block>對儲存類別進行註解，以啟用安全可靠的 SMB 連線。使用者為註釋指定的值<block ref="b85be3102972ffc22dfe9101b510b6f3" prefix=" " category="inline-code"></block>應該與指定的使用者名稱相同<block ref="e47a193687dde960f6b6f80d394142a3" prefix=" " category="inline-code"></block>秘密。您可以從以下選項中選擇一項<block ref="5fd754a88e37f6a57427226bb237f59b" prefix=" " category="inline-code"></block>：<block ref="f28185d762af16471070289c69f72331" prefix=" " category="inline-code"></block> ，<block ref="eb399bcaca686f8609137153307eecf1" prefix=" " category="inline-code"></block> ， 或者<block ref="ecae13117d6f0584c25a9da6c8f8415e" prefix=" " category="inline-code"></block>。預設權限是<block ref="f28185d762af16471070289c69f72331" prefix=" " category="inline-code"></block>。</block>
  <block id="79731e026bd64a3983c4d0a2b46c0516" category="list-text">製作PVC管。</block>
  <block id="151c5a9798f5c6d94a52ac5bce7f9436" category="paragraph">以下範例建立PVC：</block>
  <block id="24ca391029d6df294c5d5b8f1fe5b4eb" category="summary">了解如何使用ONTAP NAS 驅動程式設定ONTAP後端。</block>
  <block id="ddbd2735bfb88c5da807f77f6fe5f6c8" category="doc">ONTAP NAS 驅動程式概述</block>
  <block id="4d80e2460d711b841338dfbeea2ca8c1" category="paragraph">了解如何使用ONTAP和Cloud Volumes ONTAP NAS 驅動程式設定ONTAP後端。</block>
  <block id="8198f2a0f41303e214bcb5ab7d9e9ef4" category="section-title">ONTAP NAS 驅動程式詳情</block>
  <block id="c267535828cc965ba3fe4e10913f7285" category="paragraph">Trident提供以下 NAS 儲存驅動程序，用於與ONTAP叢集通訊。支援的存取模式有：_ReadWriteOnce_ (RWO)、_ReadOnlyMany_ (ROX)、_ReadWriteMany_ (RWX)、_ReadWriteOncePod_ (RWOP)。</block>
  <block id="2b5fc47d5a68b6070472f3a239fc77f3" category="paragraph">"，<block ref="2521ef5d58fc027d3121662b7d8f9ac2" prefix=" " category="inline-code"></block> ，<block ref="79e0f325804dafbdaef73b3b17c0fd8d" prefix=" " category="inline-code"></block></block>
  <block id="57154d2dcf591aaa3d4dcbfbba196075" category="inline-link-macro">支援的ONTAP容量限制</block>
  <block id="7fe76f1189ac93d41118f7ba3e36e3ab" category="list-text">使用<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block>僅當預計持續卷使用量高於…時<block ref="e5997a58d747f862af8a862cd1b54e31" category="inline-link-macro-rx"></block>。</block>
  <block id="a6b18abf4de4d534121b0cca3b164d74" category="list-text">使用<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block>僅當預計持續卷使用量高於…時<block ref="e5997a58d747f862af8a862cd1b54e31" category="inline-link-macro-rx"></block>以及<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block>驅動程式無法使用。</block>
  <block id="df7dec428425115b59101028bbebe58c" category="list-text">請勿使用<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block>如果您預計需要資料保護、災難復原或行動辦公室。</block>
  <block id="0ca34892a0e67f37b07d196ec272007d" category="list-text">NetApp不建議在所有ONTAP驅動程式中使用 Flexvol 自動成長，ontap-san 除外。作為變通方法， Trident支援使用快照儲備，並相應地調整 Flexvol 容量。</block>
  <block id="ce8828fc10a926c196951c9bdd0d534d" category="section-title">使用者權限</block>
  <block id="f993941dc62990aa70d883be7a386ea7" category="paragraph">Trident預期以ONTAP或 SVM 管理員身分執行，通常使用下列方式：<block ref="21232f297a57a5a743894a0e4a801fc3" prefix=" " category="inline-code"></block>集群用戶或<block ref="6173aa5206484b5224450952747c7148" prefix=" " category="inline-code"></block>SVM 用戶，或具有相同角色但名稱不同的用戶。</block>
  <block id="fed5cc1d933ad528f364a438a22f2465" category="paragraph">對於Amazon FSx for NetApp ONTAP部署， Trident需要以ONTAP或 SVM 管理員身分執行，並使用叢集。<block ref="679500f227997b45be97e3ca8115c678" prefix=" " category="inline-code"></block>用戶或<block ref="6173aa5206484b5224450952747c7148" prefix=" " category="inline-code"></block>SVM 用戶，或具有相同角色但名稱不同的用戶。這<block ref="679500f227997b45be97e3ca8115c678" prefix=" " category="inline-code"></block>用戶是集群管理員用戶的有限替代品。</block>
  <block id="6e82d09aa274380adf21d56aaa3b0413" category="admonition">如果你使用<block ref="d57551b1efacf8a7be84b4d10c5a6e99" prefix=" " category="inline-code"></block>需要參數和叢集管理員權限。當使用Amazon FSx for NetApp ONTAP和Trident時，<block ref="d57551b1efacf8a7be84b4d10c5a6e99" prefix=" " category="inline-code"></block>參數將無法與<block ref="6173aa5206484b5224450952747c7148" prefix=" " category="inline-code"></block>和<block ref="679500f227997b45be97e3ca8115c678" prefix=" " category="inline-code"></block>用戶帳戶。如果指定此參數，配置操作將失敗。</block>
  <block id="7d159230ccaa721872f31bf9be31afeb" category="paragraph">雖然可以在ONTAP中建立一個限制性更強的角色供Trident驅動程式使用，但我們不建議這樣做。  Trident的大多數新版本都會呼叫額外的 API，這些 API 必須加以考慮，這使得升級變得困難且容易出錯。</block>
  <block id="8dbaef294ecadfe828f5bab1ae097d46" category="summary">了解如何在Trident安裝中建立和使用ONTAP SAN 驅動程式。本節提供後端設定範例以及如何將後端對應到 StorageClasses 的詳細資訊。</block>
  <block id="55fd4fb7ce66d950d3136fb6613ab770" category="paragraph">了解如何在Trident安裝中建立和使用ONTAP SAN 驅動程式。本節提供後端設定範例以及將後端對應到 StorageClasses 的詳細資訊。</block>
  <block id="fde1abb5537b55c34521d414267b3f70" category="inline-link-macro">ASA r2 系統</block>
  <block id="3cc22aeaf9742834647a32871fcf9142" category="inline-link-macro">了解更多關於ASA r2 系統與其他ONTAP系統之間的差異</block>
  <block id="1fb5039067c7374148ef72425e995a96" category="paragraph"><block ref="9f40590ca1185cea7261c2a60fc922ea" category="inline-link-macro-rx"></block>與其他ONTAP系統（ASA、 AFF和FAS）在儲存層的實作上有所不同。這些變化會影響某些參數的使用，如註釋中所述。<block ref="54401c26bff345016bccb2761388f645" category="inline-link-macro-rx"></block>。</block>
  <block id="e6a4a47ba933fc66b26212913912ce7d" category="admonition">只有<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block>ASA r2 系統支援驅動程式（支援 iSCSI 和 NVMe/TCP 協定）。</block>
  <block id="c8863c7edb3430d82345fb2d429904cc" category="paragraph">在Trident後端設定中，無需指定您的系統是ASA r2。當您選擇<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block>作為<block ref="d45aebe724c55b101f2ae8924ba3d486" prefix=" " category="inline-code"></block>Trident可自動偵測ASA r2 或傳統的ONTAP系統。如下表所示，某些後端設定參數不適用於ASA r2 系統。</block>
  <block id="b6de3e094a7f00742b82e2ac02d7d167" category="cell"><block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix="" category="inline-code"></block>或者<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block></block>
  <block id="b42a873c5558eb05b643cf896aa6e1a4" category="paragraph">叢集或 SVM 管理 LIF 的 IP 位址。</block>
  <block id="3dba01512ea96ad84a108f0fc949477a" category="paragraph">可以指定一個完全限定網域名稱（FQDN）。</block>
  <block id="fcc539559cb740199f02074f11b246c3" category="paragraph">如果Trident安裝時使用了 IPv6 標誌，則可以設定為使用 IPv6 位址。  IPv6 位址必須用方括號定義，例如：<block ref="33e9328e92e3ef05629093b4693b3925" prefix=" " category="inline-code"></block> 。</block>
  <block id="3b4dab2ec7635dde859482b32c23ab9f" category="paragraph">為了實現MetroCluster 的無縫切換，請參閱<block ref="41195e18a4a81a05f5c5a6be365a5602" category="inline-xref-macro-rx"></block>。</block>
  <block id="1925cd490b13f25205214eccfe51fccd" category="admonition">如果您使用的是「vsadmin」憑證，<block ref="a6ea6092cb7b9c5f31909eb4be8fa5ea" prefix=" " category="inline-code"></block>必須是SVM的憑證；如果使用「admin」憑證，<block ref="a6ea6092cb7b9c5f31909eb4be8fa5ea" prefix=" " category="inline-code"></block>必須是集群的那個。</block>
  <block id="2c8c9fb51502e9a1b2d2539b4d21a27b" category="cell">LIF協定的IP位址。如果Trident安裝時使用了 IPv6 標誌，則可以設定為使用 IPv6 位址。  IPv6 位址必須用方括號定義，例如：<block ref="33e9328e92e3ef05629093b4693b3925" prefix=" " category="inline-code"></block> 。 *請勿指定使用 iSCSI。 *Trident的使用<block ref="2de2f329c45219df280af5a70ed7a17c" category="inline-link-macro-rx"></block>發現建立多路徑會話所需的 iSCSI LIF。如果出現以下情況，則會產生警告：<block ref="ea76b2438eb5996eb2c347e7341ed59a" prefix=" " category="inline-code"></block>已明確定義。 *Metrocluster 除外。 *查看<block ref="41195e18a4a81a05f5c5a6be365a5602" category="inline-xref-macro-rx"></block>。</block>
  <block id="3418e818bbbe397a49b7096a5ed87929" category="cell">由支援向量機導出</block>
  <block id="ab4ce1634362493e6de248d103136787" category="cell"><block ref="099cb468880f266cba40b49391fa46bc" prefix="" category="inline-code"></block></block>
  <block id="ad622c65f52f8bde8780fec7bcab74a6" category="cell">使用 CHAP 對ONTAP SAN 驅動程式的 iSCSI 進行驗證 [布林值]。設定為<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>讓Trident配置並使用雙向 CHAP 作為後端給定 SVM 的預設身份驗證。參考 <block ref="866e591dc2a03ecc454dad25a664ca86" category="inline-link-macro-rx"></block> 了解詳情。  *不支援FCP或NVMe/TCP協定。 *</block>
  <block id="7c6b65d42434282f1555f13b40e9fd25" category="cell"><block ref="f9d0dc78b203f2c1106dc0c7d58a5397" prefix="" category="inline-code"></block></block>
  <block id="c8a7a6136447a56280ecf99e3ed87d65" category="cell">CHAP 發起者金鑰。如果是必填項<block ref="68978ccf4ed83900c8dd27558ca5ec18" prefix=" " category="inline-code"></block></block>
  <block id="948938ec6491061ccf17c7ae8eafbd26" category="cell"><block ref="4ab84a55744951d967033db9b64f6b27" prefix="" category="inline-code"></block></block>
  <block id="48db71efc42dda989b98744160575f4f" category="cell">CHAP 目標發起者金鑰。如果是必填項<block ref="68978ccf4ed83900c8dd27558ca5ec18" prefix=" " category="inline-code"></block></block>
  <block id="28687fafefb2992ff7856dcfd2c29e1f" category="cell"><block ref="039e9d80fa53ba861c06b590ba3f9d34" prefix="" category="inline-code"></block></block>
  <block id="e3f84c141fd3f4682dfb31e0d71c7f5f" category="cell">入站用戶名。如果是必填項<block ref="68978ccf4ed83900c8dd27558ca5ec18" prefix=" " category="inline-code"></block></block>
  <block id="62fbbf4cfd0cc0a82f953199d14a61e3" category="cell"><block ref="2ebe107bb3bc9551fbb0e5033046931c" prefix="" category="inline-code"></block></block>
  <block id="a379a576b788ab047d5e6405ff4f3511" category="cell">目標用戶名。如果是必填項<block ref="68978ccf4ed83900c8dd27558ca5ec18" prefix=" " category="inline-code"></block></block>
  <block id="2da9f60cc5b99a5987580c38e6db0842" category="cell">受信任 CA 憑證的 Base64 編碼值。選修的。用於基於憑證的身份驗證。</block>
  <block id="50d0e6e4ea5256d25a55581de47b2a0f" category="cell">與ONTAP叢集通訊所需的使用者名稱。用於基於憑證的身份驗證。有關 Active Directory 驗證，請參閱 <block ref="c266761f957eda011224921a8539eded" category="inline-link-macro-rx"></block>。</block>
  <block id="dece0a70145f48ad3b540f19d6ed5df8" category="cell">與ONTAP集群通訊所需的密碼。用於基於憑證的身份驗證。有關 Active Directory 驗證，請參閱 <block ref="c266761f957eda011224921a8539eded" category="inline-link-macro-rx"></block>。</block>
  <block id="972abf48cbbadbcd573754140d35e19a" category="cell">使用的儲存虛擬機</block>
  <block id="a0de2cc0c77c388210e1f48423eea29c" category="cell">在 SVM 中配置新磁碟區時所使用的前綴。之後無法修改。要更新此參數，您需要建立一個新的後端。</block>
  <block id="56d1e7863190cbf5e7689e2821d0959e" category="cell"><block ref="47cb44be55a0dffa15dfc900a4c687be" prefix="" category="inline-code"></block></block>
  <block id="8ecd39a3ee998e2e8b3b033dc8756c23" category="paragraph">*請勿指定用於ASA r2 系統*。</block>
  <block id="e35a87c3115267331b4387f1e07a5e0a" category="cell">如果使用率超過此百分比，則配置失敗。如果您使用的是Amazon FSx for NetApp ONTAP後端，請勿指定<block ref="d57551b1efacf8a7be84b4d10c5a6e99" prefix=" " category="inline-code"></block>。提供的<block ref="679500f227997b45be97e3ca8115c678" prefix=" " category="inline-code"></block>和<block ref="6173aa5206484b5224450952747c7148" prefix=" " category="inline-code"></block>不包含檢索匯總使用情況和使用Trident限制它所需的權限。  *請勿指定用於ASA r2 系統*。</block>
  <block id="bc78339d85241498c635b61d8f201ef9" category="cell">如果請求的磁碟區大小大於此值，則配置失敗。同時限制其管理的 LUN 卷的最大大小。</block>
  <block id="c9a303edbc714d051896c3a678e59a8a" category="cell"><block ref="10c2308c62a9c0c2c33bcb4ad2f72be1" prefix="" category="inline-code"></block></block>
  <block id="79892588cbecd0b88729ea1a55b2a3a4" category="cell">每個 Flexvol 的最大 LUN 數量必須在 [50, 200] 範圍內</block>
  <block id="3bc2d9079510db6d0570883494bc5984" category="cell"><block ref="f899139df5e1059396431415e770c6dd" prefix="" category="inline-code"></block></block>
  <block id="3eeb940d8060411516e1578a9fd70a15" category="cell">故障排除時要使用的調試標誌。例如，{"api":false, "method":true} 除非您正在進行故障排除並且需要詳細的日誌轉儲，否則請勿使用此方法。</block>
  <block id="51e6d748c5af856ade589011dc2c7e85" category="cell"><block ref="37a6259cc0c1dae299a7866489dff0bd" prefix="" category="inline-code"></block></block>
  <block id="f928067a28069be4d1f767db45a657cb" category="paragraph">使用ONTAP REST API 的布林參數。</block>
  <block id="19d6e9263401c68c1dd92f3647e19255" category="paragraph"><block ref="14d839191d1ecf387a15b5b0c802a8ae" prefix="" category="inline-code"></block>設定為<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>Trident使用ONTAP REST API 與後端通訊；當設定為<block ref="68934a3e9455fa72420237eb05902327" prefix=" " category="inline-code"></block>Trident使用 ONTAPI (ZAPI) 呼叫與後端通訊。此功能需要ONTAP 9.11.1 及更高版本。此外，所使用的ONTAP登入角色必須具有存取權限。<block ref="045ed0306c61104cb0777ccd31ce648b" prefix=" " category="inline-code"></block>應用。預定義項滿足了這一點。<block ref="6173aa5206484b5224450952747c7148" prefix=" " category="inline-code"></block>和<block ref="fdb6ba311fad29ec53069808f10ebef4" prefix=" " category="inline-code"></block>角色。從Trident 24.06 版本和ONTAP 9.15.1 或更高版本開始，<block ref="14d839191d1ecf387a15b5b0c802a8ae" prefix=" " category="inline-code"></block>設定為<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>預設；更改<block ref="14d839191d1ecf387a15b5b0c802a8ae" prefix=" " category="inline-code"></block>到<block ref="68934a3e9455fa72420237eb05902327" prefix=" " category="inline-code"></block>使用 ONTAPI (ZAPI) 呼叫。</block>
  <block id="39a2e6c36a2ad2c2884bcd5d8f474fbb" category="paragraph"><block ref="14d839191d1ecf387a15b5b0c802a8ae" prefix="" category="inline-code"></block>完全符合 NVMe/TCP 標準。</block>
  <block id="6f95f26584cb2bbbc9c25ed197bf9234" category="admonition">NVMe 僅支援ONTAP REST API，不支援 ONTAPI (ZAPI)。</block>
  <block id="32653402e1251f3e6f9db04a67492d01" category="paragraph">*如果指定，則始終設定為<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>適用於ASA r2 系統*。</block>
  <block id="1f5f7f2866fe3a2c557b2ea38e4c2137" category="cell">用於選擇<block ref="39eea648dab96b0ee6022dabb38bc420" prefix=" " category="inline-code"></block>對於 iSCSI，<block ref="eac89e2640666fd1076a776e4b748fae" prefix=" " category="inline-code"></block>適用於 NVMe/TCP 或<block ref="0f64d0456878c73cbec1ccea842a6f14" prefix=" " category="inline-code"></block>用於光纖通道 (FC) 上的 SCSI。</block>
  <block id="c59bb4e25695c195dbaa360d34c9795e" category="cell"><block ref="ef225248e79c14501d51a4941b5ae5d1" prefix="" category="inline-code"></block></block>
  <block id="091b358e8a9ea5e6b1137fbd4c18372f" category="paragraph">使用<block ref="ef225248e79c14501d51a4941b5ae5d1" prefix=" " category="inline-code"></block>為以下情況指定命令列參數<block ref="899da842f7d2c1db0e3f8c88ad72507f" prefix=" " category="inline-code"></block>該命令將在每次格式化磁碟區時套用。這樣您就可以根據自己的喜好格式化音量。請確保指定與 mkfs 指令選項類似的 formatOptions，但不包含裝置路徑。例如：“-E nodiscard”</block>
  <block id="3964653e783e46fb3a1ae3dc4aaa54ad" category="paragraph">*支援<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block>和<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block>支援 iSCSI 協定的驅動程式。 *  *此外，在使用 iSCSI 和 NVMe/TCP 協定時， ASA r2 系統也受支援。 *</block>
  <block id="d981d675ba14b9478a2c2da5c7df780b" category="cell">在 ontap-san-economy 後端使用 LUN 時可請求的最大FlexVol大小。</block>
  <block id="a5b88f2b14a5b0fa1aa2bbed9eb87602" category="cell">限制<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block>後端建立新的FlexVol區來包含它們的 LUN。只有預先存在的 Flexvol 才能用於配置新的 PV。</block>
  <block id="18eb1633594b2436e83e73071958b960" category="section-title">使用 formatOptions 的建議</block>
  <block id="d9ec468a8922eca17349404c59b7659c" category="paragraph">Trident建議採用以下選項來加速格式化流程：</block>
  <block id="ee8d7eb9cc1e43184ed6a64abb3255f6" category="paragraph">*-E nodiscard:*</block>
  <block id="788fe8d661645297ab41d7c9235dcbb8" category="list-text">保留，不要在執行 mkfs 時嘗試丟棄區塊（最初丟棄區塊對固態設備和稀疏/精簡配置儲存很有用）。這取代了已棄用的選項“-K”，並且適用於所有檔案系統（xfs、ext3 和 ext4）。</block>
  <block id="27e5aeb0225e5a43e4c8c17f706a0a14" category="inline-link-macro">在ONTAP中設定 Active Directory 網域控制站存取</block>
  <block id="2d6f3231a7f0c1252294552c9ce9c1e0" category="paragraph">您可以設定Trident以使用 Active Directory (AD) 憑證對後端 SVM 進行驗證。在 AD 帳戶可以存取 SVM 之前，您必須設定 AD 網域控制站對叢集或 SVM 的存取權限。對於使用 AD 帳戶進行叢集管理，您必須建立網域隧道。參考 <block ref="affb415ae65d1b8ff6d4848fb0c01200" category="inline-link-macro-rx"></block> 了解詳情。</block>
  <block id="fca3ffea6534176432f58b5a22ed22e1" category="list-title">步驟</block>
  <block id="fa349cdbbc85b9c18e91508e377f8475" category="list-text">為後端 SVM 配置網域名稱系統 (DNS) 設定：</block>
  <block id="1ffd05fea44ee961865d2fb5edc44bed" category="paragraph"><block ref="c3a0bdbd7b81f16edc3a67d3fbf4564b" prefix="" category="inline-code"></block></block>
  <block id="c1ddcdee488a34a4b44c78f926dfee75" category="list-text">執行下列命令在 Active Directory 中為 SVM 建立電腦帳戶：</block>
  <block id="1e1b13ed7ccf639907d02e773fed43f5" category="paragraph"><block ref="c53a082488a948b7a70806546ba7211d" prefix="" category="inline-code"></block></block>
  <block id="34dd5efc5c883d290ed743abcc3fccb1" category="list-text">使用此命令建立 AD 使用者或群組來管理叢集或 SVM</block>
  <block id="82a5f11771bfe77a499bcb96a45ce13f" category="paragraph"><block ref="22ec37652eb447176b3d5645ac4a7dbb" prefix="" category="inline-code"></block></block>
  <block id="743fda998716813dc210d0fd0c3f2b65" category="list-text">在Trident後端設定檔中，設定<block ref="14c4b06b824ec593239362517f538b29" prefix=" " category="inline-code"></block> 和<block ref="5f4dcc3b5aa765d61d8327deb882cf99" prefix=" " category="inline-code"></block> 參數分別為 AD 使用者或群組名稱和密碼。</block>
  <block id="26161d08a960162cd8633d0e23058aed" category="cell">LUN 的空間分配</block>
  <block id="bf1a2c4f1b2b258c38cce886d156e3c6" category="cell">“true” *如果指定，則設定為<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>適用於ASA r2 系統*。</block>
  <block id="4ff68efad333313447b8808c20a63224" category="cell">空間預留模式；「無」（細）或「大量」（粗）。  *設定為<block ref="334c4a4c42fdb79d7ebc3e73b517e6f8" prefix=" " category="inline-code"></block>適用於ASA r2* 系統。</block>
  <block id="d5ff78b8f84bf2feac9559d3c4a5d31c" category="cell">要使用的快照策略。  *設定為<block ref="334c4a4c42fdb79d7ebc3e73b517e6f8" prefix=" " category="inline-code"></block>適用於ASA r2 系統*。</block>
  <block id="f1e8c049fa2ad08b8d1a332e2d26163e" category="cell">若要為建立的磁碟區指派的 QoS 策略群組。每個儲存池/後端選擇 qosPolicy 或 adaptiveQosPolicy 之一。將 QoS 策略群組與Trident結合使用需要ONTAP 9.8 或更高版本。您應該使用非共享的 QoS 策略群組，並確保該策略群組單獨套用至每個成員。共享的 QoS 策略群組強制規定所有工作負載的總吞吐量上限。</block>
  <block id="036c0eabd455d8a92d350429f2f5747e" category="cell">若要為建立的磁碟區指派的自適應 QoS 策略群組。每個儲存池/後端選擇 qosPolicy 或 adaptiveQosPolicy 之一</block>
  <block id="a75bcbe76d1f50305372e9c85d59b73c" category="cell">為快照預留的磁碟區百分比。  *請勿指定用於ASA r2 系統*。</block>
  <block id="c2ae626eaa4dcf2be1d158758d5f789a" category="cell">“false” *如果指定，則設定為<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>適用於ASA r2 系統*。</block>
  <block id="b8ae61dc50cf8e8b79e68bc4a8d36393" category="cell"><block ref="0f179ba2bc32ab5d8f60692f5b800c86" prefix="" category="inline-code"></block></block>
  <block id="a56dcba8eacdac67fb510e1434d560d8" category="inline-link-macro">使用 Linux 統一金鑰設定 (LUKS)</block>
  <block id="b71ccf1062cee8c376a7eb37e3c42603" category="cell">啟用LUKS加密。參考<block ref="569f9f91cdcc19909b8acbf6f423daf7" category="inline-link-macro-rx"></block>。</block>
  <block id="317afded0cc22ff8de16ceec60d3e0ed" category="cell">*設定為<block ref="68934a3e9455fa72420237eb05902327" prefix=" " category="inline-code"></block>適用於ASA r2 系統*。</block>
  <block id="d716a23a6e731bf750989a45cf32a804" category="cell">分層策略使用「無」 *請勿為ASA r2 系統指定* 。</block>
  <block id="e78c177a9e5dfcf995756c1f03c48529" category="admonition">對於使用以下方式建立的所有捲<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block>驅動程式Trident為FlexVol增加了 10% 的額外容量，以容納 LUN 元資料。  LUN 將依照使用者在 PVC 中要求的確切大小進行設定。 Trident使FlexVol增加 10%（在ONTAP中顯示為可用尺寸）。用戶現在將獲得他們所申請的可用容量。此項變更還可以防止 LUN 在可用空間未完全利用之前變為唯讀。這不適用於 ontap-san-economy。</block>
  <block id="2d4fda186ee0e99d76ee82d9cd36b908" category="paragraph">對於定義後端<block ref="bb0d75280f9b683f2f1f0767fd0aff9b" prefix=" " category="inline-code"></block>Trident計算體積大小的方法如下：</block>
  <block id="d3b60a0dd59d810307a1e694f1de96a1" category="paragraph">1.1 是Trident為容納 LUN 元資料而額外添加到FlexVol 的10%。為了<block ref="bb0d75280f9b683f2f1f0767fd0aff9b" prefix=" " category="inline-code"></block>= 5%，PVC 請求 = 5 GiB，總體積大小為 5.79 GiB，可用大小為 5.5 GiB。這<block ref="0c5606ed319753bb2d86a485f23c8f6d" prefix=" " category="inline-code"></block>該命令應顯示與此範例類似的結果：</block>
  <block id="e6e049b4753c744e95db32b0eeed8d5c" category="paragraph">目前，調整大小是將新計算方法應用於現有體積的唯一方法。</block>
  <block id="b1b6ee25d859768bce6271cfb4265c37" category="admonition">如果您在NetApp ONTAP上使用Amazon FSx和Trident， NetApp建議您為 LIF 指定 DNS 名稱而非 IP 位址。</block>
  <block id="4930386ddaad825d64732ee9ec5e65b8" category="example-title">ONTAP SAN 範例</block>
  <block id="cd5dd52b9f0bba70b1336e13afe05818" category="paragraph">這是使用以下方法的基本配置：<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block>司機。</block>
  <block id="d5be4c1bab384a780d2912d10b295308" category="paragraph">為了實現無縫切換和切換回，請指定 SVM<block ref="a6ea6092cb7b9c5f31909eb4be8fa5ea" prefix=" " category="inline-code"></block>並省略<block ref="924ff83ff1e671bacfb07ff12b845703" prefix=" " category="inline-code"></block>參數。例如：</block>
  <block id="8a10ba8eb41944c10648f18ba7e16239" category="example-title">ONTAP SAN 經濟範例</block>
  <block id="60eac39d4383fedcc1df436a2d0e856d" category="paragraph">在這個基本設定範例中<block ref="79fffaff4013c1e8c508e76646eca77b" prefix=" " category="inline-code"></block>，<block ref="19dce7ac7f5290fc8fa218ad0c858df5" prefix=" " category="inline-code"></block> ， 和<block ref="8468461bca00a47ab5ddba2afc45f52c" prefix=" " category="inline-code"></block>（如果使用受信任的 CA，則為可選）<block ref="9c15d32711e9ef8c6f76deda35452e13" prefix=" " category="inline-code"></block>分別取客戶端憑證、私鑰和受信任 CA 憑證的 base64 編碼值。</block>
  <block id="31089bb4131b18ca65c3d384cdd49644" category="example-title">雙向 CHAP 範例</block>
  <block id="17baa03e9287aee400bc2e606d247156" category="paragraph">這些範例創建了一個後端。<block ref="099cb468880f266cba40b49391fa46bc" prefix=" " category="inline-code"></block>設定為<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>。</block>
  <block id="7a4c6868ec70d1fbee3cb3a7483e21d0" category="listing-title">ONTAP SAN CHAP 範例</block>
  <block id="a0c1c7f21916f2a4fb0f0d56732adc90" category="listing-title">ONTAP SAN 經濟 CHAP 範例</block>
  <block id="a242dbcec09373d25c5fb582f9f2cfc6" category="example-title">NVMe/TCP 範例</block>
  <block id="3a3347de03ef37c1eb5eb525619ff905" category="paragraph">您的ONTAP後端必須設定使用 NVMe 的 SVM。這是 NVMe/TCP 的基本後端配置。</block>
  <block id="c905ec8a79a58aa12ad3c7ae35e3127d" category="example-title">SCSI over FC (FCP) 範例</block>
  <block id="aecb281656d93e34b85fc03341498ff2" category="paragraph">您的ONTAP後端必須配置 FC 的 SVM。這是 FC 的基本後端配置。</block>
  <block id="d502f4db20ef2dbccab335781e870976" category="example-title">ontap-san-economy 驅動程式的 formatOptions 範例</block>
  <block id="6b743d9085f7f94d7a334c4386fbe239" category="paragraph">在這些範例後端定義檔中，所有儲存池都設定了特定的預設值，例如：<block ref="cae77b049bf504af7afc43b99b6c5213" prefix=" " category="inline-code"></block>沒有，<block ref="45922ba6ba8428764f22ed06f814c762" prefix=" " category="inline-code"></block>為假，並且<block ref="5bdf74912a51c34815f11e9a3d20b609" prefix=" " category="inline-code"></block>錯誤。虛擬池在儲存部分中定義。</block>
  <block id="54ed52257df13a4cb85caecc569dfeff" category="paragraph">Trident在「備註」欄位中設定配置標籤。在配置時， Trident會將虛擬池上的所有標籤複製到儲存卷，並在FlexVol volume上設定註解。為了方便起見，儲存管理員可以為每個虛擬池定義標籤，並按標籤將磁碟區分組。</block>
  <block id="50543d5d423c4c1a0b4fdd41383189e5" category="paragraph">以下 StorageClass 定義指的是<block ref="d690aebda44a37b8ae9c2c6f1918cb30" category="inline-xref-macro-rx"></block>。使用<block ref="bed471c4a88e25ac9a7e4a7b980700a8" prefix=" " category="inline-code"></block>在欄位中，每個 StorageClass 都會指出哪些虛擬池可用於託管磁碟區。卷將具有所選虛擬池中定義的各個方面。</block>
  <block id="514e71168790374132badc1258ee5136" category="list-text">這<block ref="63f9100803e1f67a5e33cbd5da9dbb33" prefix=" " category="inline-code"></block>StorageClass 將會對應到第一個虛擬池。<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block>後端。這是唯一提供黃金級保護的泳池。</block>
  <block id="a9c41ef671a6da4ed0f439f86683b714" category="list-text">這<block ref="afbfe298fa275e5fff1aca9b2f213d9a" prefix=" " category="inline-code"></block>StorageClass 將會對應到第二個和第三個虛擬池。<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block>後端。除了黃金等級之外，只有這些金池提供其他等級的保護。</block>
  <block id="910ed65246d7ee240ec166f94b1fd5c9" category="list-text">這<block ref="65846755494383158592c748f74421ec" prefix=" " category="inline-code"></block>StorageClass 將會對應到第三個虛擬池<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block>後端。這是唯一一個為mysqldb類型應用程式提供儲存池配置的儲存池。</block>
  <block id="fa03c7de8b1b7b7061bb536c211f3aaf" category="list-text">這<block ref="2e63b2ff91d4aeb88b54db5c90b71443" prefix=" " category="inline-code"></block>StorageClass 將會對應到第二個虛擬池<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block>後端。這是唯一提供銀級保護和 20000 積分的獎金池。</block>
  <block id="ac996ac8e4442d8a2791ba8b1e301a02" category="list-text">這<block ref="a96bee9dd30f3ea0af93b4c64ca1e4a4" prefix=" " category="inline-code"></block>StorageClass 將會對應到第三個虛擬池<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block>後端與第四個虛擬池<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block>後端。這是唯一提供 5000 點的彩池產品。</block>
  <block id="1b931baab9ca74be94af72763666c941" category="list-text">這<block ref="33aacad9b122abfdfadc06e3e7fa5f59" prefix=" " category="inline-code"></block>StorageClass 將會對應到<block ref="11e89beb13d19bf6e3ab7ed65673b27d" prefix=" " category="inline-code"></block>虛擬池<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block>司機<block ref="6fa083b88d05083e680071073d06c3af" prefix=" " category="inline-code"></block>。這是唯一一家提供泳池的公司<block ref="5ca85ebb1d881fde490deaa5817c4ca5" prefix=" " category="inline-code"></block>。</block>
  <block id="8f828c7344e7fe65d66237a25193068b" category="summary">了解如何準備配置具有ONTAP SAN 驅動程式的ONTAP後端。</block>
  <block id="37a679c38162162811d93d22ba8f5b4a" category="paragraph">了解配置ONTAP後端和ONTAP SAN 驅動程式的要求和驗證選項。</block>
  <block id="9e925e9341b490bfd3b4c4ca3b0c1ef2" category="inline-link-macro">這</block>
  <block id="5a401de4946c2175a17ad6fda3a04781" category="admonition"><block ref="9f40590ca1185cea7261c2a60fc922ea" category="inline-link-macro-rx"></block>與其他ONTAP系統（ASA、 AFF和FAS）在儲存層的實作上有所不同。在ASA r2 系統中，使用儲存可用區而不是聚合。請參閱<block ref="261295ed43e7c9d663fb0a84ba5b2157" category="inline-link-macro-rx"></block>知識庫文章，介紹如何在ASA r2 系統中將聚合指派給 SVM。</block>
  <block id="5475028f502d04bc17cdfdf613d28cbf" category="paragraph">請記住，您還可以運行多個驅動程序，並建立指向其中一個或另一個驅動程式的儲存類別。例如，您可以設定一個<block ref="a4803fbb1a1ed00b47f0b526d515d172" prefix=" " category="inline-code"></block>使用類別<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block>司機和<block ref="cc765df73da51962d9d46e6fbe9d1131" prefix=" " category="inline-code"></block>使用類別<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block>一。</block>
  <block id="beee3e754bb36e7321f32ad13d4ac60a" category="paragraph">所有 Kubernetes 工作節點都必須安裝對應的 iSCSI 工具。參考 <block ref="9e8cf70fcb465bf1907b585f74e9e1a6" category="inline-link-macro-rx"></block> 了解詳情。</block>
  <block id="00cbc0e7ed0014813b07fc8452f60df1" category="list-text">基於憑證：具有所需權限的ONTAP使用者的使用者名稱和密碼。建議使用預先定義的安全登入角色，例如：<block ref="21232f297a57a5a743894a0e4a801fc3" prefix=" " category="inline-code"></block>或者<block ref="6173aa5206484b5224450952747c7148" prefix=" " category="inline-code"></block>確保與ONTAP版本最大程度相容。</block>
  <block id="83e850c97b7044397eba3d214682be5b" category="list-text">基於憑證： Trident也可以使用安裝在後端的憑證與ONTAP叢集通訊。此處，後端定義必須包含用戶端憑證、金鑰和受信任 CA 憑證（如果使用，建議使用）的 Base64 編碼值。</block>
  <block id="7ac6994e44af62a9075fd956e72ee6fb" category="paragraph">請注意，後端定義是唯一以純文字形式儲存憑證的地方。後端建立完成後，使用者名稱/密碼將使用 Base64 進行編碼，並儲存為 Kubernetes 金鑰。只有在建立或更新後端時才需要了解憑證。因此，這是一項僅限管理員執行的操作，由 Kubernetes/儲存管理員執行。</block>
  <block id="7fbe6e40125b7d1b2f5c5c05044e7526" category="section-title">啟用基於憑證的身份驗證</block>
  <block id="ea3bf76b270384627e7bcfb197ddb17b" category="list-text">使用產生的憑證進行身份驗證。請將 &lt; ONTAP管理 LIF&gt; 和 &lt;vserver 名稱&gt; 替換為管理 LIF IP 位址和 SVM 名稱。</block>
  <block id="6adbf3424e5de1b4e2baad3b4d632c4a" category="paragraph">您可以更新現有後端，以使用不同的身份驗證方法或輪換其憑證。這種方法是雙向的：使用使用者名稱/密碼的後端可以更新為使用憑證；使用憑證的後端可以更新為基於使用者名稱/密碼的後端。為此，您必須刪除現有的身份驗證方法並新增新的身份驗證方法。然後使用包含所需參數的更新後的 backend.json 檔案來執行<block ref="ad782b779edfd8199198bed41b3e3b6b" prefix=" " category="inline-code"></block>。</block>
  <block id="42f93278b0d15c8d0f6613813bf586d5" category="section-title">使用雙向 CHAP 驗證連接</block>
  <block id="14bc1b6d66d79a6242106075078d6a75" category="paragraph">Trident可以使用雙向 CHAP 對 iSCSI 會話進行驗證。<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block>和<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block>司機。這需要啟用<block ref="099cb468880f266cba40b49391fa46bc" prefix=" " category="inline-code"></block>在後端定義中新增選項。設定為<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>Trident將 SVM 的預設發起程序安全地配置為雙向 CHAP，並從後端檔案設定使用者名稱和金鑰。 NetApp建議使用雙向 CHAP 協定對連線進行身份驗證。請參閱以下範例配置：</block>
  <block id="12dd7bfa072b5a1eecf975f6a5a6eaa7" category="admonition">這<block ref="099cb468880f266cba40b49391fa46bc" prefix=" " category="inline-code"></block>此參數是一個布林選項，只能配置一次。預設值為 false。一旦將其設為 true，就無法再將其設為 false。</block>
  <block id="bc601528678aeeb582101ed205a054bc" category="paragraph">另外<block ref="68978ccf4ed83900c8dd27558ca5ec18" prefix=" " category="inline-code"></block>， 這<block ref="f9d0dc78b203f2c1106dc0c7d58a5397" prefix=" " category="inline-code"></block>，<block ref="4ab84a55744951d967033db9b64f6b27" prefix=" " category="inline-code"></block> ，<block ref="2ebe107bb3bc9551fbb0e5033046931c" prefix=" " category="inline-code"></block> ， 和<block ref="039e9d80fa53ba861c06b590ba3f9d34" prefix=" " category="inline-code"></block>欄位必須包含在後端定義中。創建後端後，可以透過執行以下命令來更改密鑰：<block ref="2849e93e1b3790bcd408a4f7ea580dbb" prefix=" " category="inline-code"></block> 。</block>
  <block id="9ffdb95250e26c7a6b468126ac7c75b0" category="section-title">工作原理</block>
  <block id="a3101deed09a2c98e2dc3f8d302ef2ec" category="paragraph">透過設定<block ref="099cb468880f266cba40b49391fa46bc" prefix=" " category="inline-code"></block>如果設定為 true，則儲存管理員指示Trident在儲存裝置後端設定 CHAP。其中包括以下內容：</block>
  <block id="29b4db879e4cc96a6b71bc763367624b" category="list-text">在SVM上設定CHAP：</block>
  <block id="8a8d93d572194f00b71a710946af762d" category="list-text">如果 SVM 的預設啟動器安全類型為「無」（預設）*且*磁碟區中不存在任何預先存在的 LUN，Trident會將預設安全類型設為「無」。<block ref="9ef2bbb12ff72558472202561a25058d" prefix=" " category="inline-code"></block>然後繼續配置 CHAP 發起程序和目標使用者名稱及金鑰。</block>
  <block id="1938c188012d6b3e1bb2a8ab1d30ed4b" category="list-text">如果 SVM 包含 LUN， Trident將不會在 SVM 上啟用 CHAP。這樣可以確保對 SVM 上已存在的 LUN 的存取不受限制。</block>
  <block id="13e0c564d5e1fbd33279fb276166653d" category="list-text">配置 CHAP 發起程序和目標使用者名稱和金鑰；這些選項必須在後端配置中指定（如上所示）。</block>
  <block id="6aee28036e0c3cf4a8792451108bdab1" category="paragraph">後端建立完成後， Trident會建立一個對應的<block ref="18d388723371b89385366f93f0fbbbc6" prefix=" " category="inline-code"></block>CRD 並將 CHAP 金鑰和使用者名稱儲存為 Kubernetes 金鑰。  Trident在此後端建立的所有 PV 都將透過 CHAP 進行安裝和連線。</block>
  <block id="81f2df0265026a1a04bda5484798a10d" category="section-title">輪換憑證並更新後端</block>
  <block id="a7fe005c9f49619f4438aac8932fb361" category="paragraph">您可以透過更新 CHAP 參數來更新 CHAP 憑證。<block ref="9c15d32711e9ef8c6f76deda35452e13" prefix=" " category="inline-code"></block>文件。這將需要更新 CHAP 金鑰並使用<block ref="2849e93e1b3790bcd408a4f7ea580dbb" prefix=" " category="inline-code"></block>命令反映這些變更。</block>
  <block id="684e3a49585228dba75783996b7b6fe7" category="admonition">更新後端 CHAP 金鑰時，必須使用<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>更新後端。請勿使用ONTAP CLI 或ONTAP系統管理員更新儲存叢集上的憑證，因為Trident將無法偵測到這些變更。</block>
  <block id="efa0e2d045a35ff3060322078634f115" category="paragraph">現有連線將不受影響；如果Trident在 SVM 上更新憑證，則這些連線將繼續保持活動狀態。新連線使用更新後的憑證，現有連線將繼續保持活動狀態。斷開並重新連接舊的PV將使它們使用更新的憑證。</block>
  <block id="ef1161058705470bb877fbce688eea9e" category="summary">了解如何使用ONTAP SAN 驅動程式設定ONTAP後端。</block>
  <block id="5cc1e28c0d7b6c40ca94aacb554b31ca" category="doc">ONTAP SAN 驅動程式概述</block>
  <block id="133184f8c608809bdc057abf1397d10d" category="paragraph">了解如何使用ONTAP和Cloud Volumes ONTAP SAN 驅動程式設定ONTAP後端。</block>
  <block id="a493eb50acc1b5a276034b914c4ce10d" category="section-title">ONTAP SAN 驅動程式詳情</block>
  <block id="b5ab1040103dff58a29ac4bd0e6ce111" category="paragraph">Trident提供以下 SAN 儲存驅動程序，用於與ONTAP叢集通訊。支援的存取模式有：_ReadWriteOnce_ (RWO)、_ReadOnlyMany_ (ROX)、_ReadWriteMany_ (RWX)、_ReadWriteOncePod_ (RWOP)。</block>
  <block id="1f04e6944e16311a300b742aa0cfb55c" category="paragraph">iSCSI 透過光纖通道提供 SCSI 服務</block>
  <block id="28c142639a9bbdd526b8eb986c13907d" category="paragraph">無檔案系統；原始區塊設備</block>
  <block id="94188b3f68e7baf5ef4a1f721857e77c" category="paragraph">ROX 和 RWX 在檔案系統磁碟區模式下不可用。</block>
  <block id="8b7c42123642e2e4ea7dd426aeb2de58" category="paragraph">NVMe/TCP</block>
  <block id="2ee381348973cd50c3668eadbccdc328" category="paragraph">參考<block ref="2d7d4515af7fd5f414df696a804f30f7" category="inline-xref-macro-rx"></block>。</block>
  <block id="e5981541c0e608f7fb860a1ba0443a18" category="paragraph">Trident預期以ONTAP或 SVM 管理員身分執行，通常使用下列方式：<block ref="21232f297a57a5a743894a0e4a801fc3" prefix=" " category="inline-code"></block>集群用戶或<block ref="6173aa5206484b5224450952747c7148" prefix=" " category="inline-code"></block>SVM 用戶，或具有相同角色但名稱不同的用戶。對於Amazon FSx for NetApp ONTAP部署， Trident需要以ONTAP或 SVM 管理員身分執行，並使用叢集。<block ref="679500f227997b45be97e3ca8115c678" prefix=" " category="inline-code"></block>用戶或<block ref="6173aa5206484b5224450952747c7148" prefix=" " category="inline-code"></block>SVM 用戶，或具有相同角色但名稱不同的用戶。這<block ref="679500f227997b45be97e3ca8115c678" prefix=" " category="inline-code"></block>用戶是集群管理員用戶的有限替代品。</block>
  <block id="15486153db4ff26b2d984b22c9eb7ace" category="section-title">NVMe/TCP 的其他注意事項</block>
  <block id="03f5e10eafb756dac410015b29a6d0e0" category="paragraph">Trident支援使用非揮發性記憶體高速介面 (NVMe) 協定<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block>驅動程式包括：</block>
  <block id="fdb7cb8f657426e7c409bfd6d1a36ce4" category="list-text">IPv6</block>
  <block id="a2a1cb8bb035902e151c429dda457eb0" category="list-text">NVMe磁碟區的快照和克隆</block>
  <block id="b007331c632038b88752b849045335eb" category="list-text">調整 NVMe 卷的大小</block>
  <block id="8102a8aaee21f7594331faa6a31ceeb6" category="list-text">導入在Trident外部建立的 NVMe 卷，以便Trident可以管理其生命週期。</block>
  <block id="86f6f50234041fd09b320314dc781273" category="list-text">NVMe原生多路徑</block>
  <block id="f1b9eac8c1d92956d7734db32c5e55d9" category="list-text">K8s節點的優雅關閉或非優雅關閉（24.06）</block>
  <block id="54211a2d289b1fa18afc99aab9e27892" category="paragraph">Trident不支援：</block>
  <block id="e1b6f2a617a63649b238c99a6557a915" category="list-text">NVMe 原生支援的 DH-HMAC-CHAP</block>
  <block id="6c1177e2fd33f2482514b2156d1e62b6" category="list-text">設備映射器 (DM) 多路徑</block>
  <block id="fa633dab256a2884e7cd048147d7171c" category="list-text">LUKS 加密</block>
  <block id="acb2e9160652c3e412ead9e870d11c9b" category="summary">將Trident EKS 外掛程式新增至 Kubernetes 叢集。</block>
  <block id="a2aa5421f278a17c32520d5a0b59edb2" category="doc">在 EKS 叢集上設定Trident EKS 插件</block>
  <block id="c4a27aca3b599e184c25bae01c45a9ec" category="paragraph">NetApp Trident簡化了 Kubernetes 中Amazon FSx for NetApp ONTAP儲存管理，讓您的開發人員和管理員專注於應用程式部署。  NetApp Trident EKS 外掛程式包含最新的安全性修補程式和錯誤修復，並經過 AWS 驗證，可與 Amazon EKS 搭配使用。  EKS 外掛程式可讓您持續確保 Amazon EKS 叢集的安全性和穩定性，並減少安裝、設定和更新外掛程式所需的工作量。</block>
  <block id="ee68e5b99222bbc29a480fcb0d1d6ee2" category="section-title">先決條件</block>
  <block id="73a8d79444c307e1446b60eb6a9ba8f1" category="paragraph">在為 AWS EKS 設定Trident外掛程式之前，請確保您已具備以下條件：</block>
  <block id="1ed7790b15234cd5e801f2adf2a3dcd8" category="inline-link-macro">Amazon EKS 附加元件</block>
  <block id="cf83ec5a1f7760b5f6841c88c08cd788" category="list-text">具有使用插件權限的 Amazon EKS 叢集帳戶。參考<block ref="40db0d27bd24093e06ae540834459d19" category="inline-link-macro-rx"></block>。</block>
  <block id="3f597c2b0d86deed94c99ef3d5fa4932" category="list-text">AWS 對 AWS Marketplace 的權限：<block ref="8047af5c1ca81290342558a545113f6e" prefix=" " category="inline-code"></block></block>
  <block id="8ac2d15830983d69c7c62c4d8a69266c" category="list-text">AMI 類型：Amazon Linux 2 (AL2_x86_64) 或 Amazon Linux 2 Arm (AL2_ARM_64)</block>
  <block id="68437d1104a05b71c1c25548a95ad946" category="list-text">節點類型：AMD 或ARM</block>
  <block id="63ac2242cb63194d25dd17c30c89f80d" category="list-text">現有的Amazon FSx for NetApp ONTAP檔案系統</block>
  <block id="f477db05998ad8420119de646e2ff290" category="inline-link-macro">建立 IAM 角色和 AWS Secret</block>
  <block id="1264c0dc5af1ae65d165b02064fb48da" category="list-text">請務必建立 IAM 角色和 AWS 金鑰，以使 EKS pod 能夠存取 AWS 資源。有關說明，請參閱<block ref="0243716974e666f2f8c61577b454990b" category="inline-link-macro-rx"></block>。</block>
  <block id="5125c17a3f7aca891b87dc6ad4b9aa93" category="list-text">在 EKS Kubernetes 叢集上，導覽至「附加元件」標籤。</block>
  <block id="46fd403fb7788c53f0de4aa06ccc89d9" category="image-alt">aws eks 01</block>
  <block id="153bbcd55aded817c5a331d5acae54eb" category="list-text">前往 *AWS Marketplace 外掛程式*，然後選擇 _storage_ 類別。</block>
  <block id="2b1131719d4d8198515b53a0132411fb" category="image-alt">aws eks 02</block>
  <block id="07a5364a7a995818398d39d8d5f84d64" category="list-text">找到 * NetApp Trident*，選取Trident程式的複選框，然後按一下 *下一步*。</block>
  <block id="5bab8196b750f3260d005a4548bc5de0" category="list-text">選擇所需的插件版本。</block>
  <block id="92f63954b2feb520d9a85c6ac6087ad8" category="image-alt">aws eks 03</block>
  <block id="65f1acff2714c57d7d22160c1e0604ae" category="list-text">配置所需的附加元件設定。</block>
  <block id="b64079b8570f34f88bca59be352b20e2" category="image-alt">aws eks 04</block>
  <block id="a77e64d999da7477c22c11d171944968" category="list-text">如果您使用的是 IRSA（服務帳戶的 IAM 角色），請參閱其他設定步驟。<block ref="75a5fb22d89ca2450e7a1cb8fb11e3d1" category="inline-link-macro-rx"></block> 。</block>
  <block id="bf18811faac9b8e4fcaebab51afd1113" category="list-text">選擇“*創建*”。</block>
  <block id="fa883f8fcd252ea2995457cd82515d03" category="list-text">確認插件狀態為_Active_。</block>
  <block id="2af6474930eac7fe47a45b3658bef5bf" category="image-alt">aws eks 05</block>
  <block id="7f3424d52d579a5a23fa5102f22de8bd" category="list-text">執行以下命令以驗證Trident是否已正確安裝在叢集上：</block>
  <block id="23e0e5bfdd7b1fef2ab4d932aae742e5" category="inline-link-macro">配置儲存後端</block>
  <block id="5b06ec175e810e88c7f4e485931d2ce9" category="list-text">繼續進行設定並配置儲存後端。有關信息，請參閱<block ref="a2c0b79bf795dfa2b95204a4216320db" category="inline-link-macro-rx"></block>。</block>
  <block id="5c48b2cb013af0c5d292d6bc5659074c" category="section-title">使用 CLI 安裝/解除安裝Trident EKS 插件</block>
  <block id="2f3961a883aa613983c8f34a8add7695" category="paragraph-title">使用 CLI 安裝NetApp Trident EKS 外掛：</block>
  <block id="9509f036573c9b78acc044938588f7c4" category="paragraph">以下範例指令安裝Trident EKS 外掛：<block ref="f235325f054788c50b512241d68cb329" prefix=" " category="inline-code"></block> （另有專用版本）</block>
  <block id="fa1234b3e3fcccb885405485ab5cbefb" category="paragraph-title">使用 CLI 卸載NetApp Trident EKS 外掛程式：</block>
  <block id="aa8e98bf63904518342c90bd49a9ea9c" category="paragraph">以下指令卸載Trident EKS 外掛程式：</block>
  <block id="76b4586b7207f884c66397194b773e14" category="summary">了解Amazon FSx for ONTAP的後端設定選項。本節提供後端設定範例。</block>
  <block id="533a7baf9026dddae6baef47ea605b08" category="doc">部署範例應用程式</block>
  <block id="a346cffc17b34fc56f3020d8b33d30c3" category="paragraph">建立儲存等級和 PVC 後，即可將光電模組安裝到艙體上。本節列出了將 PV 連接到 pod 的範例命令和設定。</block>
  <block id="6a308a8072d1cf8c73629852d7f0b1af" category="list-text">將音量旋鈕安裝在一個音控器中。</block>
  <block id="c09ee63e688125cf9517a66bb5a0a5a6" category="paragraph">以下範例展示了將PVC連接到艙體的基本配置：*基本配置*：</block>
  <block id="b5450caedb9c7aa352b9fb0427aee784" category="admonition">您可以使用以下方式監控進度<block ref="6abdceb61753f298491e021c4da24ddd" prefix=" " category="inline-code"></block>。</block>
  <block id="8118780a1733b73d43c1042889af94bd" category="list-text">確認卷已掛載到<block ref="9f5298598b1aa26f257834220853cb05" prefix=" " category="inline-code"></block>。</block>
  <block id="6604c85c599768bb970b37e590ef79fe" category="paragraph">現在您可以刪除該 Pod 了。  Pod 應用將不復存在，但卷將保留。</block>
  <block id="37225474f75e9da42c0f924ba87b113a" category="cell"><block ref="8321592ce24c8a122ecf26a63cfca407" prefix="" category="inline-code"></block>，<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block> ，<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block> ，<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> ，<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block></block>
  <block id="efd6bf14511b7506d1d5a1575d817027" category="cell">叢集或 SVM 管理 LIF 的 IP 位址可以指定完全限定網域名稱 (FQDN)。如果Trident安裝時使用了 IPv6 標誌，則可以設定為使用 IPv6 位址。  IPv6 位址必須用方括號定義，例如 [28e8:d9fb:a825:b7bf:69a8:d02f:9e7b:3555]。</block>
  <block id="a2b356ce90145d5d188d7705a9797bc1" category="cell">LIF協定的IP位址。 * ONTAP NAS 驅動程式*： NetApp建議指定 dataLIF。如果未提供， Trident將從 SVM 取得 dataLIF。您可以指定一個完全限定網域名稱 (FQDN) 用於 NFS 掛載操作，從而建立輪詢 DNS 以在多個 dataLIF 之間進行負載平衡。初始設定後可以更改。參考<block ref="b2c939cb81e81d99a25f4be74f517f2f" category="inline-xref-macro-rx"></block>。  * ONTAP SAN 驅動程式*：不要為 iSCSI 指定。 Trident使用ONTAP選擇性 LUN 對應來發現建立多路徑會話所需的 iSCI LIF。如果明確定義了 dataLIF，則會產生警告。如果Trident安裝時使用了 IPv6 標誌，則可以設定為使用 IPv6 位址。  IPv6 位址必須用方括號定義，例如 [28e8:d9fb:a825:b7bf:69a8:d02f:9e7b:3555]。</block>
  <block id="470fa5f00d398bad1d1874a9b4d59d7b" category="cell">"["0.0.0.0/0", "::/0"]"</block>
  <block id="b8c7e19ba614c29878588409008e29c6" category="cell">連接到叢集或 SVM 的使用者名稱。用於基於憑證的身份驗證。例如，vsadmin。</block>
  <block id="9a2486a943ad2a4c99f2797d6984f3d0" category="cell">連接叢集或SVM的密碼。用於基於憑證的身份驗證。</block>
  <block id="6018b4c39d938c6589decae81b54c6f0" category="cell">如果指定了 SVM 管理 LIF，則派生出該 LIF。</block>
  <block id="4cba35e041b22828be7c835295ee9102" category="cell">在 SVM 中配置新磁碟區時所使用的前綴。創建後無法修改。要更新此參數，您需要建立一個新的後端。</block>
  <block id="900a97d43b0d89ff1f26477ad38cc3bc" category="cell">*請勿指定用於Amazon FSx for NetApp ONTAP。 *提供的<block ref="679500f227997b45be97e3ca8115c678" prefix=" " category="inline-code"></block>和<block ref="6173aa5206484b5224450952747c7148" prefix=" " category="inline-code"></block>不包含檢索匯總使用情況和使用Trident限制它所需的權限。</block>
  <block id="86f4c9647fe8f4c500055c772753cc6f" category="cell">請勿使用。</block>
  <block id="e462cafda39f4eb6d1800486fc401348" category="cell">如果請求的磁碟區大小大於此值，則配置失敗。此外，它還限制了其管理的 qtree 和 LUN 卷的最大大小，以及<block ref="8b08152c170e621ffcc8bfac7c4d6785" prefix=" " category="inline-code"></block>此選項允許自訂每個FlexVol volume的最大 qtree 數量。</block>
  <block id="bd4c4a75acd87c86694e9aca1e4050e2" category="cell">每個 Flexvol 的最大 LUN 數必須在 [50, 200] 範圍內。僅限SAN。</block>
  <block id="e939be085c2babe4ff0f08e09d0cdfd2" category="cell">配置 NFS 或 SMB 磁碟區的建立。選項有<block ref="2521ef5d58fc027d3121662b7d8f9ac2" prefix=" " category="inline-code"></block>，<block ref="79e0f325804dafbdaef73b3b17c0fd8d" prefix=" " category="inline-code"></block>或空值。 *必須設定為<block ref="79e0f325804dafbdaef73b3b17c0fd8d" prefix=" " category="inline-code"></block>適用於 SMB 卷。 *設定為 null 則預設使用 NFS 磁碟區。</block>
  <block id="06daeb0fdb584c4694891d290310e1ed" category="cell"><block ref="3644a684f98ea8fe223c713b77189a77" prefix="" category="inline-code"></block></block>
  <block id="df2f5c3ad0d6cdf07a86704a8dfcef06" category="cell">您可以指定以下名稱之一：使用 Microsoft 管理主控台或ONTAP CLI 所建立的 SMB 共用的名稱，或允許Trident建立 SMB 共用的名稱。此參數是Amazon FSx for ONTAP後端所必需的。</block>
  <block id="5d8ab765262318f7f87e5cd620d93290" category="cell"><block ref="ac68bbf921d953d1cfab916cb6120864" prefix="" category="inline-code"></block></block>
  <block id="294c3bfe0dc32c17126646089c93a92b" category="cell">您可以在 AWS FSx for ONTAP的設定檔中指定以下內容： -<block ref="d731d2fecb66f9c4a30253bd316a220f" prefix=" " category="inline-code"></block> ：指定 AWS FSx 檔案系統的 ID。  -<block ref="1e9c0fd1beef5ff8ed3bef2ae3b7e560" prefix=" " category="inline-code"></block> AWS API 區域名稱。  -<block ref="9af4d8381781baccb0f915e554f8798d" prefix=" " category="inline-code"></block> AWS API 金鑰。  -<block ref="ce656850400574e9f9cffb285ee8abc0" prefix=" " category="inline-code"></block> AWS 金鑰。</block>
  <block id="5e68d0f0226c4c9d8020f95ced71ffab" category="cell"><block ref="68b329da9893e34099c7d8ad5cb9c940" prefix="" category="inline-code"></block> <block ref="9d4568c009d203ab10e33ea9953a0264" prefix=" " category="inline-code"></block><block ref="9d4568c009d203ab10e33ea9953a0264" prefix=" " category="inline-code"></block><block ref="9d4568c009d203ab10e33ea9953a0264" prefix=" " category="inline-code"></block></block>
  <block id="81b346d529f22abdfcb669de82986dfd" category="cell"><block ref="d3ed68f7315b7e72b8d886b2278fcac3" prefix="" category="inline-code"></block></block>
  <block id="c5a638166e3b5bb902803f0060f0d2dd" category="inline-link-macro">建立 AWS Secrets Manager 金鑰</block>
  <block id="3b19f031abb1ee1e70a3d19640060ff8" category="cell">指定要儲存在 AWS Secrets Manager 中的 FSx SVM 憑證。  -<block ref="b068931cc450442b63f5b3d276ea4297" prefix=" " category="inline-code"></block> ：包含 SVM 憑證的金鑰的 Amazon 資源名稱 (ARN)。 -<block ref="599dcce2998a6b40b1e38e8c6006cb0a" prefix=" " category="inline-code"></block>設定為<block ref="eb301fdabb7b8996ba898845d5546121" prefix=" " category="inline-code"></block>。請參閱<block ref="e10af1024bf046058eef4c68dff3462a" category="inline-link-macro-rx"></block>了解更多。</block>
  <block id="4f124386f4b1bb06c61bcf1c73aff529" category="cell">若要為建立的磁碟區指派的 QoS 策略群組。每個儲存池或後端選擇 qosPolicy 或 adaptiveQosPolicy 之一。將 QoS 策略群組與Trident結合使用需要ONTAP 9.8 或更高版本。您應該使用非共享的 QoS 策略群組，並確保該策略群組單獨套用至每個成員。共享的 QoS 策略群組強制規定所有工作負載的總吞吐量上限。</block>
  <block id="a8fe789c9febc6b76736fb83c90df2b7" category="cell">若要為建立的磁碟區指派的自適應 QoS 策略群組。每個儲存池或後端選擇 qosPolicy 或 adaptiveQosPolicy 之一。  ontap-nas-economy 不支援此功能。</block>
  <block id="1e8d899088cef4cd1758075ac2b63721" category="cell">為快照“0”預留的磁碟區百分比</block>
  <block id="d8d01124b8b3fe614b475ad96fca4635" category="cell">如果<block ref="0a236e7685e50a59df980d0a30929d6c" prefix=" " category="inline-code"></block>是<block ref="334c4a4c42fdb79d7ebc3e73b517e6f8" prefix=" " category="inline-code"></block>，<block ref="2954e92a9b4d0e998fe4893f8141649a" prefix=" " category="inline-code"></block> “”</block>
  <block id="8336fb38c3b943161d5d6e73af8f4a12" category="cell">啟用LUKS加密。參考<block ref="3646c7a69a11bdd94c010bf856bda313" category="inline-link-macro-rx"></block>。僅限SAN。</block>
  <block id="58c09f2c9581bc7c58c32116266b6d8f" category="cell">分層策略的使用<block ref="334c4a4c42fdb79d7ebc3e73b517e6f8" prefix=" " category="inline-code"></block></block>
  <block id="8ba802b52dc84f4e82bfbbf2e2d4a807" category="cell">新卷模式。  *SMB卷請留空。 *</block>
  <block id="484067c59b1fa950e362a90fd416c89e" category="example-title">SMB磁碟區的儲存類別配置</block>
  <block id="88b0b88c998957f004af42563d5e5b40" category="paragraph">使用<block ref="296026821ada2ab8aebcf13547a63df5" prefix=" " category="inline-code"></block>，<block ref="e12fdd044232e643620eed06bf33c7af" prefix=" " category="inline-code"></block> ， 和<block ref="1ad68a6a046942b7c1666aed825df70a" prefix=" " category="inline-code"></block>您可以指定 SMB 磁碟區並提供所需的 Active Directory 憑證。使用以下方式支援 SMB 卷<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block>僅限司機。</block>
  <block id="f62b661d066f6d5a24622ec3438e051b" category="example-title">使用 Secrets Manager 設定 AWS FSx for ONTAP</block>
  <block id="e5bbe1a57bb9d1fa8056d28e0a96a518" category="summary">透過將Trident與Amazon FSx for NetApp ONTAP結合使用，您可以確保在 Amazon Elastic Kubernetes Service (EKS) 中執行的 Kubernetes 叢集可以設定由ONTAP支援的區塊和檔案持久性磁碟區。</block>
  <block id="98c3c9acd444d11890d48438db3c165e" category="paragraph">您可以設定 Kubernetes pod 以透過 AWS IAM 角色進行驗證來存取 AWS 資源，而不是提供明確的 AWS 憑證。</block>
  <block id="3f566b5ded6e7ac8c26dd3c07a2ea056" category="admonition">若要使用 AWS IAM 角色進行驗證，您必須擁有一個使用 EKS 部署的 Kubernetes 叢集。</block>
  <block id="88f9965484e8785ad82e1b99cdae3ab3" category="section-title">建立 AWS Secrets Manager 金鑰</block>
  <block id="646ed389b399156cbfb4923c9d8fbf95" category="paragraph">由於Trident將向 FSx 虛擬伺服器發出 API 來為您管理存儲，因此它需要憑證才能執行此操作。傳遞這些憑證的安全方法是透過 AWS Secrets Manager 金鑰。因此，如果您還沒有 AWS Secrets Manager 金鑰，則需要建立一個包含 vsadmin 帳戶憑證的金鑰。</block>
  <block id="360f6e9d45a33dadfdb2b47fa3a32110" category="paragraph">此範例建立一個 AWS Secrets Manager 金鑰來儲存Trident CSI 憑證：</block>
  <block id="3926fdac6344d565c95f560468946335" category="section-title">建立 IAM 策略</block>
  <block id="1cb68d4d58173447ddb7517b51d352a9" category="paragraph">Trident也需要 AWS 權限才能正常運作。因此，您需要建立一個策略，賦予Trident所需的權限。</block>
  <block id="78edc229f8df1c5e0840f6469bc28454" category="paragraph">以下範例使用 AWS CLI 建立 IAM 原則：</block>
  <block id="e992eb9afeef39efec8f68b68ffade1d" category="paragraph">*策略 JSON 範例*：</block>
  <block id="b2b0186a010875b0d453752a8aa06a4c" category="section-title">建立 Pod 身分或 IAM 角色以關聯服務帳戶 (IRSA)</block>
  <block id="152bceec6d4e34c053208d61763334bc" category="paragraph">您可以設定 Kubernetes 服務帳戶，使其承擔 AWS Identity and Access Management (IAM) 角色（使用 EKS Pod Identity 或 IAM 角色進行服務帳戶關聯）(IRSA)。任何已配置為使用該服務帳戶的 Pod 都可以存取該角色有權存取的任何 AWS 服務。</block>
  <block id="0522426ad683048758e710700760f5a9" category="open-title">Pod 身份</block>
  <block id="acbe8cfddfd64fba35512f543affb372" category="paragraph">Amazon EKS Pod 身分關聯可讓您管理應用程式的憑證，類似於 Amazon EC2 執行個體設定檔向 Amazon EC2 執行個體提供憑證的方式。</block>
  <block id="870d5f69e46397da39e4d5bc6a55edc4" category="paragraph">*在 EKS 叢集上安裝 Pod Identity*：</block>
  <block id="3a735289083f3ebf5b12bf1252f47e70" category="paragraph">您可以透過 AWS 控制台建立 Pod 標識，也可以使用下列 AWS CLI 命令：</block>
  <block id="6b12dab36e102678866ee1a9295bf251" category="inline-link-macro">設定 Amazon EKS Pod 身分代理</block>
  <block id="f0e49b3188e2241a1fd992e7697df37f" category="paragraph">更多資訊請參閱<block ref="223f02a97a1894440d2727b156e834b6" category="inline-link-macro-rx"></block>。</block>
  <block id="4fcddd38c3384849e906ff198dca9a35" category="paragraph">*建立 trust-relationship.json 檔案*：</block>
  <block id="9eaa0d9301ed8e0e6ec8d359da513e09" category="paragraph">建立 trust-relationship.json 文件，使 EKS 服務主體能夠承擔 Pod 身分的此角色。然後使用以下信任策略建立角色：</block>
  <block id="c256d9b106d5b83ccc940e1c11d40213" category="paragraph">*trust-relationship.json 文件*：</block>
  <block id="d5bcbf5d17aa3658058051153a3abb49" category="paragraph">*將角色策略附加到 IAM 角色*：</block>
  <block id="5855de3e8f302cffda094dad3434d14d" category="paragraph">將上一個步驟中建立的角色策略附加到已建立的 IAM 角色：</block>
  <block id="ae33daeae7be898405819838f197197f" category="paragraph">*建立 Pod 身分關聯*：</block>
  <block id="bfb2fc1510ac240a94b2b84a57023dfd" category="paragraph">在 IAM 角色和Trident服務帳戶 (trident-controller) 之間建立 Pod 身分關聯</block>
  <block id="37d9be75a57d7c290f4624befaf41cba" category="open-title">服務帳戶關聯 (IRSA) 的 IAM 角色</block>
  <block id="58b24f910cf7a97cc3ea8486155b2ee3" category="paragraph">*使用 AWS CLI*：</block>
  <block id="54fe765490f6a1e88df34666a34bd7de" category="paragraph">*trust-relationship.json 文件：*</block>
  <block id="383e53c41c71ed73661ac56b250f6ba3" category="paragraph">更新以下值<block ref="d19984a25b3e536a13a6bc3036325ffd" prefix=" " category="inline-code"></block>文件：</block>
  <block id="e6fd9d7b1a119dcc259f2b06b2a2168c" category="list-text">*&lt;account_id&gt;* - 您的 AWS 帳戶 ID</block>
  <block id="799fd029d6ab8a846f662458a1f8df55" category="list-text">*&lt;oidc_provider&gt;* - 您的 EKS 叢集的 OIDC。您可以透過執行以下命令來取得oidc_provider：</block>
  <block id="053db598e2fbb7aa26ff7edbf6139941" category="paragraph">*將 IAM 角色與 IAM 原則關聯*：</block>
  <block id="069097b4881e6034a743e694f616726d" category="paragraph">角色創建完成後，使用以下命令將策略（在上一個步驟中建立的策略）附加到該角色：</block>
  <block id="02b550dde0cf971ab3461242774691c7" category="paragraph">*請核實 OICD 提供者是否已關聯*：</block>
  <block id="25c5ea267b4be122e562399076209238" category="paragraph">請確認您的 OIDC 提供者已與您的叢集關聯。您可以使用以下命令進行驗證：</block>
  <block id="49512d524988e02360eaf4f4bb2ad8f3" category="paragraph">如果輸出為空，請使用以下命令將 IAM OIDC 關聯到您的叢集：</block>
  <block id="4411692a55eac3faa65c355f682424c8" category="paragraph">*如果您使用的是 eksctl*，請使用以下範例在 EKS 中為服務帳戶建立 IAM 角色：</block>
  <block id="1095f7331744c1accf45762c2da50a60" category="paragraph">Trident簡化了 Kubernetes 中Amazon FSx for NetApp ONTAP儲存管理，讓您的開發人員和管理員能夠專注於應用程式部署。</block>
  <block id="bc04665b1c712547a7dcc87033ae7152" category="paragraph">您可以使用下列方法之一安裝Trident ：</block>
  <block id="77f6e3db9b70538186091595d9c8c9e8" category="list-text">EKS 附加元件</block>
  <block id="a01b2c45a64c7d0c2a2aa3ce418eaa04" category="inline-link-macro">為CSI磁碟區啟用快照功能</block>
  <block id="9adc02aa546c3838bddb73a67ebaa4e2" category="paragraph">如果要使用快照功能，請安裝 CSI 快照控制器外掛程式。請參閱<block ref="d2fce68a585fb4c517040885fb7393e9" category="inline-link-macro-rx"></block>了解更多。</block>
  <block id="aa9c9ff1836c624104eb3a256a7b8b69" category="section-title">透過 Helm 安裝Trident。</block>
  <block id="de756da101866f0bf66d3cfdb32b337b" category="list-text">請依照以下範例安裝Trident ：</block>
  <block id="c198f49680a4c22b6d731cdd7d7b513a" category="paragraph">您可以使用<block ref="cd4140d3de30b520500459331d08d2bf" prefix=" " category="inline-code"></block>查看安裝詳細資訊的命令，例如名稱、命名空間、圖表、狀態、應用程式版本和修訂號。</block>
  <block id="3840ce271260ab4b489b1664491a7ae0" category="open-title">服務帳戶協會（IRSA）</block>
  <block id="682fae06c762bb51c348b65f07930993" category="list-text">設定*雲端提供者*和*雲端身分*的值：</block>
  <block id="eff2bb231132a96a28f9d538ef100a34" category="paragraph">如果您打算使用 iSCSI，請確保您的用戶端電腦上已啟用 iSCSI。如果您使用的是 AL2023 工作節點作業系統，可以透過在 Helm 安裝中新增節點準備參數來自動安裝 iSCSI 用戶端：</block>
  <block id="b0e9da2f71a439472cddf0553ae43edc" category="section-title">透過 EKS 外掛程式安裝Trident</block>
  <block id="03023c37f6d85929cf0151fe858d3183" category="paragraph">Trident EKS 外掛程式包含最新的安全性修補程式和錯誤修復，並經過 AWS 驗證，可與 Amazon EKS 搭配使用。  EKS 外掛程式可讓您持續確保您的 Amazon EKS 叢集安全穩定，並減少安裝、設定和更新外掛程式所需的工作量。</block>
  <block id="56ae1c25c84da104d5678975802dd9b7" category="list-text">附加訂閱的 Amazon EKS 叢集帳戶</block>
  <block id="16a9eb0d1ef7d37ab7459bc9a67a8102" category="section-title">為 AWS 啟用Trident插件</block>
  <block id="e477faed39be08642267684bb501d931" category="open-title">管理控制台</block>
  <block id="e8d532dbf6904e2793dbda6fd0d03818" category="list-text">開啟 Amazon EKS 主控台<block ref="c4765fcd1a0f97cf67c0365ddc45d563" category="inline-link-rx"></block>。</block>
  <block id="89fb75fa5ae260c326092b78970469ed" category="list-text">在左側導覽窗格中，選擇「集群」。</block>
  <block id="abdaa0762abc2037a71287c94bceae14" category="list-text">選擇要為其配置NetApp Trident CSI 外掛程式的叢集名稱。</block>
  <block id="691da62871e09bf9c944f36b9de07889" category="list-text">選擇“附加元件”，然後選擇“取得更多附加元件”。</block>
  <block id="586ac0fdd530431245eb98eb3aa882f4" category="list-text">請依照以下步驟選擇外掛：</block>
  <block id="b2bd1d3671dec54e9318ab4475e27324" category="list-text">向下捲動至「AWS Marketplace 附加元件」部分，然後在搜尋框中輸入「Trident」。</block>
  <block id="93883402b9e962f4416b72849cb667c9" category="list-text">選取「Trident by NetApp」方塊右上角的複選框。</block>
  <block id="e6cd86d61f4639c8a27006c6c29b3e9f" category="list-text">選擇“下一步”。</block>
  <block id="cacc1ddf612923b1c73b0a9a76659f42" category="list-text">在「配置所選外掛」設定頁面上，執行以下操作：</block>
  <block id="b2a83c40e86c786c07c31acad2909e42" category="admonition">*如果您使用 Pod Identity 關聯，請跳過這些步驟。 *</block>
  <block id="149e81257342cd05b0256d010b0b4a37" category="list-text">請選擇您要使用的*版本*。</block>
  <block id="77b0a7753de002b03ddc52594a9208ee" category="list-text">如果您使用IRSA身份驗證，請確保設定可選配置設定中提供的配置值：</block>
  <block id="4881bf2869ec064993ab03177d502022" category="list-text">依照*外掛程式設定方案*進行操作，並將*配置值*部分中的*configurationValues*參數設定為您在上一個步驟建立的角色 ARN（值應採用下列格式）：</block>
  <block id="f8c91efdaebc08b292c83903943a18c8" category="paragraph">如果選擇「覆蓋」作為衝突解決方法，則現有外掛程式的一個或多個設定可能會被 Amazon EKS 外掛程式設定覆蓋。如果您不啟用此選項，並且與您現有的設定有衝突，則操作將會失敗。您可以使用產生的錯誤訊息來排查衝突問題。在選擇此選項之前，請確保 Amazon EKS 外掛程式不會管理您需要自行管理的設定。</block>
  <block id="dfe4bfc5bd8b8d180411468fbdbb4033" category="list-text">選擇“下一步”。</block>
  <block id="fbadf292f84bef20d7678936dbe4c4ce" category="list-text">在「審核和新增」頁面上，選擇「建立」。</block>
  <block id="46bfc11fb8f185d278ea910b0052a317" category="paragraph">插件安裝完成後，您將看到已安裝的插件。</block>
  <block id="7820fdb5d8b3ebe0c69c86cf8bd2d0cf" category="open-title">AWS CLI</block>
  <block id="7347242fe06ebf43402a11cc7e289da8" category="paragraph">*1.創建<block ref="feef18acfb11dc53b7100577c6d640c4" prefix=" " category="inline-code"></block>文件*：</block>
  <block id="ac85dba04837be45d97d83025fa9bef9" category="paragraph">*對於 Pod 標識，請使用以下格式*：</block>
  <block id="08ec33a477c6b216472cd10065483760" category="paragraph">*對於IRSA認證，請使用以下格式*：</block>
  <block id="fa1c8065dc4d2b862bfba881472c0aac" category="admonition">代替<block ref="2befb7722283d545949c6220c6548fe4" prefix=" " category="inline-code"></block>使用上一步創建的角色的 ARN。</block>
  <block id="895c408250687425783cbd96dd25276d" category="paragraph">*2.安裝Trident EKS 外掛程式。 *</block>
  <block id="7c3f89bd6bb66984ef17d4765bf1f65a" category="open-title">eksctl</block>
  <block id="df5baf46554bffd06bf1e8e9ae5e6b52" category="paragraph">以下範例指令安裝Trident EKS 外掛：</block>
  <block id="1d5144e260d8c4ece3c5d47a77d84c11" category="section-title">更新Trident EKS 外掛</block>
  <block id="b0c6845b636be8c810182f985c930fed" category="list-text">開啟 Amazon EKS 主控台<block ref="c4765fcd1a0f97cf67c0365ddc45d563" category="inline-link-rx"></block>。</block>
  <block id="ce7f62393ec7cbcc106793e2c9ab41e8" category="list-text">選擇要更新NetApp Trident CSI 外掛程式的叢集名稱。</block>
  <block id="f90a2b79ab21cae46f34d96bb4501334" category="list-text">選擇“附加元件”標籤。</block>
  <block id="38b15bc2ab2d3588a9a19b123eaec1b5" category="list-text">選擇“ NetApp Trident ”，然後選擇“編輯”。</block>
  <block id="87d54c3153674640af4f36dd72f8953a" category="list-text">在「配置NetApp Trident 」頁面上，執行以下操作：</block>
  <block id="effa92215c770083617150adc291c130" category="list-text">展開“可選配置設定”，並根據需要進行修改。</block>
  <block id="302ef561e28f7d7cd13d1042cece78e1" category="list-text">選擇“儲存變更”。</block>
  <block id="5f06738a5749e735a4681f5c09e2bafc" category="paragraph">以下範例更新 EKS 外掛：</block>
  <block id="44308ffe82692c268b99d3caefca907e" category="list-text">請檢查您的 FSxN Trident CSI 外掛程式的目前版本。代替<block ref="e2eb89f0ffaf521a0d2eeaffca04d117" prefix=" " category="inline-code"></block>使用您的叢集名稱。</block>
  <block id="a1dc4a2136ed260b34021d64aaa6980a" category="list-text">將插件更新到上一步輸出中「UPDATE AVAILABLE」下傳回的版本。</block>
  <block id="b3f252777a69b110667756babe83a98f" category="inline-link-macro">外掛</block>
  <block id="25626757a73152ece7fdadb90ede4b7c" category="inline-link-macro">Kubernetes 欄位管理</block>
  <block id="751f793ade8de1ed590e0f90ac05d8e1" category="paragraph">如果你移除<block ref="c23ab3adaec8ca15ff3ffd0971be6152" prefix=" " category="inline-code"></block>如果選項和任何 Amazon EKS 外掛程式設定與您現有的設定衝突，則更新 Amazon EKS 外掛程式將失敗；您將收到錯誤訊息，以協助您解決衝突。在指定此選項之前，請確保 Amazon EKS 外掛程式不會管理您需要管理的設置，因為此選項會覆寫這些設定。有關此設定的其他選項的更多信息，請參閱<block ref="aea621f0e078efb8367c5d5e894674cd" category="inline-link-macro-rx"></block>。有關 Amazon EKS Kubernetes 欄位管理的更多信息，請參閱<block ref="97bdcfd76d2ff3e4855f6b36ebad236e" category="inline-link-macro-rx"></block>。</block>
  <block id="ccab466451ff5a867710cce1b28c33a0" category="section-title">解除安裝/移除Trident EKS 插件</block>
  <block id="d8c918c170a0768203b4c2a6218e22bf" category="paragraph">您可以透過兩種方式移除 Amazon EKS 外掛：</block>
  <block id="d43d72969793ea80734b71e9c2406b2a" category="list-text">*保留叢集上的附加軟體* – 此選項移除 Amazon EKS 對所有設定的管理。它還取消了 Amazon EKS 通知您更新以及在您啟動更新後自動更新 Amazon EKS 外掛程式的功能。但是，它可以保留叢集上的附加軟體。此選項使外掛程式成為自管理安裝，而不是 Amazon EKS 外掛程式。選擇此選項，插件不會出現停機時間。保留<block ref="4b4ac0f998920a46fd2015e11d01d3e7" prefix=" " category="inline-code"></block>命令中的選項用於保留插件。</block>
  <block id="7d91a8c58620fc2b878600d5ab834bda" category="list-text">*從叢集中完全移除附加軟體* – NetApp建議，僅當叢集中沒有任何資源依賴 Amazon EKS 附加元件時，才會從叢集中移除該附加元件。移除<block ref="4b4ac0f998920a46fd2015e11d01d3e7" prefix=" " category="inline-code"></block>選項<block ref="099af53f601532dbd31e0ea99ffdeb64" prefix=" " category="inline-code"></block>移除插件的命令。</block>
  <block id="577a7d77fb14f745abf0c5ee04b72879" category="admonition">如果外掛程式關聯了 IAM 帳戶，則不會刪除該 IAM 帳戶。</block>
  <block id="b7cd6be51eaf277b357ed1c976d66d06" category="list-text">在左側導覽窗格中，選擇「集群」。</block>
  <block id="1ca28d22337393f531c7c8028230ed76" category="list-text">選擇要從中移除NetApp Trident CSI 外掛程式的叢集名稱。</block>
  <block id="85f27397ddcaf9ec996f312d1d89ecf9" category="list-text">選擇“附加元件”選項卡，然後選擇“ NetApp Trident ”。</block>
  <block id="6f99fa9b2e1f4893851a8aeb82d171f9" category="list-text">選擇*刪除*。</block>
  <block id="c8e9b5ea2470965edac225c56a879d07" category="list-text">在「移除 netapp_trident-operator 確認」對話方塊中，執行下列操作：</block>
  <block id="10aba138eb518a0cc15662934a1f6e18" category="list-text">如果您希望 Amazon EKS 停止管理外掛程式的設置，請選擇「在叢集上保留」。如果您希望在叢集上保留附加軟體，以便您可以自行管理附加軟體的所有設置，請執行此操作。</block>
  <block id="ecca191ac54751ba8120816fbe45777e" category="list-text">輸入 *netapp_trident-operator*。</block>
  <block id="bb7c6bde1fc26965ada02923bac65350" category="paragraph">代替<block ref="e2eb89f0ffaf521a0d2eeaffca04d117" prefix=" " category="inline-code"></block>輸入叢集名稱，然後執行以下命令。</block>
  <block id="9303b8f40cf82f5e37702c7a6387e725" category="section-title">ONTAP SAN 和 NAS 驅動程式集成</block>
  <block id="996d0bc5ff30cfbcef97caeaf2c6b353" category="paragraph">若要建立儲存後端，您需要建立 JSON 或 YAML 格式的設定檔。該文件需要指定您想要的儲存類型（NAS 或 SAN）、檔案系統、要從中取得儲存的 SVM 以及如何對其進行驗證。以下範例展示如何定義基於 NAS 的存儲，以及如何使用 AWS Secret 來儲存要使用的 SVM 的憑證：</block>
  <block id="301909df91f724e7a48b15a1b5d05fa2" category="paragraph">執行下列命令以建立和驗證Trident後端設定 (TBC)：</block>
  <block id="d072ff8aa34f8a629a86f50ed8e738e5" category="list-text">從 yaml 檔案建立 Trident 後端設定 (TBC)，並執行下列命令：</block>
  <block id="f695eae3342584490d4ff28ac968bd5b" category="list-text">驗證 Trident 後端設定 (TBC) 是否已成功建立：</block>
  <block id="42f3b65b98b18c792b7b5534e40d2646" category="section-title">FSx 適用於ONTAP驅動程式的詳細信息</block>
  <block id="a2e4c75efdd834198ec30de5256aa938" category="paragraph">您可以使用下列驅動程式將Trident與Amazon FSx for NetApp ONTAP整合：</block>
  <block id="c3e86b30fe8148143701324ae1595af8" category="list-text"><block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix="" category="inline-code"></block>每個已設定的 PV 都是其自身Amazon FSx for NetApp ONTAP磁碟區中的一個 LUN。推薦用於塊存儲。</block>
  <block id="3878a0c92e55dbd3cdd9458330c2f1c3" category="list-text"><block ref="8321592ce24c8a122ecf26a63cfca407" prefix="" category="inline-code"></block>每個已配置的 PV 都是一個完整的Amazon FSx for NetApp ONTAP磁碟區。推薦用於NFS和SMB。</block>
  <block id="b8f98ceeb9b158e8af3527fce91e9e57" category="list-text"><block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix="" category="inline-code"></block>每個已設定的 PV 都是一個 LUN，每個Amazon FSx for NetApp ONTAP磁碟區可設定 LUN 的數量。</block>
  <block id="94a834f420b7c21f3a1053e6dc705a31" category="list-text"><block ref="caafdf62a2c609bfa5316118231a1007" prefix="" category="inline-code"></block>每個已配置的 PV 都是一個 qtree，每個Amazon FSx for NetApp ONTAP磁碟區可以配置 qtree 的數量。</block>
  <block id="e42b07a9f050ef51ea1211004a50f223" category="list-text"><block ref="844e84da8e822b4a33c4d8188da97937" prefix="" category="inline-code"></block>每個已配置的 PV 都是一個完整的Amazon FSx for NetApp ONTAP FlexGroup磁碟區。</block>
  <block id="f5aa1832e32f2b8d7a7f22d8e36a4617" category="inline-link-macro">NAS驅動程式</block>
  <block id="de9e7e8f2c463ef15bebdbf8d2d1aa6d" category="inline-link-macro">SAN驅動程式</block>
  <block id="fa4eb54eedf6fea69ec183c4e2199a4d" category="paragraph">有關司機詳情，請參閱<block ref="4093b6d0ce8cf414637a02002d2b0376" category="inline-link-macro-rx"></block>和<block ref="276422a40a581e9842304216329765d5" category="inline-link-macro-rx"></block>。</block>
  <block id="1189a90ab4944cc8e995186943355be8" category="paragraph">設定檔建立完成後，執行以下命令將其建立在 EKS 中：</block>
  <block id="91997590df030f7b1753ee07ed8a9857" category="paragraph">若要驗證狀態，請執行以下命令：</block>
  <block id="eadd7f9188e84053efc871a14d0d3bd6" category="section-title">後端高級配置和範例</block>
  <block id="b67b129bb636d36f948ca02b68bfa9bc" category="cell">叢集或 SVM 管理 LIF 的 IP 位址可以指定完全限定網域名稱 (FQDN)。如果Trident安裝時使用了 IPv6 標誌，則可以設定為使用 IPv6 位址。 IPv6 位址必須用方括號定義，例如 [28e8:d9fb:a825:b7bf:69a8:d02f:9e7b:3555]。如果您提供<block ref="d731d2fecb66f9c4a30253bd316a220f" prefix=" " category="inline-code"></block>在<block ref="ac68bbf921d953d1cfab916cb6120864" prefix=" " category="inline-code"></block>在欄位中，您無需提供<block ref="a6ea6092cb7b9c5f31909eb4be8fa5ea" prefix=" " category="inline-code"></block>因為Trident可以檢索 SVM<block ref="a6ea6092cb7b9c5f31909eb4be8fa5ea" prefix=" " category="inline-code"></block>來自 AWS 的資訊。因此，您必須提供 SVM 下使用者的憑證（例如：vsadmin），且該使用者必須擁有下列權限：<block ref="6173aa5206484b5224450952747c7148" prefix=" " category="inline-code"></block>角色。</block>
  <block id="2001e2e03a90bd5c85ca8982c01a0500" category="cell">每個 Flexvol 卷的最大 LUN 數必須在 [50, 200] 範圍內。僅限SAN。</block>
  <block id="ab2e083df601e1b7c7346487158ab13f" category="cell">“`100`”</block>
  <block id="14ed525d625786e77d722ce4d08ee599" category="cell">每個FlexVol volume的最大 Qtree 數量必須在 [50, 300] 範圍內</block>
  <block id="7a5bbb3c815084605b780e0cd6e810fd" category="cell"><block ref="89ffa293e05655bd6be9d422345be38a" prefix="" category="inline-code"></block></block>
  <block id="9a30deaecbfde403e36a8a700d09e3e1" category="cell">使用ONTAP REST API 的布林參數。設定為<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>Trident將使用ONTAP REST API 與後端進行通訊。此功能需要ONTAP 9.11.1 及更高版本。此外，所使用的ONTAP登入角色必須具有存取權限。<block ref="a9ba4dc88fa11d44cc7c0c918d174778" prefix=" " category="inline-code"></block>應用。預定義項滿足了這一點。<block ref="6173aa5206484b5224450952747c7148" prefix=" " category="inline-code"></block>和<block ref="fdb6ba311fad29ec53069808f10ebef4" prefix=" " category="inline-code"></block>角色。</block>
  <block id="fbf3304d2358758ea71475804b2cbeae" category="paragraph">您可以使用以下方式設定 SMB 磁碟區：<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block>司機。在你完成之前<block ref="24f26185e00986318dc562523d4edbf6" category="inline-xref-macro-rx"></block>請完成以下步驟。</block>
  <block id="f55c34459cf261d1102750bcbde548d8" category="paragraph">在使用以下方式設定 SMB 磁碟區之前：<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block>駕駛員，您必須具備以下條件。</block>
  <block id="52934bc714f29a2f1d7b732705cd3bc3" category="list-text">一個 Kubernetes 叢集，包含一個 Linux 控制器節點和至少一個執行 Windows Server 2019 的 Windows 工作節點。  Trident僅支援掛載到執行在 Windows 節點上的 pod 的 SMB 磁碟區。</block>
  <block id="8e6249724e4eef8026e47829f03f9e67" category="list-text">建立SMB共享。您可以透過以下兩種方式之一建立 SMB 管理共用：<block ref="364bc251e9c8cfbf6ce258767d17d682" category="inline-link-macro-rx"></block>共用資料夾管理單元或使用ONTAP CLI。使用ONTAP CLI 建立 SMB 共享：</block>
  <block id="9817ca035dba7bc4123be2c0bf280d66" category="doc">配置儲存等級和PVC</block>
  <block id="06034bca671a3028021f1a722aac7b41" category="paragraph">配置 Kubernetes StorageClass 物件並建立儲存類，以指示Trident如何設定磁碟區。建立一個使用已設定的 Kubernetes StorageClass 的 PersistentVolumeClaim (PVC) 來要求存取 PV。然後您可以將光伏組件安裝到支架上。</block>
  <block id="346a92db06c8942d8b2bd2e2de5c2796" category="paragraph">這<block ref="da3f7f170e13df7f56e057fc4226aa85" category="inline-link-rx"></block>該物件將Trident標識為該類別使用的配置器，並指示Trident如何配置磁碟區。使用此範例為使用 NFS 的磁碟區設定 Storageclass（有關屬性的完整列表，請參閱下面的Trident屬性部分）：</block>
  <block id="7cb76a35f0ca09eacd7393285baf81df" category="paragraph">使用此範例為使用 iSCSI 的磁碟區設定 Storageclass：</block>
  <block id="43d8d272a15eda3f1fbfcedc2408b697" category="paragraph">若要在 AWS Bottlerocket 上配置 NFSv3 卷，請新增所需內容。<block ref="e1d3d66c5926aa7fbc3186da8f9b476b" prefix=" " category="inline-code"></block>到儲存類別：</block>
  <block id="a305c8fb2137d8a4a767905590079e89" category="section-title">製作PVC管</block>
  <block id="2d63b64b84c821bc810927f7ca7fa993" category="inline-link">_PersistentVolumeClaim_</block>
  <block id="f79367bddbaecd3962f7c740a1b2178f" category="paragraph">一個<block ref="b1b93f46fc69df9fe663c091f4d6c2b4" category="inline-link-rx"></block>（PVC）是對叢集上持久卷的存取請求。</block>
  <block id="d948cda211eadd3a86a406b43ee0d5fa" category="paragraph">PVC 可以配置為請求儲存特定尺寸或存取模式。使用關聯的 StorageClass，叢集管理員不僅可以控制持久磁碟區的大小和存取模式，還可以控制效能或服務等級。</block>
  <block id="5de805965faeb85a54098223ea3a3334" category="paragraph">製作好 PVC 後，就可以將容積安裝到艙體中。</block>
  <block id="35e98ba80f6254a33de7a37ab113316e" category="section-title">樣品清單</block>
  <block id="569dfd7a9483b050d1e076a318f0fccc" category="example-title">PersistentVolumeClaim 樣本清單</block>
  <block id="526596809db1b7644a7637cfa05fcf8a" category="paragraph">這些範例展示了PVC的基本配置選項。</block>
  <block id="2b00559f1e8a052e6ec27fd2da2fc0ef" category="paragraph-title">附RWX接口的PVC</block>
  <block id="c3d2188822ac025c91b768888f8af01e" category="paragraph">此範例展示了一個具有 RWX 存取權限的基本 PVC，它與一個名為 StorageClass 的 StorageClass 相關聯。<block ref="1c62ceba602064183a6346b85fe26c96" prefix=" " category="inline-code"></block> 。</block>
  <block id="4789829a93714df585353f631620ef1d" category="paragraph-title">使用 iSCSI 範例的 PVC</block>
  <block id="325b282cbc15cc9dcde1a69271472526" category="paragraph">此範例展示了一個與名為 StorageClass 的儲存類別關聯的、具有 RWO 存取權限的 iSCSI 基本 PVC。<block ref="63f9100803e1f67a5e33cbd5da9dbb33" prefix=" " category="inline-code"></block> 。</block>
  <block id="4aac510e801e497da3b150682838f5f7" category="section-title">建立PVC</block>
  <block id="e1f83bd8f580cc9a48311142d551b3cf" category="list-text">建立 PVC。</block>
  <block id="150f6f248f009f461b84862124e2b499" category="list-text">核實PVC狀態。</block>
  <block id="456166bed74a8ee84892a1778e8485a7" category="section-title">Trident屬性</block>
  <block id="0b62778604e11f72525f5a82bbd26c6a" category="paragraph"><block ref="6a2736fcbb5755dd03d114a5153506eb" category="inline-link-rx"></block>是一項完全託管的 AWS 服務，可讓客戶啟動和執行由NetApp ONTAP儲存作業系統支援的檔案系統。  FSx for ONTAP可讓您利用您熟悉的NetApp功能、效能和管理能力，同時享受在 AWS 上儲存資料的簡單性、敏捷性、安全性和可擴充性。  FSx for ONTAP支援ONTAP檔案系統功能和管理 API。</block>
  <block id="0a6a0f274bdb2256373050bb5155f62f" category="paragraph">您可以將Amazon FSx for NetApp ONTAP檔案系統與Trident集成，以確保在 Amazon Elastic Kubernetes Service (EKS) 中執行的 Kubernetes 叢集可以設定由ONTAP支援的區塊和檔案持久磁碟區。</block>
  <block id="627d563f4445675e960fd39150a292ba" category="paragraph">檔案系統是Amazon FSx中的主要資源，類似本地的ONTAP叢集。在每個 SVM 中，您可以建立一個或多個卷，這些卷是用於儲存檔案系統中的檔案和資料夾的資料容器。 Amazon FSx for NetApp ONTAP將作為雲端託管檔案系統提供。新的檔案系統類型稱為 * NetApp ONTAP*。</block>
  <block id="e22cd0725c5dbd58b894af3d4584607c" category="paragraph">透過將Trident與Amazon FSx for NetApp ONTAP結合使用，您可以確保在 Amazon Elastic Kubernetes Service (EKS) 中執行的 Kubernetes 叢集可以設定由ONTAP支援的區塊和檔案持久性磁碟區。</block>
  <block id="0ad999be0dea6cdee2afca2bcb6da8b1" category="paragraph">另外<block ref="6004af307fc2eed554c42ebaa4be8446" category="inline-link-macro-rx"></block>要將 FSx for ONTAP與Trident集成，您需要：</block>
  <block id="80d13d3dbe137e8fb646193f275eceeb" category="list-text">現有的 Amazon EKS 叢集或自管理 Kubernetes 叢集<block ref="0f12ee5c9f1dd90158580f1c292b0d37" prefix=" " category="inline-code"></block>已安裝。</block>
  <block id="9b800ce65251b771d0eb86610e11f6b0" category="list-text">叢集工作節點可存取的現有Amazon FSx for NetApp ONTAP檔案系統和儲存虛擬機器 (SVM)。</block>
  <block id="288b1cbb87d08c32abf3084c28636e5c" category="inline-link-macro">NFS 或 iSCSI</block>
  <block id="d7481875afa061fb651628b2597d52ec" category="list-text">已準備好的工作節點<block ref="966ed3bab2d39ae1014ad2eb34527e0f" category="inline-link-macro-rx"></block>。</block>
  <block id="fe914214000491758957f04647f8da36" category="inline-link">亞馬遜機器圖像</block>
  <block id="d0341760d873a30f82a310a6eab0ba9c" category="admonition">請務必按照 Amazon Linux 和 Ubuntu 所需的節點準備步驟進行操作。<block ref="70013ee128d5437b3d9579d66ece4066" category="inline-link-rx"></block> （AMI）取決於您的 EKS AMI 類型。</block>
  <block id="9b85b10750f4b0e98b7853ee468d8bd5" category="list-text">SMB 卷：</block>
  <block id="cf201a9e802aa6e35997590206919b1a" category="list-text">使用以下方式支援 SMB 卷<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block>僅限司機。</block>
  <block id="6bb2a5c441a4e421f26e835928b68f1f" category="list-text">Trident EKS 外掛程式不支援 SMB 磁碟區。</block>
  <block id="910bc8aad96dce304454db69330c4c1c" category="list-text">Trident僅支援掛載到執行在 Windows 節點上的 pod 的 SMB 磁碟區。參考 <block ref="5d9770278862f1ca4af19e761a5fa655" category="inline-link-macro-rx"></block> 了解詳情。</block>
  <block id="3111c4c842496dcfcddb5de6e9f7ec11" category="list-text">在Trident 24.02 之前，在Amazon FSx檔案系統上建立的、啟用了自動備份的磁碟區無法被Trident刪除。為防止在Trident 24.02 或更高版本中出現此問題，請指定<block ref="d731d2fecb66f9c4a30253bd316a220f" prefix=" " category="inline-code"></block>，AWS<block ref="1e9c0fd1beef5ff8ed3bef2ae3b7e560" prefix=" " category="inline-code"></block> ，AWS<block ref="9af4d8381781baccb0f915e554f8798d" prefix=" " category="inline-code"></block>以及 AWS<block ref="ce656850400574e9f9cffb285ee8abc0" prefix=" " category="inline-code"></block>在 AWS FSx for ONTAP的後端設定檔中。</block>
  <block id="9f953e6f7a1bf75b24ad7c1f72aeda22" category="admonition">如果您要為Trident指定 IAM 角色，則可以省略指定以下內容：<block ref="1e9c0fd1beef5ff8ed3bef2ae3b7e560" prefix=" " category="inline-code"></block> ，<block ref="c9ff119073ea2567730fb42e3a4fe805" prefix=" " category="inline-code"></block> ， 和<block ref="ce656850400574e9f9cffb285ee8abc0" prefix=" " category="inline-code"></block>明確地將欄位傳遞給Trident 。更多信息，請參閱<block ref="d3e98810edf44af02b30486ed13bd043" category="inline-link-macro-rx"></block>。</block>
  <block id="6b37510d663e6eea4cd2d594f41e9e80" category="section-title">同時使用Trident SAN/iSCSI 和 EBS-CSI 驅動程式</block>
  <block id="dd601ed3d730aa713757843173c1c8c5" category="paragraph">如果您打算將 ontap-san 驅動程式（例如 iSCSI）與 AWS（EKS、ROSA、EC2 或任何其他執行個體）一起使用，則節點上所需的多路徑配置可能會與 Amazon Elastic Block Store (EBS) CSI 驅動程式衝突。為了確保多路徑功能不會幹擾同一節點上的 EBS 磁碟，您需要在多路徑設定中排除 EBS。這個例子展示了<block ref="9ac80d53ede05256c28cf9e043eb423c" prefix=" " category="inline-code"></block>包含所需Trident設定但排除 EBS 磁碟進行多路徑設定的檔案：</block>
  <block id="c75f7811d70d17dbcd88e9d03752cbed" category="section-title">驗證</block>
  <block id="7b53d57c2eba03d6610dce9feca9a586" category="paragraph">Trident提供兩種身分驗證方式。</block>
  <block id="8067a6840467d2024a341120a4e2440e" category="list-text">基於憑證（建議）：將憑證安全地儲存在 AWS Secrets Manager 中。您可以使用<block ref="679500f227997b45be97e3ca8115c678" prefix=" " category="inline-code"></block>檔案系統的使用者或<block ref="6173aa5206484b5224450952747c7148" prefix=" " category="inline-code"></block>使用者已配置到您的 SVM。</block>
  <block id="954d503a6b34d7989c109f6cb0bfac8d" category="admonition">Trident預計將以…的形式運營<block ref="6173aa5206484b5224450952747c7148" prefix=" " category="inline-code"></block>SVM 用戶，或使用具有相同角色但名稱不同的用戶。 Amazon FSx for NetApp ONTAP具有<block ref="679500f227997b45be97e3ca8115c678" prefix=" " category="inline-code"></block>該用戶是ONTAP的有限替代品<block ref="21232f297a57a5a743894a0e4a801fc3" prefix=" " category="inline-code"></block>集群用戶。我們強烈建議使用<block ref="6173aa5206484b5224450952747c7148" prefix=" " category="inline-code"></block>用Trident。</block>
  <block id="e4cd0c6f3c2ade8eef84039005a10f36" category="list-text">基於憑證： Trident將使用安裝在 SVM 上的憑證與 FSx 檔案系統上的 SVM 進行通訊。</block>
  <block id="994eaa47aad78cae857818e1655e2800" category="paragraph">有關啟用身份驗證的詳細信息，請參閱您的驅動程式類型的身份驗證說明：</block>
  <block id="57e00ef3eabad47fc79d0ef1319f989c" category="inline-link-macro">ONTAP NAS 認證</block>
  <block id="840db27e4fe9967e908b8b101ca72198" category="list-text"><block ref="840db27e4fe9967e908b8b101ca72198" category="inline-link-macro-rx"></block></block>
  <block id="562276ffa617658595d5e6df35ef971c" category="inline-link-macro">ONTAP SAN 驗證</block>
  <block id="4a5e4254b1862ddbff7f81ed84e87125" category="list-text"><block ref="4a5e4254b1862ddbff7f81ed84e87125" category="inline-link-macro-rx"></block></block>
  <block id="e5fd3b07dfde2732fc5e3a9d4e7c5370" category="section-title">已測試的亞馬遜機器映像 (AMI)</block>
  <block id="3cec1ada82beb8b8e724d5114558490c" category="paragraph">EKS 叢集支援各種作業系統，但 AWS 針對容器和 EKS 優化了某些 Amazon Machine Image (AMI)。以下 AMI 已使用NetApp Trident 25.02 進行測試。</block>
  <block id="af2fcef81914e3ce8b2cbe1ab832c879" category="cell">急性心肌梗塞</block>
  <block id="c07ee5debf5f3a3fef16c1ee5e8e4942" category="cell">網路儲存</block>
  <block id="12b1f0215cde9ea0ca4aac0c3ade3a96" category="cell">NAS經濟</block>
  <block id="cedb5a7bb4fc5e3e014ce0b58a3d5095" category="cell">iSCSI經濟型</block>
  <block id="b2f628a87c3b04816210b608f76d5fa0" category="cell">AL2023_x86_64_STANDARD</block>
  <block id="c1dfeb2129506a6914b9c6c3c0cdb647" category="cell">AL2_x86_64</block>
  <block id="01a9a3b8d0fcae3055dc91935e8ec6c6" category="cell">是的*</block>
  <block id="e732f4cda23726735e2b2cf9bc3ba76f" category="cell">BOTTLEROCKET_x86_64</block>
  <block id="9cfc5bb3d7caf552b74c3e5295bb5f11" category="cell">是的**</block>
  <block id="382b0f5185773fa0f67a8ed8056c7759" category="cell">不適用</block>
  <block id="1566bc91a0bfa1dbeba46107fc54f756" category="cell">AL2023_ARM_64_STANDARD</block>
  <block id="e3b9c2e4d8176e1074a9511b580d6396" category="cell">AL2_ARM_64</block>
  <block id="a28322bc0e8a38770a1af7cc1d4a9ad9" category="cell">BOTTLEROCKET_ARM_64</block>
  <block id="27a75f24043645e5e4d2b91bad951706" category="list-text">* 如果不重新啟動節點，則無法刪除 PV</block>
  <block id="029fec6571d8c4d36438994c07941953" category="list-text">** 不適用於Trident版本 25.02 的 NFSv3。</block>
  <block id="e5d0cb04635aeb2a6f06f54da8303683" category="admonition">如果您所需的 AMI 未在此處列出，並不意味著它不受支援；這僅僅意味著它尚未經過測試。此清單可作為 AMI 已知可用系統的指南。</block>
  <block id="07e5351dce8b6c8e3f72745762bac773" category="paragraph">*使用以下工具進行測試：*</block>
  <block id="87e881298a8d8cc2b3ffd068da55a0c1" category="list-text">EKS版本：1.32</block>
  <block id="38ec877f215b7bc2eb836f279c3374c5" category="list-text">安裝方法：Helm 25.06 和 AWS 附加元件 25.06</block>
  <block id="583a5d19bce672251a82cb390b576d1a" category="list-text">對於 NAS，NFSv3 和 NFSv4.1 都進行了測試。</block>
  <block id="8dba245dcac3bf8acf6067e0d62d01cb" category="list-text">SAN 僅測試了 iSCSI，未測試 NVMe-oF。</block>
  <block id="6eee4bc92cc38369e7271225ec488e82" category="paragraph">*已執行測試*：</block>
  <block id="0524d900ed906479235e99cfc10e1cb6" category="list-text">建立：儲存類別、PVC、Pod</block>
  <block id="12dbb8a3d281738c9cc213bc80fa2343" category="list-text">刪除：pod、pvc（常規、qtree/lun – 經濟型、有 AWS 備份的 NAS）</block>
  <block id="cc788b7e72b2a734dd0985bd1e0e9fe3" category="inline-link">Amazon FSx for NetApp ONTAP文檔</block>
  <block id="fd570b75466e2daca21a032e6fd5981c" category="list-text"><block ref="fd570b75466e2daca21a032e6fd5981c" category="inline-link-rx"></block></block>
  <block id="0ef79cb4bb284d3ca9c3e95489919301" category="inline-link">關於Amazon FSx for NetApp ONTAP的部落格文章</block>
  <block id="3b94214fe5975bca8da92b72f8926be2" category="list-text"><block ref="3b94214fe5975bca8da92b72f8926be2" category="inline-link-rx"></block></block>
  <block id="c50cb71bc70d27f0ecf850ff18d11479" category="summary">使用Trident，您可以利用同一 K8s 叢集中不同命名空間內的現有磁碟區或磁碟區快照建立新磁碟區。</block>
  <block id="fc61af20b92225aae2a169587940eb14" category="doc">跨命名空間克隆卷</block>
  <block id="7d3b4ba16dd9908f0a9572976f62cb92" category="paragraph">使用Trident，您可以利用同一 Kubernetes 叢集中不同命名空間內的現有磁碟區或磁碟區快照建立新磁碟區。</block>
  <block id="12bf911acc3865647e24aa6cc61fad9d" category="paragraph">在克隆卷之前，請確保來源後端和目標後端是同一類型，並且具有相同的儲存類別。</block>
  <block id="2094195fd55afe126d43ae0e716d1274" category="admonition">跨命名空間克隆僅支援以下情況：<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block>和<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block>儲存驅動程式。不支援只讀克隆。</block>
  <block id="06ad314b340900d226b1196e1fe289e9" category="section-title">快速啟動</block>
  <block id="88f2acec92adfdf94ffec73a8fda60a6" category="paragraph">只需幾個步驟即可設定卷克隆。</block>
  <block id="9e556d1188a1d7d3f911546d9c8f70f1" category="paragraph-title"><block ref="58f667aaf05f87159670e12bd9bc076b" category="inline-image-macro-rx" type="image"></block>配置來源 PVC 以克隆卷</block>
  <block id="88b05b42d60719619c24f6101bcd381a" category="paragraph">來源命名空間擁有者授予存取來源 PVC 中資料的權限。</block>
  <block id="82a9b6c32a91a1f4a714d648f5d3260f" category="paragraph-title"><block ref="54f425ce8d89f4ed6b8a546561af5d60" category="inline-image-macro-rx" type="image"></block>授予在目標命名空間中建立 CR 的權限</block>
  <block id="7037976663710169f00563675ffd3f91" category="paragraph">叢集管理員授予目標命名空間的擁有者建立 TridentVolumeReference CR 的權限。</block>
  <block id="311a877e773f97b1e237db665a868dd9" category="paragraph-title"><block ref="05b2444faffd66d76e88602ea7dd353f" category="inline-image-macro-rx" type="image"></block>在目標命名空間中建立 TridentVolumeReference</block>
  <block id="46374486db0641fa4a3fc8e9c73766ed" category="paragraph">目標命名空間的擁有者建立 TridentVolumeReference CR 以引用來源 PVC。</block>
  <block id="4f371bbe8ba542b2ca00eb9f3a3a2716" category="paragraph-title"><block ref="beadfa85a2fdca06b91edc1131c603e6" category="inline-image-macro-rx" type="image"></block>在目標命名空間中建立克隆 PVC</block>
  <block id="a77fe76c8980416f14767484ab56a324" category="paragraph">目標命名空間的擁有者建立 PVC 以複製來源命名空間中的 PVC。</block>
  <block id="7238deab481379c03df561ea7c9b0e2e" category="section-title">配置來源命名空間和目標命名空間</block>
  <block id="b739008e44cdaf094f62931a68086bb5" category="paragraph">為確保安全，跨命名空間複製磁碟區需要來源命名空間擁有者、叢集管理員和目標命名空間擁有者的協作和操作。使用者角色在每個步驟中都會被指定。</block>
  <block id="6558f904ce916da3190d62209965d0ee" category="list-text">*來源命名空間擁有者：* 建立PVC<block ref="30520f4f96804df83914260b79f55962" prefix="(" category="inline-code"></block> ）在來源命名空間中<block ref="612897f0683dd83be850731b14801182" prefix="(" category="inline-code"></block>授予與目標命名空間共享的權限<block ref="6fde1ba4470caca933058264dbfdea2e" prefix="(" category="inline-code"></block>) 使用<block ref="176dbae9b2594398063073fa2462e819" prefix=" " category="inline-code"></block>註解。</block>
  <block id="e44a637a848aa60ef27cfc477d692412" category="paragraph">Trident建立 PV 及其後端儲存磁碟區。</block>
  <block id="848c08c0dad8da2f2f28ca678bbfbf1f" category="list-text">您可以使用逗號分隔的清單將 PVC 共用給多個命名空間。例如，<block ref="01066aa74fe32f5dae708937da0fdc6f" prefix=" " category="inline-code"></block> 。</block>
  <block id="e49c2aab2a070ab6ebb8b78acc7d3685" category="list-text">您可以使用以下方式共用到所有命名空間<block ref="3389dae361af79b04c9c8e7057f60cc6" prefix=" " category="inline-code"></block>。例如，<block ref="b50a7cdb2a6c7bc49cf0ac66428e8a33" prefix=" " category="inline-code"></block></block>
  <block id="6844c666d46d26f14f45880c3b8cd2ec" category="list-text">您可以更新PVC以包含<block ref="176dbae9b2594398063073fa2462e819" prefix=" " category="inline-code"></block>隨時可以添加註釋。</block>
  <block id="b3d3f9a2121425d368b2e48af67d611a" category="list-text">*叢集管理員：* 確保已配置正確的基於角色的存取控制 (RBAC)，以授予目標命名空間擁有者在目標命名空間中建立 TridentVolumeReference CR 的權限。<block ref="6fde1ba4470caca933058264dbfdea2e" prefix="(" category="inline-code"></block> ）。</block>
  <block id="5f560764a361bf1159f8a6c8cbd15dad" category="list-text">*目標命名空間擁有者：* 在目標命名空間中建立一個指向來源命名空間的 TridentVolumeReference CR。<block ref="30520f4f96804df83914260b79f55962" prefix=" " category="inline-code"></block> 。</block>
  <block id="b49d0358b75283a3c4f7a2e7229fc097" category="list-text">*目標命名空間擁有者：* 建立PVC<block ref="3f6857fc20ae2372499a71869ac3fe7e" prefix="(" category="inline-code"></block> ）在目標命名空間<block ref="6fde1ba4470caca933058264dbfdea2e" prefix="(" category="inline-code"></block>) 使用<block ref="77167d63af133b47bca3bbacd580fa44" prefix=" " category="inline-code"></block>或者<block ref="bfd2f3d7d043509924eaac702957a99d" prefix=" " category="inline-code"></block>， 和<block ref="2413b30c8869ee9ac5b416f44004a212" prefix=" " category="inline-code"></block>用於指定來源PVC的註解。</block>
  <block id="188811e4b8b33253d84403cd9a1fcfa9" category="list-text">對於使用 ontap-nas-economy 驅動程式配置的 PVC，不支援唯讀克隆。</block>
  <block id="f8abfe6b352de2fd0e868bcaf6f3e7f7" category="summary">Trident支援為建立的磁碟區指派有意義的名稱和標籤，以便更容易識別、監控和管理卷，並輕鬆地將磁碟區對應到對應的 Kubernetes 資源（PVC）。</block>
  <block id="3c49604e542827bab74a3fdc9c521379" category="doc">自訂磁碟區名稱和標籤</block>
  <block id="ba7c9f4d567a323afc79746f519e415b" category="paragraph">使用Trident，您可以為建立的磁碟區指派有意義的名稱和標籤。這可以幫助您識別磁碟區並將其輕鬆對應到各自的 Kubernetes 資源（PVC）。您也可以在後端層級定義模板，以建立自訂磁碟區名稱和自訂標籤；您建立、匯入或複製的任何磁碟區都會遵循這些模板。</block>
  <block id="52929ef06c83a3071dc677c6076f8eb3" category="paragraph">支援自訂磁碟區名稱和標籤：</block>
  <block id="ba7ad86bd3d0a50a4a04306d941e6c28" category="list-text">磁碟區建立、匯入和克隆操作。</block>
  <block id="174a7026faf4af3e1ec0eeec9d35af81" category="list-text">對於 ontap-nas-economy 驅動程序，只有 Qtree 磁碟區的名稱符合名稱範本。</block>
  <block id="12df52676a1d1f4040501d3a804b1a4b" category="list-text">對於 ontap-san-economy 驅動程序，只有 LUN 名稱符合名稱範本。</block>
  <block id="0ee903e586aac760f5cdfb2c770f936b" category="list-text">可自訂磁碟區名稱僅與ONTAP本機驅動程式相容。</block>
  <block id="b3c7ca4cfca79f517812064c1b9b0ef3" category="list-text">可自訂的磁碟區名稱不適用於現有磁碟區。</block>
  <block id="4c71628145ace597229ccf6ca6fdc8bf" category="section-title">可自訂磁碟區名稱的關鍵行為</block>
  <block id="a5a284fe1356005dc517f157bef35adc" category="list-text">如果由於名稱範本中的語法無效而導致失敗，則後端建立將失敗。但是，如果範本套用失敗，則磁碟區將按照現有的命名約定命名。</block>
  <block id="d654edd1d54bb9458ddce1a8e82a2733" category="list-text">當使用後端配置中的名稱模板命名磁碟區時，儲存前綴不適用。可以直接在模板中加入任何所需的前綴值。</block>
  <block id="7a4b723467d577190f5e83269d9c620a" category="section-title">後端設定範例，包含名稱範本和標籤</block>
  <block id="c08c19c0fe3a67a5a218b1aa469e05ad" category="paragraph">可以在根層級和/或池層級定義自訂名稱範本。</block>
  <block id="12f281b150c6774b77a875b26e355bfc" category="listing-title">根級別範例</block>
  <block id="93a53c76d697da9fb40dcf5571309b51" category="listing-title">池級範例</block>
  <block id="c9181e8d9effc5e3fff6e681bc43f9bb" category="section-title">名稱範本範例</block>
  <block id="6834f2805b2a45680a7ae789728955a4" category="paragraph">*範例 1*：</block>
  <block id="c0fa2da2f469c0dff06ceac7e749b20d" category="paragraph">*範例 2*：</block>
  <block id="e1a1ba8a7f91a9affe2c95b795610ca0" category="list-text">對於磁碟區匯入，只有當現有磁碟區具有特定格式的標籤時，才會更新標籤。例如：<block ref="ac1133297b5ec16017c28f04387bb5c9" prefix=" " category="inline-code"></block> 。</block>
  <block id="feddffabbdd5254f9975a1a26a73d651" category="list-text">對於託管磁碟區匯入，磁碟區名稱遵循後端定義根層級定義的名稱範本。</block>
  <block id="97c781efba117c0e1d5363fc4b25ca4d" category="list-text">Trident不支援將切片運算子與儲存前綴一起使用。</block>
  <block id="d30011d07380d694abaa3a0701445be9" category="list-text">如果模板無法產生唯一的磁碟區名稱， Trident將添加一些隨機字元來建立唯一的磁碟區名稱。</block>
  <block id="67b2f0b2bd7da526ee1d031a8d146585" category="list-text">如果 NAS 經濟型磁碟區的自訂名稱長度超過 64 個字符， Trident將依照現有的命名約定為磁碟區命名。對於所有其他ONTAP驅動程序，如果磁碟區名稱超過名稱限制，則磁碟區建立程序將會失敗。</block>
  <block id="18554a6310d1d501f5fdbbbc7a0cd7c6" category="summary">Trident為 Kubernetes 使用者提供了在建立磁碟區後擴充磁碟區的能力。尋找有關擴展 iSCSI、FC 和 NFS 磁碟區所需的設定資訊。</block>
  <block id="996b8601627b0cb893a41930ccbbeb4b" category="paragraph">Trident為 Kubernetes 使用者提供了在建立磁碟區後擴充磁碟區的能力。尋找有關擴展 iSCSI、NFS、SMB、NVMe/TCP 和 FC 磁碟區所需的配置的資訊。</block>
  <block id="15d79b565b148caa23e6f2b53813413d" category="section-title">擴充 iSCSI 卷</block>
  <block id="0b981ab19df55a28a02578aa5f326db8" category="paragraph">您可以使用 CSI 設定程式擴充 iSCSI 持久性磁碟區 (PV)。</block>
  <block id="f8f338469c62eb8604f5304af08466ba" category="admonition">iSCSI 磁碟區擴充受以下方式支援：<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> ，<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block> ，<block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block>驅動程式需要 Kubernetes 1.16 及更高版本。</block>
  <block id="fe9ee1935ea7894fe4fd2f600993cd7d" category="section-title">步驟 1：設定 StorageClass 以支援磁碟區擴展</block>
  <block id="ff87ac5778183437377f5f963a3dccac" category="paragraph">編輯 StorageClass 定義以進行設置<block ref="6add71a247c8f4513060920be14857bc" prefix=" " category="inline-code"></block>田野<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>。</block>
  <block id="c83b8171dcc233263cf7eeaef8da6a4d" category="paragraph">對於已存在的 StorageClass，對其進行編輯以包含以下內容：<block ref="6add71a247c8f4513060920be14857bc" prefix=" " category="inline-code"></block>範圍。</block>
  <block id="59973fd7be015512b53fe121a13d5580" category="section-title">步驟 2：使用您建立的 StorageClass 建立 PVC。</block>
  <block id="efe0663b3e4eed08a4a1b30c3f3a2aac" category="paragraph">編輯PVC定義並更新<block ref="02b011e6fe36e26e5f7365ba08bf5a48" prefix=" " category="inline-code"></block>為了反映新的所需尺寸，該尺寸必須大於原始尺寸。</block>
  <block id="e784d9ded1cce64694895e336ef35234" category="paragraph">Trident創建一個持久銷售 (PV) 並將其與此持久銷售聲明 (PVC) 關聯起來。</block>
  <block id="8dacc1d7fdb5bfd3f8a4daedf3ccdd88" category="section-title">步驟 3：定義一個連接 PVC 的艙體</block>
  <block id="9d384cd22f1c9bc6a23136fe35d2a51c" category="paragraph">將光電模組連接到艙體上，以便調整其尺寸。調整 iSCSI PV 大小時有兩種情況：</block>
  <block id="c97c2c03f174086fc1172be741226250" category="list-text">如果 PV 連接到 pod， Trident會擴展儲存後端上的捲，重新掃描設備，並調整檔案系統的大小。</block>
  <block id="8870cc012f196366d720ebdad2f5632f" category="list-text">嘗試調整未連接的 PV 的大小時， Trident會在儲存後端擴充磁碟區。  PVC 與 pod 綁定後， Trident會重新掃描裝置並調整檔案系統的大小。  Kubernetes 會在擴充操作成功完成後更新 PVC 大小。</block>
  <block id="85f5dec267aa48cff82ccaf993019e6d" category="paragraph">在這個例子中，建立了一個使用下列功能的 pod：<block ref="51288ffe0d65faa0df02b71bfa104041" prefix=" " category="inline-code"></block> 。</block>
  <block id="ebae1958b6002fb43077a474d845284c" category="section-title">步驟 4：展開 PV</block>
  <block id="63188b171689bcd93b1ca818b3a2ab9c" category="paragraph">若要將已建立的 PV 從 1Gi 調整為 2Gi，請編輯 PVC 定義並更新。<block ref="02b011e6fe36e26e5f7365ba08bf5a48" prefix=" " category="inline-code"></block>至 2Gi。</block>
  <block id="eabf614ed44fe1c3e78cb2300949eb63" category="section-title">步驟 5：驗證擴展</block>
  <block id="026f69e8eb7faab2f07a68365843746d" category="paragraph">您可以檢查PVC、PV和Trident的體積來驗證擴容是否正確：</block>
  <block id="1dea918d41199b513b961287c6579f4f" category="section-title">擴大 FC 體積</block>
  <block id="213524ddd0b0daf2a171ee47c3596e00" category="paragraph">您可以使用 CSI 設定程式擴充 FC 持久性磁碟區 (PV)。</block>
  <block id="7ff05a6f045c4cd794027d9a80f2ee93" category="admonition">FC體積擴張得到了以下的支持：<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block>驅動程式需要 Kubernetes 1.16 及更高版本。</block>
  <block id="7e60a488a5dff73b203319b9ad63006e" category="paragraph">將光電模組連接到艙體上，以便調整其尺寸。調整燃料電池光電模組容量時有兩種情況：</block>
  <block id="75b8249751a8ea5869a0b5a8e465efc1" category="section-title">擴展 NFS 卷</block>
  <block id="d8fc21061998f01679cbbabd9102ec8c" category="paragraph">Trident支援為已設定的 NFS PV 擴充容量。<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block> ，<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block> ，<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block> ，<block ref="5935ea92cdd7d975b4e764b429f21c01" prefix=" " category="inline-code"></block> ， 和<block ref="bc5779a2d33eeb1304bae57f15920cfc" prefix=" " category="inline-code"></block>後端。</block>
  <block id="578f10bb7cad2abad1cbbcb9a9a732f9" category="paragraph">要調整 NFS PV 的大小，管理員首先需要配置儲存類別以允許磁碟區擴展，方法是設定以下參數：<block ref="6add71a247c8f4513060920be14857bc" prefix=" " category="inline-code"></block>田野<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>：</block>
  <block id="27b4a9ed8609e35526601aa8d8be1ab9" category="paragraph">如果您已經建立了一個沒有此選項的儲存類，則可以透過使用下列命令直接編輯現有儲存類別：<block ref="04e7749715e986f27d9cb67434b65b72" prefix=" " category="inline-code"></block>允許體積膨脹。</block>
  <block id="d16fccbbd08210b8ff7b8b31329268bb" category="paragraph">Trident應該為該 PVC 建立一個 20 MiB 的 NFS PV：</block>
  <block id="3b16cea25bd4a9aaf5a9c3dcc13ea7eb" category="section-title">步驟 3：擴充 PV</block>
  <block id="59dd268b21bd1a23faa29555b52ba22b" category="paragraph">若要將新建的 20 MiB PV 調整為 1 GiB，請編輯 PVC 並進行設置<block ref="02b011e6fe36e26e5f7365ba08bf5a48" prefix=" " category="inline-code"></block>到 1 GiB：</block>
  <block id="4a59ce1bc63fd7e6333968fb4bbd9d45" category="section-title">步驟 4：驗證擴展</block>
  <block id="36941664e357e5e47a63d528d3ff49b5" category="paragraph">您可以檢查 PVC、PV 和Trident體積的大小來驗證調整大小是否正確：</block>
  <block id="bf320e716fd5e77836a28acbf01fd5f2" category="summary">Kubernetes 持久性磁碟區 (PV) 的磁碟區快照可以建立磁碟區的某個時間點副本。您可以建立使用Trident建立的磁碟區的快照，匯入在Trident之外建立的快照，從現有快照建立新磁碟區，以及從快照還原磁碟區資料。</block>
  <block id="6fddcf0bbb95fe4fb7de4f5f2e53ee74" category="paragraph">NetApp Trident提供了建立多個磁碟區（一組磁碟區快照）快照的功能，可用於建立持久磁碟區 (PV) 的 Kubernetes 磁碟區組快照。此磁碟區組快照表示在同一時間點從多個磁碟區中取得的副本。</block>
  <block id="54100cbc57b96027d8dd74891c09bf53" category="section-title">建立卷宗組快照</block>
  <block id="e5c9406711c4a7cf7784d95bdf1a2d03" category="paragraph">卷冊組快照受支援<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block>此驅動程式僅適用於 iSCSI 協議，尚不支援光纖通道 (FCP) 或 NVMe/TCP。開始之前</block>
  <block id="5b01a9092d1abd7706608bb162c6b8b5" category="list-text">請確保您的 Kubernetes 版本為 K8s 1.32 或更高版本。</block>
  <block id="c1ec7161e63fe862aeb30466f8f3f3b8" category="list-text">若要使用快照，您必須擁有外部快照控制器和自訂資源定義 (CRD)。這是 Kubernetes 編排器（例如：Kubeadm、GKE、OpenShift）的職責。</block>
  <block id="16a63a09f76aeddeabaee67b10b15b73" category="paragraph">如果您的 Kubernetes 發行版不包含外部快照控制器和 CRD，請參閱<block ref="048c22f74eff12037af96b48becdf135" category="inline-xref-macro-rx"></block>。</block>
  <block id="1f8b4b5fe121a8bf806f02d7e43e97b5" category="admonition">如果在 GKE 環境中建立按需卷宗組快照，則不要建立快照控制器。  GKE 使用內建的隱藏快照控制器。</block>
  <block id="651dc2c39783e984f4c34a8de9e5bdf1" category="list-text">在快照控制器 YAML 中，設定<block ref="ba99addb5e4a87e02dbb279026aee6f0" prefix=" " category="inline-code"></block>將功能門設為“true”，以確保啟用磁碟區組快照。</block>
  <block id="8a30cbf1912a9801e2b44d7e46629b37" category="list-text">在建立磁碟區組快照之前，請先建立所需的磁碟區組快照類別。</block>
  <block id="044fa4af347bac1f72b867321db43dc5" category="list-text">確保所有 PVC/磁碟區都在同一 SVM 上，以便能夠建立 VolumeGroupSnapshot。</block>
  <block id="b05416d74805ad470e82fbd185a80f60" category="inline-link-macro">卷冊組快照類</block>
  <block id="4142b8b09dc7a34d6ec584224ea12401" category="list-text">在創建 VolumeGroupSnapshot 之前，請先建立 VolumeGroupSnapshotClass。更多信息，請參閱<block ref="4379abd46d192befbb8bdad98f8a5d59" category="inline-link-macro-rx"></block>。</block>
  <block id="62db7d93a1dcd7da96e447092fe6fc94" category="list-text">使用現有的儲存類別建立具有所需標籤的 PVC，或將這些標籤新增至現有的 PVC。</block>
  <block id="e7593a56264dced725b58e1dcee9feba" category="paragraph">以下範例使用以下方法建立 PVC：<block ref="75b2ada4942bd6bef7c0a52dd98f7481" prefix=" " category="inline-code"></block>作為資料來源和標籤<block ref="976d0352c3b3c8881b2f195b2b26322b" prefix=" " category="inline-code"></block>。根據您的需求定義標籤的鍵和值。</block>
  <block id="88ee2eefee7a24d49764bba2f82da06c" category="list-text">建立具有相同標籤的磁碟區組快照<block ref="976d0352c3b3c8881b2f195b2b26322b" prefix="(" category="inline-code"></block>）在PVC中規定。</block>
  <block id="9d802b9a265ada16030457d797e599c4" category="paragraph">此範例建立磁碟區組快照：</block>
  <block id="52d80f524a1f3e7aa3025bacef197f8a" category="section-title">使用群組快照恢復磁碟區數據</block>
  <block id="ee9a128a343c337cf14116c1aecbb76c" category="paragraph">您可以使用作為磁碟區組快照一部分建立的各個快照來還原各個持久性磁碟區。您無法將磁碟區組快照作為一個整體還原。</block>
  <block id="8f580d002ee0bbc67930846839d50dbe" category="paragraph">使用磁碟區快照還原ONTAP CLI 將磁碟區還原到先前快照中記錄的狀態。</block>
  <block id="f84dc17e0595ca9097097e70b9b927e1" category="admonition">還原快照副本時，現有磁碟區配置將被覆寫。建立快照副本後對磁碟區資料所做的變更將會遺失。</block>
  <block id="1738a6ff1f0b418ce16cf74aabdceff1" category="section-title">從快照進行原地體積恢復</block>
  <block id="f29961e077241efec95d259658aa48f1" category="paragraph">Trident利用快照提供快速、原位體積恢復功能<block ref="2aabb3b01d0d54317a9eeef910e001f6" prefix=" " category="inline-code"></block>（TASR）CR。此 CR 作為強制性 Kubernetes 操作，在操作完成後不會持久保存。</block>
  <block id="76716637a3c3927e6595526c04493e52" category="paragraph">有關詳細信息，請參閱 <block ref="614ee046be6d137fe1c3eadbaba6d9fe" category="inline-link-macro-rx"></block>。</block>
  <block id="8b278511419cd00303a31bff3e658d7b" category="section-title">刪除包含關聯群組快照的 PV</block>
  <block id="3f0f9a5202405094b6d608bca6feef12" category="paragraph">刪除群組磁碟區快照時：</block>
  <block id="24c108ca3f67c96a3a0fc4a98ab3f465" category="list-text">您可以刪除整個 VolumeGroupSnapshots，而不是刪除群組中的單一快照。</block>
  <block id="f3a07fd55b2a15dd2fe4a64f0a2e01e1" category="list-text">如果在持久卷存在快照的情況下刪除該持久卷， Trident會將該卷移至「正在刪除」狀態，因為必須先刪除快照才能安全地刪除該卷。</block>
  <block id="982deda5497c5c5a268ba1212d419648" category="list-text">如果使用分組快照建立了克隆，然後要刪除該群組，則會開始在克隆時進行分割操作，並且在拆分完成之前無法刪除該群組。</block>
  <block id="b1bc7c11251b98a19ba1fc0ad08275ed" category="section-title">部署磁碟區快照控制器</block>
  <block id="9c87569b835a8f66b7490390d350d9a4" category="paragraph">如果您的 Kubernetes 發行版不包含快照控制器和 CRD，您可以如下部署它們。</block>
  <block id="469f7ca16938508b5dcb777767828b70" category="list-text">建立磁碟區快照 CRD。</block>
  <block id="a571dbb3887a364b4b4dcb82a5fa6ec9" category="list-text">建立快照控制器。</block>
  <block id="ae3ba2e438847d5fb2abc16b3c73ccab" category="admonition">如有必要，打開<block ref="31a2c725707ce238c3eb4dd82c7e3af9" prefix=" " category="inline-code"></block>並更新<block ref="89801e9e98979062e84647433a8ed3e9" prefix=" " category="inline-code"></block>新增到您的命名空間。</block>
  <block id="f6bd0d7447ff66cc6b859603a88fbde9" category="section-title">相關連結</block>
  <block id="4379abd46d192befbb8bdad98f8a5d59" category="list-text"><block ref="4379abd46d192befbb8bdad98f8a5d59" category="inline-link-macro-rx"></block></block>
  <block id="35aa4a2a819e526c2e930e487df8d423" category="list-text"><block ref="35aa4a2a819e526c2e930e487df8d423" category="inline-link-macro-rx"></block></block>
  <block id="cf13ba16f33b5f6772614929649be6c2" category="summary">您可以使用以下方式將現有儲存磁碟區匯入為 Kubernetes PV：<block ref="a768f5449e3a83ac56f2fb8ab4562339" prefix=" " category="inline-code"></block> 。</block>
  <block id="5f48c343984786005c9830d96c6fca87" category="doc">進口量</block>
  <block id="2e77d5277311f3a9232a73cdbbcd754b" category="section-title">概述和注意事項</block>
  <block id="822f23137373a7a374fd33ef3863c2de" category="paragraph">您可以將磁碟區匯入Trident以執行下列操作：</block>
  <block id="88541191ec5fe50ba0d21b4300401b85" category="list-text">將應用程式容器化並重複使用其現有資料集</block>
  <block id="77d782125cafbbf0fe1c5c95755d143f" category="list-text">為臨時應用程式使用資料集的克隆版本</block>
  <block id="d265b515faaf05e2c32727d8b9742a78" category="list-text">重建失敗的 Kubernetes 集群</block>
  <block id="6766ef9d5b11abf03ee72b55c5745f4b" category="list-text">在災難復原期間遷移應用程式數據</block>
  <block id="4c321a56c9c030449cd3315863de525b" category="paragraph">在匯入磁碟區之前，請考慮以下事項。</block>
  <block id="15309597fffd67488a7a5dde3591144d" category="list-text">Trident只能匯入 RW（讀寫）類型的ONTAP區。 DP（資料保護）類型磁碟區是SnapMirror目標磁碟區。在將磁碟區導入Trident之前，應該先斷開鏡像關係。</block>
  <block id="e47be4dcc849b534107f57afd92f801f" category="list-text">我們建議匯入沒有活動連結的磁碟區。若要匯入正在使用的捲，請複製該卷，然後執行匯入操作。</block>
  <block id="e4618ea9b1ae23e5ed30f6f19e6a77e8" category="admonition">這對於塊卷來說尤其重要，因為 Kubernetes 不知道先前的連接，很容易將活動卷附加到 pod 上。這可能導致資料損壞。</block>
  <block id="349d29de1123e1836103914780ffb39b" category="list-text">儘管<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block>必須在 PVC 上指定， Trident在導入過程中不使用此參數。在建立磁碟區時，會使用儲存類別根據儲存特性從可用儲存池中進行選擇。由於磁碟區已存在，因此匯入時無需選擇儲存池。因此，即使磁碟區存在於與 PVC 中指定的儲存類別不符的後端或池中，匯入也不會失敗。</block>
  <block id="a31db9efd829f01dd21fdc97db2d29e4" category="list-text">現有容積尺寸在PVC中確定並設定。磁碟區被儲存驅動程式匯入後，PV 會創建，並帶有指向 PVC 的 ClaimRef。</block>
  <block id="604eea1f3df98285b6887ff059258827" category="list-text">回收策略初始設定為<block ref="16d79ff80feadcf2f52096f073f2b94a" prefix=" " category="inline-code"></block>在PV中。  Kubernetes 成功綁定 PVC 和 PV 後，回收策略會更新為與儲存類別的回收策略相符。</block>
  <block id="5d24684cf5054f53b1e945be75b37f69" category="list-text">如果儲存類別的回收策略是<block ref="099af53f601532dbd31e0ea99ffdeb64" prefix=" " category="inline-code"></block>當 PV 被刪除時，儲存磁碟區也會被刪除。</block>
  <block id="3edd5ccaa0382772ccb1cc5a409488a8" category="list-text">預設情況下， Trident管理 PVC，並在後端重新命名FlexVol volume和 LUN。你可以透過<block ref="e2b9359adf7cdd62fc784b5090c3c452" prefix=" " category="inline-code"></block>導入非託管磁碟區的標誌。如果你使用<block ref="e2b9359adf7cdd62fc784b5090c3c452" prefix=" " category="inline-code"></block>在物件的生命週期內， Trident不會對 PVC 或 PV 執行任何額外的操作。刪除 PV 時，儲存磁碟區不會被刪除，其他操作（如磁碟區複製和磁碟區調整大小）也會被忽略。</block>
  <block id="be303acf01bc566d5d211f228131bee4" category="admonition">如果您想使用 Kubernetes 來管理容器化工作負載，但又想在 Kubernetes 之外管理儲存磁碟區的生命週期，則此選項非常有用。</block>
  <block id="76057e180d7b3edcebaa935c7ccab687" category="list-text">在 PVC 和 PV 中加入註釋，其作用有兩個：一是指示卷已導入，二是指示 PVC 和 PV 是否已管理。此註釋不應修改或刪除。</block>
  <block id="db31dcd83fd57b294fb0340ea975015f" category="section-title">導入磁碟區</block>
  <block id="61a1adebea5e6a017b4bd4b405ae4f52" category="paragraph">您可以使用<block ref="a768f5449e3a83ac56f2fb8ab4562339" prefix=" " category="inline-code"></block>導入卷。</block>
  <block id="8feb5f647cb423db7fa8a957ae4ef075" category="list-text">建立持久性磁碟區聲明 (PVC) 檔案（例如，<block ref="88bf8ee4d993e535425148da6a64c1c2" prefix=" " category="inline-code"></block> ) 將用於製造PVC。  PVC檔案應包含<block ref="b068931cc450442b63f5b3d276ea4297" prefix=" " category="inline-code"></block>，<block ref="89801e9e98979062e84647433a8ed3e9" prefix=" " category="inline-code"></block> ，<block ref="1963d17f24888bdf1f22d7ea7f72f607" prefix=" " category="inline-code"></block> ， 和<block ref="ee822781a3bd0ae0f8f6331dc4865d9c" prefix=" " category="inline-code"></block>。  （可選）您可以指定<block ref="c005e78d4bd808038335c32dd84cf7da" prefix=" " category="inline-code"></block>在你的PVC定義中。</block>
  <block id="7f745c89a2e8fd59353bab523e12eb77" category="paragraph">以下是一個最低規格範例：</block>
  <block id="a9e31569460a0b133fdd97c5f482c04e" category="admonition">不要包含其他參數，例如 PV 名稱或體積大小。這可能會導致導入命令失敗。</block>
  <block id="7a06039f2c19a8797457cd811e999229" category="list-text">使用<block ref="a768f5449e3a83ac56f2fb8ab4562339" prefix=" " category="inline-code"></block>用於指定包含磁碟區的Trident後端名稱以及唯一標識儲存上磁碟區的名稱的命令（例如： ONTAP FlexVol、Element Volume、 Cloud Volumes Service路徑）。這<block ref="5338b151154663bac9980b0f044518f2" prefix=" " category="inline-code"></block>需要提供參數來指定PVC檔案的路徑。</block>
  <block id="37c0e0081d2fa3ebdf688df7e37ecd7a" category="paragraph">請查看以下卷導入範例，以了解支援的驅動程式。</block>
  <block id="b8cd11aae04b2508e6cf401f43cdb4f9" category="section-title">ONTAP NAS 和ONTAP NAS FlexGroup</block>
  <block id="f610f3c991a9fe41a30dec78ba76caa8" category="paragraph">Trident支援使用以下方式導入磁碟區：<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block>和<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block>司機。</block>
  <block id="e214c4610b9128a251097b5d36c60e8b" category="list-text">Trident不支援使用<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block> 司機。</block>
  <block id="15f21f5d1f84f4b986a4db037c57333d" category="list-text">這<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block>和<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block>驅動程式不允許重複的捲名稱。</block>
  <block id="82ffd98bd5aacd62bc72d8aca0f53528" category="paragraph">每卷都是用以下方式創建的<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block>driver 是ONTAP叢集上的FlexVol volume。使用以下方式導入FlexVol卷<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block>驅動程式的工作原理相同。已存在於ONTAP叢集上的FlexVol磁碟區可以作為下列方式匯入：<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block> PVC。同樣， FlexGroup磁碟區也可以匯入為<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block>PVC。</block>
  <block id="3fa3bc64b029b88f42b842bb7dc4e52d" category="paragraph-title">ONTAP NAS 範例</block>
  <block id="77fe25c67ee05760d58e91a98e3ff055" category="paragraph">下面展示了託管磁碟區和非託管磁碟區匯入的範例。</block>
  <block id="865c1a701e3847de9fbff4a375ac7177" category="open-title">託管磁碟區</block>
  <block id="9baac1fff2f93c6aa6f2205921fe6b32" category="paragraph">以下範例導入一個名為“<block ref="b61fdc0d7fc5d08e674f3891a91d3116" prefix=" " category="inline-code"></block>在名為<block ref="b0253ee501e433d48faea12f8e40ef28" prefix=" " category="inline-code"></block>：</block>
  <block id="ed12f17a6dc2e65dfdf289eb64d258ae" category="open-title">未託管卷</block>
  <block id="2bde530216fea43a4e556d3bba5dce11" category="paragraph">使用時<block ref="e2b9359adf7cdd62fc784b5090c3c452" prefix=" " category="inline-code"></block>理由是， Trident不會重新命名磁碟區。</block>
  <block id="30690ec57cb4844d007f7d2e2c9393a2" category="paragraph">以下範例導入<block ref="60d9e6d88af815fe67aed90572f53184" prefix=" " category="inline-code"></block>在<block ref="b0253ee501e433d48faea12f8e40ef28" prefix=" " category="inline-code"></block>後端：</block>
  <block id="548fedaf4074fe2826e3c53dfd92a19e" category="section-title">ONTAP SAN</block>
  <block id="1b4288d16f58084404fbffe338e680fb" category="paragraph">Trident支援使用卷宗導入<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> （iSCSI、NVMe/TCP 和 FC）和<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block> 司機。</block>
  <block id="19cfd1d1df86c48cee153f9fbaa31f0f" category="paragraph">Trident可以匯入包含單一 LUN 的ONTAP SAN FlexVol磁碟區。這與<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> 驅動程序，它為每個 PVC 建立一個FlexVol volume，並在FlexVol volume內建立一個 LUN。Trident導入FlexVol volume並將其與 PVC 定義關聯。Trident可以導入<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block> 包含多個 LUN 的磁碟區。</block>
  <block id="854d516b7e1eddbead5cbea0b17dac88" category="paragraph-title">ONTAP SAN 範例</block>
  <block id="76f6a2d1bd679fa4c1b485fed91cd412" category="paragraph">對於託管卷， Trident會將FlexVol volume重新命名為<block ref="b1a57c8f543d163276a264ab84f98485" prefix=" " category="inline-code"></block>FlexVol volume中的 LUN 格式<block ref="1793051c27c3288cfb3a1c86e4e41b41" prefix=" " category="inline-code"></block>。</block>
  <block id="4e0dca66d693b4377c93d787e9d5176a" category="paragraph">以下範例導入了<block ref="9c263b72b293041bdc16e8711bb55a99" prefix=" " category="inline-code"></block>FlexVol volume存在於<block ref="5461c7e570fd7b4318a37f0dceb291c1" prefix=" " category="inline-code"></block>後端：</block>
  <block id="d172829ee06c1c52828b60f0544b2f06" category="paragraph">以下範例導入<block ref="a5c0fa75ec8cf92d22eadab558660dda" prefix=" " category="inline-code"></block>在<block ref="2dec4fe0d108047546d031f48f4073f7" prefix=" " category="inline-code"></block>後端：</block>
  <block id="58f7692a8b6ce5b3fa31b6daec3259fe" category="paragraph">如果將 LUN 對應到與 Kubernetes 節點 IQN 共用相同 IQN 的 igroup，如下例所示，則會收到下列錯誤：<block ref="4524d417d10c9cf90c4a674da76c4964" prefix=" " category="inline-code"></block> 。您需要移除啟動器或取消映射 LUN 才能匯入磁碟區。</block>
  <block id="5ccef908ed30c9dac1afd0a7f3dc5e7f" category="inline-image-macro">LUNS 對應到 iqn 和聚類 iqn 的圖像。</block>
  <block id="81238a539b4fc11fb20c6d27db1e5d33" category="paragraph"><block ref="81238a539b4fc11fb20c6d27db1e5d33" category="inline-image-macro-rx" type="image"></block></block>
  <block id="df1e93e323319db2375e3d3dad7fb9cc" category="paragraph">Trident支援使用NetApp Element軟體和NetApp HCI卷導入<block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block>司機。</block>
  <block id="49fdf43d32dad9fda984acfedf0be04f" category="admonition">Element驅動程式支援重複的磁碟區名稱。但是，如果磁碟區名稱重複， Trident會傳回錯誤。作為一種變通方法，克隆卷，提供一個唯一的磁碟區名稱，然後匯入克隆的磁碟區。</block>
  <block id="d12ef9e4a047861afd11513bde147f35" category="paragraph-title">元素範例</block>
  <block id="e91134286ebcca5f894ca859ce6e6527" category="paragraph">以下範例導入一個<block ref="ce9d6be888db333d9f15ad3ca22aab5c" prefix=" " category="inline-code"></block>後端容量<block ref="54034d50b7e92e0dd9d45b9be754d7bd" prefix=" " category="inline-code"></block>。</block>
  <block id="5c9ef0d871938dccceb29ee63fad8ddb" category="section-title">谷歌雲端平台</block>
  <block id="13bad29adee620ad0bb1075fdf0e45b0" category="paragraph">Trident支援使用以下方式導入磁碟區：<block ref="5935ea92cdd7d975b4e764b429f21c01" prefix=" " category="inline-code"></block>司機。</block>
  <block id="b83141d187ef372685e66e6dfe4cabd9" category="admonition">若要將由NetApp Cloud Volumes Service支援的磁碟區匯入 Google Cloud Platform，請透過磁碟區路徑識別該磁碟區。磁碟區是磁碟區匯出路徑中位於下列位置之後的部分：<block ref="fb256b96ee496724e4579987e5a6e4da" prefix=" " category="inline-code"></block> 。例如，如果匯出路徑是<block ref="3bbe8dafc880d124219c1e4f73d41cf9" prefix=" " category="inline-code"></block>體積路徑為<block ref="8886a1ac9f5b94f2fb54d752c304777f" prefix=" " category="inline-code"></block>。</block>
  <block id="9dfa04a9ad04eba811811f2fbd0f5f0e" category="paragraph-title">Google Cloud Platform 範例</block>
  <block id="dd8d0b5581c0eb32a23d802032124024" category="paragraph">以下範例導入一個<block ref="5935ea92cdd7d975b4e764b429f21c01" prefix=" " category="inline-code"></block>後端容量<block ref="b242744397b7d8bc9391b3e836628c5e" prefix=" " category="inline-code"></block>具有體積路徑<block ref="8886a1ac9f5b94f2fb54d752c304777f" prefix=" " category="inline-code"></block>。</block>
  <block id="781d7167559669ccd02b24925b4be62e" category="paragraph">Trident支援使用以下方式導入磁碟區：<block ref="bc5779a2d33eeb1304bae57f15920cfc" prefix=" " category="inline-code"></block>司機。</block>
  <block id="7501988e9549daa8c2fcd13e55b9fc78" category="admonition">若要匯入Azure NetApp Files，請透過磁碟區路徑識別該磁碟區。磁碟區是磁碟區匯出路徑中位於下列位置之後的部分：<block ref="fb256b96ee496724e4579987e5a6e4da" prefix=" " category="inline-code"></block> 。例如，如果掛載路徑是<block ref="a88065dde27cea3a008a18172c5a9c9e" prefix=" " category="inline-code"></block>體積路徑為<block ref="062b749476713f7b5bbc675159e90bad" prefix=" " category="inline-code"></block>。</block>
  <block id="1cfd9b4e20d41cdca62f758d3b0cb58b" category="paragraph-title">Azure NetApp Files範例</block>
  <block id="bd46b0a8c2c4c89a60ee85052ad2dd0e" category="paragraph">以下範例導入一個<block ref="bc5779a2d33eeb1304bae57f15920cfc" prefix=" " category="inline-code"></block>後端容量<block ref="d8dd89ab9d39f5487714722f9becb468" prefix=" " category="inline-code"></block>體積路徑<block ref="062b749476713f7b5bbc675159e90bad" prefix=" " category="inline-code"></block>。</block>
  <block id="aa39e6a781613c350b8408df39aa0171" category="paragraph">Trident支援使用以下方式導入磁碟區：<block ref="94594b2ccbc8e0d220ad37504461650b" prefix=" " category="inline-code"></block>司機。</block>
  <block id="89df083c083e8cfa84ef1517f2b9e609" category="paragraph-title">Google Cloud NetApp Volumes範例</block>
  <block id="3312627a317726be3901705d655e8582" category="paragraph">以下範例導入一個<block ref="94594b2ccbc8e0d220ad37504461650b" prefix=" " category="inline-code"></block>後端容量<block ref="c082d32d434314708cccf35dd974ac32" prefix=" " category="inline-code"></block>音量<block ref="acdf8df0c694db089171ecaf51f80166" prefix=" " category="inline-code"></block>。</block>
  <block id="94154cfb6a6056267c34a431cd1a4224" category="paragraph">以下範例導入一個<block ref="94594b2ccbc8e0d220ad37504461650b" prefix=" " category="inline-code"></block>當兩個體積存在於同一區域時，體積為：</block>
  <block id="91df12d96329d2a5cdfb509205e68b38" category="summary">Trident提供了多種磁碟區管理功能。了解Trident在大量處理方面所能提供的功能。</block>
  <block id="b42cbc6e68075c106b9faa27e4931091" category="doc">執行批次操作</block>
  <block id="3f21653d19d6382928f806e17a3ab1c4" category="paragraph">了解Trident提供的捲管理功能。</block>
  <block id="690b3c7311638da5eef87f5e07aa1258" category="section-title">管理容量</block>
  <block id="ca5acbb90042e065e5dd4eb793ef320c" category="paragraph">請參考以下內容，以了解如何使用Trident管理您的磁碟區。</block>
  <block id="9e325272e7aed7c7bd6c28ff6fa4a90f" category="list-text"><block ref="9e325272e7aed7c7bd6c28ff6fa4a90f" category="inline-link-macro-rx"></block></block>
  <block id="e5879288a130fbd8d0b8682cfc375c4f" category="inline-link-macro">使用快照</block>
  <block id="c499fa59a1c9a0f6da195782a581f2e3" category="list-text"><block ref="c499fa59a1c9a0f6da195782a581f2e3" category="inline-link-macro-rx"></block></block>
  <block id="56661e701892ff873e44b62ffeec85e5" category="list-text"><block ref="56661e701892ff873e44b62ffeec85e5" category="inline-link-macro-rx"></block></block>
  <block id="c0417f5bbd54c5dc1c3704d6b566fcf3" category="list-text"><block ref="c0417f5bbd54c5dc1c3704d6b566fcf3" category="inline-link-macro-rx"></block></block>
  <block id="022571ee546e1a953d857961a8cd0442" category="paragraph">建立一個使用已設定的 Kubernetes StorageClass 的 PersistentVolumeClaim (PVC) 來要求存取 PV。然後您可以將光伏組件安裝到支架上。</block>
  <block id="79a251ee7369fdcdb0847d35254afcf8" category="paragraph">製作好PVC管後，就可以將管體安裝到管座中。</block>
  <block id="992728eeb1163799bd688cfe5e57035b" category="paragraph-title">PVC管材，附RWO通道</block>
  <block id="cdeec5159e0548de993d76d7d1dcc992" category="paragraph">此範例展示了一個具有 RWO 存取權限的基本 PVC，它與一個名為 StorageClass 的 StorageClass 相關聯。<block ref="1c62ceba602064183a6346b85fe26c96" prefix=" " category="inline-code"></block> 。</block>
  <block id="75c7c68d9eb17c22ec8df28a1e23f275" category="paragraph-title">PVC 和 NVMe/TCP</block>
  <block id="ed463de3671571836f800949d75f3af8" category="paragraph">此範例展示了一個與名為 StorageClass 的 StorageClass 關聯的、具有 RWO 存取權限的 NVMe/TCP 基本 PVC。<block ref="63f9100803e1f67a5e33cbd5da9dbb33" prefix=" " category="inline-code"></block> 。</block>
  <block id="973fab696ba8e345f617c87c4de97607" category="example-title">Pod清單範例</block>
  <block id="15f15289009d52be4af3e9951853eee5" category="paragraph">這些範例展示了將 PVC 連接到艙體的基本配置。</block>
  <block id="416206518e27ed2ec8b8e0876078af35" category="listing-title">基本配置</block>
  <block id="b9fa7c201e2dc76fe12c8bb436c212ee" category="listing-title">基本 NVMe/TCP 配置</block>
  <block id="fb72ca78c839cefc52d39ebcecaf6827" category="paragraph">卷快照受支援<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block>，<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block> ，<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> ，<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block> ，<block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block> ，<block ref="5935ea92cdd7d975b4e764b429f21c01" prefix=" " category="inline-code"></block> ，<block ref="bc5779a2d33eeb1304bae57f15920cfc" prefix=" " category="inline-code"></block> ， 和<block ref="94594b2ccbc8e0d220ad37504461650b" prefix=" " category="inline-code"></block>司機。</block>
  <block id="d0838c5cbd45cca11f4f53eb773d017d" category="paragraph">如果您的 Kubernetes 發行版不包含快照控制器和 CRD，請參閱<block ref="048c22f74eff12037af96b48becdf135" category="inline-xref-macro-rx"></block>。</block>
  <block id="0b8ca2be5f4fe564fb8e843cbc53703d" category="admonition">如果在 GKE 環境中建立按需磁碟區快照，則不要建立快照控制器。  GKE 使用內建的隱藏快照控制器。</block>
  <block id="c4f5303a406f47eb87bf815d986165ee" category="section-title">建立磁碟區快照</block>
  <block id="19476662cd814e0aa085eca121de89b8" category="inline-link-macro">卷快照類</block>
  <block id="86690b5147c7d6867042b834d17ef28b" category="list-text">創建一個<block ref="19476662cd814e0aa085eca121de89b8" prefix=" " category="inline-code"></block>更多信息，請參閱…<block ref="0ad6a602adca2b32136ef84f7518b131" category="inline-link-macro-rx"></block> 。</block>
  <block id="27aa53a8adee533e027b5b2a725716da" category="list-text">這<block ref="e2d45d57c7e2941b65c6ccd64af4223e" prefix=" " category="inline-code"></block>指向Trident CSI 驅動程式。</block>
  <block id="eea37fbd5872936b77e1e2e8a4af0cea" category="list-text"><block ref="98e7d6463271d7848db255ae6467817a" prefix="" category="inline-code"></block>可以<block ref="f2a6c498fb90ee345d997f888fce3b18" prefix=" " category="inline-code"></block>或者<block ref="afece4245269582cb2f1009d4fb52047" prefix=" " category="inline-code"></block>。設定為<block ref="afece4245269582cb2f1009d4fb52047" prefix=" " category="inline-code"></block>即使發生以下情況，儲存叢集上的底層實體快照仍會被保留：<block ref="310a3378435f31620fbc3e7831ac7286" prefix=" " category="inline-code"></block>物件已被刪除。</block>
  <block id="0c9cf2ac15a6b5c5324b08e91b840fa4" category="list-text">建立現有PVC的快照。</block>
  <block id="a599393b295f7ad56a8c7f1d327290de" category="list-text">此範例建立現有 PVC 的快照。</block>
  <block id="8f72fd9aa081cd83550f8e13086b8967" category="list-text">此範例為名為“<block ref="30520f4f96804df83914260b79f55962" prefix=" " category="inline-code"></block>快照名稱設定為<block ref="2599ab7993e15386327b6345bc1cc4e1" prefix=" " category="inline-code"></block>。  VolumeSnapshot 類似於 PVC，並且與某個 PVC 相關聯。<block ref="d6a1ae997b76c43d7aaf3b22e620401e" prefix=" " category="inline-code"></block>代表實際快照的對象。</block>
  <block id="4a2834678b378c24001efcc2f1ca5238" category="list-text">你可以識別出<block ref="d6a1ae997b76c43d7aaf3b22e620401e" prefix=" " category="inline-code"></block>對象為<block ref="2599ab7993e15386327b6345bc1cc4e1" prefix=" " category="inline-code"></block>透過描述來取得磁碟區快照。這<block ref="25fb031d6a134e0fb5a240d6d4c12b01" prefix=" " category="inline-code"></block>識別提供此快照的 VolumeSnapshotContent 物件。這<block ref="a701d928aada0f89c8ad0abc16ccdfcc" prefix=" " category="inline-code"></block>此參數表示快照可用於建立新的 PVC。</block>
  <block id="a7fab4013a8993c3310ee07c7e101fc1" category="section-title">從磁碟區快照建立PVC</block>
  <block id="698ebb07855a850e7bcbd189f9322e21" category="paragraph">您可以使用<block ref="d9d448f70687a1aa1f12b2f5ddaa4977" prefix=" " category="inline-code"></block>使用名為 VolumeSnapshot 的 VolumeSnapshot 建立 PVC<block ref="38741d2dca753415660b08a54f8ad3a9" prefix=" " category="inline-code"></block>作為數據來源。  PVC管製作完成後，可以將其連接到艙體上，並像其他PVC管一樣使用。</block>
  <block id="475fb21c20bb54ea8ac6cb1756aba565" category="inline-link-macro">知識庫：無法在備用後端從Trident PVC 快照建立 PVC。</block>
  <block id="18051638f30f342b517379b11f0442f9" category="admonition">PVC 將在與來源磁碟區相同的後端建立。參考<block ref="0d4d7e7a69b413699039bc9b916a37d5" category="inline-link-macro-rx"></block>。</block>
  <block id="8d9f716dc04d23bb9af0a64fef3bbbd9" category="paragraph">以下範例使用以下方法建立 PVC：<block ref="2599ab7993e15386327b6345bc1cc4e1" prefix=" " category="inline-code"></block>作為資料來源。</block>
  <block id="c2d480d58505386b1609d69c842aaf44" category="section-title">匯入磁碟區快照</block>
  <block id="868f2cc6f424bbd531c3ac4f053a8125" category="inline-link-macro">Kubernetes 預先設定快照流程</block>
  <block id="443fed0e44021bc800c6840b6a2c8191" category="paragraph">Trident支持<block ref="a3174ff04e144786ca73f65ec9b76f58" category="inline-link-macro-rx"></block>使集群管理員能夠創建<block ref="d6a1ae997b76c43d7aaf3b22e620401e" prefix=" " category="inline-code"></block>在Trident之外建立的物件和匯入快照。</block>
  <block id="5de65a931e7f0117030dde1d54eff5f4" category="paragraph">Trident肯定建立或匯入了快照的父卷。</block>
  <block id="a06ecac9b140cf61cd5d4a82c88c488a" category="list-text">*集群管理員：* 建立一個<block ref="d6a1ae997b76c43d7aaf3b22e620401e" prefix=" " category="inline-code"></block>引用後端快照的物件。這將啟動Trident中的快照工作流程。</block>
  <block id="44ce6c838becb17913e38bbe2b0096fe" category="list-text">指定後端快照的名稱<block ref="4ab6864fc58ecd8b598ee10dfe2ac311" prefix=" " category="inline-code"></block>作為<block ref="d42b3f1355513faa92e8e6b438dffc73" prefix=" " category="inline-code"></block>。</block>
  <block id="d480294e263bd9916f014824428ddbca" category="list-text">指定<block ref="62c99546614b1610927a47ea682b6d63" prefix=" " category="inline-code"></block>在<block ref="39133e4ee9648ecb1a2dae934a22788a" prefix=" " category="inline-code"></block>這是外部快照程式提供給Trident的唯一資訊。<block ref="b4dfa9524f461a609ad4726f69b847e9" prefix=" " category="inline-code"></block>稱呼。</block>
  <block id="e0668acdd6b1e131a130998184f4f7fc" category="admonition">這<block ref="8773ea16ee304585aa1da2afd8f25434" prefix=" " category="inline-code"></block>由於 CR 命名限制，有時無法與後端快照名稱完全匹配。</block>
  <block id="90a9b62f2d9107ff002b3ffcff75c334" category="paragraph">以下範例建立了一個<block ref="d6a1ae997b76c43d7aaf3b22e620401e" prefix=" " category="inline-code"></block>引用後端快照的對象<block ref="82645407d5a235bd775551b0a8455cd1" prefix=" " category="inline-code"></block>。</block>
  <block id="b385a638aafc60dc851702d7207b1460" category="list-text">*集群管理員：* 建立<block ref="310a3378435f31620fbc3e7831ac7286" prefix=" " category="inline-code"></block>引用 CR<block ref="d6a1ae997b76c43d7aaf3b22e620401e" prefix=" " category="inline-code"></block>目的。這是對使用權限的請求<block ref="310a3378435f31620fbc3e7831ac7286" prefix=" " category="inline-code"></block>在給定的命名空間中。</block>
  <block id="4fd027fecd2883c25a41ecd68536b1d6" category="paragraph">以下範例建立了一個<block ref="310a3378435f31620fbc3e7831ac7286" prefix=" " category="inline-code"></block>CR命名<block ref="117b36cc8905f43e1ffd580e8b17723b" prefix=" " category="inline-code"></block>指的是<block ref="d6a1ae997b76c43d7aaf3b22e620401e" prefix=" " category="inline-code"></block>命名<block ref="ae79a6ea6405531b451963557819c96a" prefix=" " category="inline-code"></block>。</block>
  <block id="3e36f7927fcc85da94d36bcb51457a89" category="list-text">*內部處理（無需操作）：* 外部快照程式識別新建立的內容<block ref="d6a1ae997b76c43d7aaf3b22e620401e" prefix=" " category="inline-code"></block>並運行<block ref="b4dfa9524f461a609ad4726f69b847e9" prefix=" " category="inline-code"></block>稱呼。Trident創造了<block ref="9a303ae09fee10afe60e5fd9e00e5e45" prefix=" " category="inline-code"></block>。</block>
  <block id="92aa04a2cf75f40187ef422ef48baa9f" category="list-text">外部快照程式設定<block ref="d6a1ae997b76c43d7aaf3b22e620401e" prefix=" " category="inline-code"></block>到<block ref="bdc3aa73b1bbfc0b0212a8f6a8bb2077" prefix=" " category="inline-code"></block>以及<block ref="310a3378435f31620fbc3e7831ac7286" prefix=" " category="inline-code"></block>到<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>。</block>
  <block id="f6e6b6f8bbabf2b4d61efaa16f96f7c7" category="list-text">Trident回歸<block ref="0253f5e864e2646df8eab03ca4f066ee" prefix=" " category="inline-code"></block>。</block>
  <block id="2fae3f8997b56adf73a63fcf9e10a75d" category="list-text">*任何使用者：* 建立一個<block ref="2b3f8e4d49589c4452db0a07d619d824" prefix=" " category="inline-code"></block>參考新的<block ref="310a3378435f31620fbc3e7831ac7286" prefix=" " category="inline-code"></block>，其中<block ref="be455c19a1930c91806853db05c277d9" prefix=" " category="inline-code"></block>（或者<block ref="43cbd4bd62b601d2f5e0b618220b0f44" prefix=" " category="inline-code"></block>名稱是<block ref="310a3378435f31620fbc3e7831ac7286" prefix=" " category="inline-code"></block>姓名。</block>
  <block id="5581736d9cc57d1f1193e52f799c03b2" category="paragraph">以下範例建立一個引用 PVC 的<block ref="310a3378435f31620fbc3e7831ac7286" prefix=" " category="inline-code"></block>命名<block ref="117b36cc8905f43e1ffd580e8b17723b" prefix=" " category="inline-code"></block>。</block>
  <block id="c48edc45b9266a1f0d1869ac35615605" category="section-title">使用快照恢復磁碟區數據</block>
  <block id="4714f3cf4c41291cc2dae88a7150cbe5" category="paragraph">預設情況下，快照目錄是隱藏的，以確保使用以下方式配置的磁碟區的最大相容性：<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block>和<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block>司機。啟用<block ref="a15da8cecb1f1192c4d913b8ba676121" prefix=" " category="inline-code"></block>直接從快照還原資料的目錄。</block>
  <block id="0219777660eb822cd45c74808c60e5e6" category="paragraph">Trident支援快照恢復<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block>，<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block> ，<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block> ，<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block> ，<block ref="bc5779a2d33eeb1304bae57f15920cfc" prefix=" " category="inline-code"></block> ，<block ref="5935ea92cdd7d975b4e764b429f21c01" prefix=" " category="inline-code"></block> ，<block ref="94594b2ccbc8e0d220ad37504461650b" prefix=" " category="inline-code"></block> ， 和<block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block>司機。</block>
  <block id="e0bc0596a7d966cd8dab3ee0e924c9b5" category="paragraph">您必須擁有已綁定的PVC和可用的磁碟區快照。</block>
  <block id="d785d18f53979794a4ef9e08d186e3c4" category="list-text">確認PVC狀態是否已綁定。</block>
  <block id="d0f2b7254060d8a37c98c1eb4289586d" category="list-text">確認磁碟區快照已準備就緒。</block>
  <block id="da6aadede1bc870c9042c660fdf93f25" category="list-text">建立 TASR CR。此範例為PVC建立CR。<block ref="30520f4f96804df83914260b79f55962" prefix=" " category="inline-code"></block>和磁碟區快照<block ref="06f2874897d3ec8426ec85e0ffda5544" prefix=" " category="inline-code"></block>。</block>
  <block id="68fb76b60d3c1f9302a04ef3eb761c08" category="admonition">TASR CR 必須位於 PVC 和 VS 存在的命名空間。</block>
  <block id="0c9991859e53bf37c58a2fd1233eb478" category="list-text">應用 CR 從快照恢復。此範例從快照恢復<block ref="30520f4f96804df83914260b79f55962" prefix=" " category="inline-code"></block>。</block>
  <block id="5a71b77feca506fc8eba218b4e65048b" category="paragraph">Trident從快照中復原資料。您可以驗證快照復原狀態：</block>
  <block id="91f853f4fc1dc83a1a2f28c65af59d28" category="list-text">大多數情況下， Trident不會在操作失敗後自動重試。您需要再次執行此操作。</block>
  <block id="c83b74c2020dd836f5b401ecda0da78c" category="list-text">沒有管理員權限的 Kubernetes 使用者可能需要管理員授予權限才能在其應用程式命名空間中建立 TASR CR。</block>
  <block id="35d57da577b5f55299f7644e8b2de091" category="section-title">刪除包含關聯快照的 PV</block>
  <block id="9d577c00c4cbb5d99e7a8a6589113669" category="paragraph">刪除具有關聯快照的持久性磁碟區時，對應的Trident磁碟區將更新為「正在刪除」狀態。刪除磁碟區快照以刪除Trident磁碟區。</block>
  <block id="d63cadc96caf4b05f8fa532b08e889da" category="list-text"><block ref="d63cadc96caf4b05f8fa532b08e889da" category="inline-link-macro-rx"></block></block>
  <block id="cff310c77e35cf2f693ebbb39c78e89f" category="summary">Trident支援在來源磁碟區和目標磁碟區之間建立鏡像關係，以複製磁碟區進行災難復原。</block>
  <block id="d075b47d76ffc95cce31e3ff1a3bf887" category="paragraph">Trident支援一個叢集上的來源磁碟區與對等叢集上的目標磁碟區之間的鏡像關係，用於複製資料以實現災難復原。  您可以使用名為Trident鏡像關係 (TMR) 的命名空間自訂資源定義 (CRD) 來執行下列操作：</block>
  <block id="a682d8ef86abcae6c5a1db6186c5f02b" category="list-text">在體積（PVC）之間建立鏡像關係</block>
  <block id="31a8f98d3378661a5b8abf15438f0bca" category="list-text">移除磁碟區之間的鏡像關係</block>
  <block id="a6349012892be516e5729d501a9649a7" category="list-text">打破鏡像關係</block>
  <block id="2597cb6d27f572bb6d7d2fd15f414795" category="list-text">在災難情況下（故障轉移）提升備用磁碟區的可用性</block>
  <block id="40f7c55be912a395aed2502927d3fcfa" category="list-text">在計劃內故障轉移或遷移期間，實現應用程式在叢集間的無損遷移。</block>
  <block id="d193cd9a2432eca22e5cf0d06dcee1e6" category="section-title">複製的前提條件</block>
  <block id="55be807bf2be012ff44a04449cc5e8a8" category="paragraph">在開始之前，請確保滿足以下先決條件：</block>
  <block id="3404cce75db90acf6a9d52860721a139" category="list-title">ONTAP叢集</block>
  <block id="fbcc2a3b7506e5e36eb6f61b69bb75da" category="list-text">* Trident *：使用ONTAP作為後端的來源 Kubernetes 叢集和目標 Kubernetes 叢集上必須存在Trident版本 22.10 或更高版本。</block>
  <block id="5cc8ada79224d850ecd22fd22e550c47" category="list-title">對等互連</block>
  <block id="02b05cdd8f0a8c426f307085cc1004f7" category="list-text">*叢集和 SVM*： ONTAP儲存後端必須相互連接。請參閱<block ref="60333a598df416e49fbceb5a88dce370" category="inline-link-rx"></block>了解更多。</block>
  <block id="792f00dfd96560df18fe1c6b56861893" category="list-text">* Trident和 SVM*：對等遠端 SVM 必須可供目標叢集上的Trident使用。</block>
  <block id="0c5e1b5bc54261ccadd2a72af1047ded" category="paragraph-title">支援的驅動程式</block>
  <block id="2d78d4f2531b53f3a4980133900540f7" category="paragraph">NetApp Trident支援使用NetApp SnapMirror技術進行磁碟區複製，該技術使用以下驅動程式支援的儲存類別：**<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block> ：NFS **<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> ：iSCSI **<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> ：FC **<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> ：NVMe/TCP（最低要求ONTAP版本 9.15.1）</block>
  <block id="a6d2a1b8501003e74309a1ac77e249d4" category="admonition">ASA r2 系統不支援使用SnapMirror進行磁碟區複製。有關ASA r2 系統的信息，請參閱<block ref="40f055dd42976ff294174231df35e37e" category="inline-link-macro-rx"></block>。</block>
  <block id="3ce5b83f8896ef0d2e356d3972ec8898" category="section-title">製作鏡面PVC</block>
  <block id="427a1ab7f39ee4f2dd7a0b7e35f572da" category="paragraph">請依照這些步驟，並使用 CRD 範例，在主磁碟區和輔助磁碟區之間建立鏡像關係。</block>
  <block id="4dc69f665f0d76c17a577a352dd15b25" category="list-text">在主 Kubernetes 叢集上執行下列步驟：</block>
  <block id="cffc5263be00a76539edeeff72190d54" category="list-text">使用下列方式建立一個 StorageClass 對象<block ref="23041ca302bab724a5a0a4ee923c745d" prefix=" " category="inline-code"></block>範圍。</block>
  <block id="f1fe26832c26eb686c85bd72da8a62f1" category="list-text">使用先前建立的 StorageClass 建立 PVC。</block>
  <block id="a306778c7affcc4dd2329c7f1e9a6389" category="list-text">使用本機資訊建立鏡像關係變更要求。</block>
  <block id="12551ccb4392cf7715384812c34ff7dc" category="paragraph">Trident取得磁碟區的內部資訊和磁碟區的目前資料保護 (DP) 狀態，然後填入 MirrorRelationship 的狀態欄位。</block>
  <block id="7e36329a511f28054ceb0cb2aba7de3a" category="list-text">取得 TridentMirrorRelationship CR 以取得 PVC 的內部名稱和 SVM。</block>
  <block id="ce01c03f932076e82348fc5aaefacc7d" category="list-text">在輔助 Kubernetes 叢集上執行下列步驟：</block>
  <block id="dbe7fac150e57be9bc0d8e046792f4c3" category="list-text">建立一個 StorageClass，並設定 trident.netapp.io/replication: true 參數。</block>
  <block id="01d68e0f9630c032dc8a33358e46e65b" category="list-text">建立包含目標和來源資訊的鏡像關係 CR。</block>
  <block id="b4dcd7f617380594be36d544e6823841" category="paragraph">Trident將使用配置的關係原則名稱（或ONTAP的預設值）建立SnapMirror關係並對其進行初始化。</block>
  <block id="4ba5d2a91c95149a7ad924ebd0d9503d" category="list-text">建立一個 PVC，使用先前建立的 StorageClass 作為輔助儲存類別（SnapMirror目標）。</block>
  <block id="14c271d9e62dcf6baaab0fde456f080f" category="paragraph">Trident將檢查 TridentMirrorRelationship CRD，如果該關係不存在，則建立磁碟區失敗。如果存在此關係， Trident將確保將新的FlexVol volume放置在與 MirrorRelationship 中定義的遠端 SVM 對等的 SVM 上。</block>
  <block id="e71d1a5cbaac30e63ed507e4b62c705f" category="section-title">卷複製狀態</block>
  <block id="d802b3b47bb3c6b52714c9817598fcb8" category="paragraph">Trident鏡像關係 (TMR) 是一種 CRD，它表示 PVC 之間複製關係的一端。目標 TMR 具有一個狀態，該狀態告訴Trident期望的狀態是什麼。目的地 TMR 具有以下狀態：</block>
  <block id="546afd3b22376f948ae8d790e441d7da" category="list-text">*已建立*：本地 PVC 是鏡像關係的目標量，這是一個新的關係。</block>
  <block id="724cfb5ec8bac42a80699bb79c4eccb9" category="list-text">*已推廣*：本地 PVC 可讀寫且可安裝，目前沒有鏡像關係。</block>
  <block id="d323366aa32e60d08a0f93bda543af47" category="list-text">*重新建立*：本地 PVC 是鏡像關係的目標量，之前也處於該鏡像關係中。</block>
  <block id="4c3cd5b62a43e82e03fffa6b238ed918" category="list-text">如果目標磁碟區曾經與來源磁碟區有關聯，則必須使用重新建立的狀態，因為它會覆寫目標磁碟區的內容。</block>
  <block id="b2e7dc07859cd924ca5706b299986e57" category="list-text">如果磁碟區之前未與來源建立關係，則重新建立狀態將會失敗。</block>
  <block id="93f9c6ccc7d85e709509db31891ae5eb" category="section-title">在計劃外故障切換期間促進輔助PVC的運行</block>
  <block id="4a76c8d930ec18b5aedc26b5d8e5246f" category="paragraph">在輔助 Kubernetes 叢集上執行下列步驟：</block>
  <block id="78ac02218b5a9367bdcb4881538477cc" category="list-text">將 TridentMirrorRelationship 的 _spec.state_ 欄位更新為<block ref="1fe57d6202c7cfbb0ee344b1e0a6fb37" prefix=" " category="inline-code"></block>。</block>
  <block id="ffe4cfc202d643b50342b93a4a11a82f" category="section-title">在計劃故障切換期間推廣備用PVC</block>
  <block id="1d60b89a076d7f30b8efdef50e842f68" category="paragraph">在計劃故障轉移（遷移）期間，執行以下步驟以提升輔助 PVC：</block>
  <block id="3310d9a60c164accb7c262ab6e9fbc65" category="list-text">在主 Kubernetes 叢集上，建立 PVC 的快照，並等待快照建立完成。</block>
  <block id="8b17b79902950942165541a8ab704363" category="list-text">在主 Kubernetes 叢集上，建立 SnapshotInfo CR 以取得內部詳細資訊。</block>
  <block id="678346d79faaa65b2da52e6d7ddce845" category="list-text">在輔助 Kubernetes 叢集上，將 _TridentMirrorRelationship_ CR 的 _spec.state_ 欄位更新為 _promoted_，並將 _spec.promotedSnapshotHandle_ 更新為快照的內部名稱。</block>
  <block id="7b007b14980acd66e9301e02a5670f47" category="list-text">在輔助 Kubernetes 叢集上，確認 TridentMirrorRelationship 的狀態（status.state 欄位）是否已提升。</block>
  <block id="f69101c0107c4bbf8f0ccc9141beb68b" category="section-title">故障轉移後恢復鏡像關係</block>
  <block id="9a023cbe1d3be933d8edb6228f9901ce" category="paragraph">在恢復鏡像關係之前，選擇你想作為新主要方的那一方。</block>
  <block id="1c7011adbcc0afa258396aff4f10266b" category="list-text">在輔助 Kubernetes 叢集上，請確保 TridentMirrorRelationship 上的 _spec.remoteVolumeHandle_ 欄位的值已更新。</block>
  <block id="ffb25f01fda2538ae98bc0c4b4d465a6" category="list-text">在輔助 Kubernetes 叢集上，將 TridentMirrorRelationship 的 _spec.mirror_ 欄位更新為<block ref="036bbe13de7250844b100bc381b59214" prefix=" " category="inline-code"></block>。</block>
  <block id="41a593c0bede63aac2726a18e4599087" category="section-title">附加手術</block>
  <block id="567147b40ff26562a6dfcddbde29e62e" category="paragraph">Trident支援對主磁碟區和輔助磁碟區執行下列操作：</block>
  <block id="253093d00b66ff2357df5085c04b2758" category="section-title">將主PVC複製到新的輔助PVC</block>
  <block id="301dcece9e67241c29ebbbac8a94274e" category="paragraph">請確保您已備有主PVC管及備用PVC管。</block>
  <block id="7f1c32cba6b98d1db7f3dfda1df76189" category="list-text">從已建立的輔助（目標）叢集中刪除 PersistentVolumeClaim 和 TridentMirrorRelationship CRD。</block>
  <block id="e655fd5342cff178f54ae5f5b2a3b7b6" category="list-text">從主（來源）叢集中刪除 TridentMirrorRelationship CRD。</block>
  <block id="3eb69a135044d3f308d140dccb1dbe5e" category="list-text">在主（來源）叢集上為要建立的新輔助（目標）PVC 建立一個新的 TridentMirrorRelationship CRD。</block>
  <block id="92c650dfb6284b5d24ed0e83a2338fa0" category="section-title">調整鏡像、主或次級PVC的尺寸</block>
  <block id="66990a43216d28b5b6818b021d397574" category="paragraph">PVC 可以像往常一樣調整大小，如果資料量超過目前大小， ONTAP將自動擴展任何目標 flevxols。</block>
  <block id="4e2626fed5da19a4be8255f16a331609" category="section-title">從 PVC 移除複製</block>
  <block id="e1abf7fa65d845d34c33d593ed070453" category="paragraph">若要移除複製，請對目前輔助磁碟區執行下列其中一項操作：</block>
  <block id="b3dd2c563dffb09f03c72bc16a72be62" category="list-text">刪除輔助 PVC 上的鏡像關係。這會破壞複製關係。</block>
  <block id="413ab8e64d0d4ccb3f08ef2a8653a525" category="list-text">或者，將 spec.state 欄位更新為 _promoted_。</block>
  <block id="c00cff9971607d7a0409066a0ecc3bcd" category="section-title">刪除一個PVC（之前已鏡像）</block>
  <block id="e52ffc7f9894586bbf7c4260d92073c4" category="paragraph">Trident會檢查是否有複製的 PVC，並在嘗試刪除磁碟區之前釋放複製關係。</block>
  <block id="8ec9c60105332c1be8facc42b496e14b" category="section-title">刪除 TMR</block>
  <block id="a956a14d229badbbde1032651b3586fd" category="paragraph">刪除鏡像關係一側的 TMR 會導致剩餘的 TMR 在Trident完成刪除之前轉換為 _promoted_ 狀態。如果選擇刪除的 TMR 已處於 _promoted_ 狀態，則不存在鏡像關係，TMR 將被刪除， Trident會將本機 PVC 提升為 _ReadWrite_。此刪除操作會釋放ONTAP中本機磁碟區的SnapMirror元資料。如果將來要將此磁碟區用於鏡像關係，則在建立新的鏡像關係時，必須使用具有 _established_ 磁碟區複製狀態的新 TMR。</block>
  <block id="d41660149eb8930ad76a1dfe3dc5f2e3" category="section-title">ONTAP在線時，更新鏡像關係</block>
  <block id="7079164c5ba86439b0719782591106dd" category="paragraph">鏡像關係建立後可以隨時更新。您可以使用<block ref="abb3a949c6d70e3e5d92f4ad2bf143a3" prefix=" " category="inline-code"></block>或者<block ref="ff0b4e3d4dfe8f6074b6943947345d4d" prefix=" " category="inline-code"></block>用於更新關係的欄位。將目標磁碟區提升為常規讀寫磁碟區時，可以使用 _promotedSnapshotHandle_ 指定要將目前磁碟區還原到的特定快照。</block>
  <block id="4eecab048a7c90cfb92e0f04884686e8" category="section-title">ONTAP離線時更新鏡像關係</block>
  <block id="e782fcb9f3e7e8fa8b5ccdb3169c0e42" category="paragraph">您可以使用 CRD 執行SnapMirror更新，而無需Trident與ONTAP叢集直接連線。請參考以下 TridentActionMirrorUpdate 的範例格式：</block>
  <block id="bc08468157c4a9e3a30eed7ba64cc309" category="paragraph"><block ref="1f9dfae8a369525bce4996df40963532" prefix="" category="inline-code"></block>反映 TridentActionMirrorUpdate CRD 的狀況。它可以取值 _成功_、_進行中_或_失敗_。</block>
  <block id="c179bf71b229cad4b31c8b19407ab978" category="summary">使用Trident，您可以在主命名空間中建立磁碟區，並在一個或多個輔助命名空間中共用該磁碟區。</block>
  <block id="19eb1a22d8687def5fb4904d3402728a" category="doc">跨命名空間分享 NFS 卷</block>
  <block id="98f770b0af18ca763421bac22b4b6805" category="section-title">特徵</block>
  <block id="eeef56d54787b9aa6bd579f2e856b658" category="paragraph">TridentVolumeReference CR 可讓您在一個或多個 Kubernetes 命名空間之間安全地共用 ReadWriteMany (RWX) NFS 磁碟區。這種 Kubernetes 原生解決方案具有以下優點：</block>
  <block id="6b456f0abe4c4d2f0beb62e5985136cf" category="list-text">多層級存取控制以確保安全性</block>
  <block id="6e5d93bf8e8aaaa4795a50f012bc8fea" category="list-text">適用於所有Trident NFS 磁碟區驅動程式</block>
  <block id="0ece56dd58b5aabac15e0d0a30553bc0" category="list-text">不依賴 tridentctl 或任何其他非原生 Kubernetes 功能</block>
  <block id="b6fcfcfd30bda2a77ebc74f23270f581" category="paragraph">此圖展示了跨兩個 Kubernetes 命名空間的 NFS 磁碟區共用。</block>
  <block id="45208a2cac11f33c3e6af84d444ac7c5" category="image-alt">跨命名空間共享的概念圖。</block>
  <block id="f5b36cc36c8381e7577788dd4db2019d" category="paragraph">只需幾個步驟即可設定NFS卷共享。</block>
  <block id="32ec9b4824220f8ae03a723da009cd54" category="paragraph-title"><block ref="58f667aaf05f87159670e12bd9bc076b" category="inline-image-macro-rx" type="image"></block>配置源PVC以共享體積</block>
  <block id="fb16fc9d34d26a8e74ba1a7180766513" category="paragraph-title"><block ref="beadfa85a2fdca06b91edc1131c603e6" category="inline-image-macro-rx" type="image"></block>在目標命名空間中建立從屬 PVC</block>
  <block id="33fefc8d535df49d886c4bc78a08e3e5" category="paragraph">目標命名空間的擁有者建立從屬 PVC，以使用來源 PVC 中的資料來源。</block>
  <block id="b23d212300860aa39d44f8fad02636a1" category="paragraph">為確保安全，跨命名空間共用需要來源命名空間擁有者、叢集管理員和目標命名空間擁有者的協作和行動。使用者角色在每個步驟中都會被指定。</block>
  <block id="aae019fccb9b3ffee1ee77e9e5f2377a" category="list-text">*來源命名空間擁有者：* 建立PVC<block ref="30520f4f96804df83914260b79f55962" prefix="(" category="inline-code"></block> ）在來源命名空間中，授予與目標命名空間共享的權限<block ref="6fde1ba4470caca933058264dbfdea2e" prefix="(" category="inline-code"></block>) 使用<block ref="287f26e3328f9ac0f3f4da2cdaddd3e2" prefix=" " category="inline-code"></block>註解。</block>
  <block id="00315912b48f10a3906def68b6887f6c" category="paragraph">Trident建立 PV 及其後端 NFS 儲存磁碟區。</block>
  <block id="365b452a5b5d2d01e1f193fc8bd9bf2c" category="list-text">您可以使用逗號分隔的清單將 PVC 共用給多個命名空間。例如，<block ref="6b31015528f67fe4ce10b7c81957f601" prefix=" " category="inline-code"></block> 。</block>
  <block id="fefd0d1f7e80bb8a4657265696b66694" category="list-text">您可以使用以下方式共用到所有命名空間<block ref="3389dae361af79b04c9c8e7057f60cc6" prefix=" " category="inline-code"></block>。例如，<block ref="e06421e15aa316addc52dd6c697027b7" prefix=" " category="inline-code"></block></block>
  <block id="bac5e1b9773b73b6702dfe25c8a61a05" category="list-text">您可以更新PVC以包含<block ref="287f26e3328f9ac0f3f4da2cdaddd3e2" prefix=" " category="inline-code"></block>隨時可以添加註釋。</block>
  <block id="74e502e81d780e5b5d204969a0d44635" category="list-text">*叢集管理員：*確保已建立適當的 RBAC，以授予目標命名空間擁有者在目標命名空間中建立 TridentVolumeReference CR 的權限。</block>
  <block id="d9bb6497cda089fc4a386c685a97cffa" category="list-text">*目標命名空間擁有者：* 建立PVC<block ref="3f6857fc20ae2372499a71869ac3fe7e" prefix="(" category="inline-code"></block> ）在目標命名空間<block ref="6fde1ba4470caca933058264dbfdea2e" prefix="(" category="inline-code"></block>) 使用<block ref="57c54cbee1c6ed3d5902aa1d8cd1e55a" prefix=" " category="inline-code"></block>註記以指定來源 PVC。</block>
  <block id="e22f320aefbf1cdb3ccd68c26b050060" category="admonition">目標PVC管的尺寸必須小於或等於源PVC管的尺寸。</block>
  <block id="7f2c8022cfb81e20fa274d1e20f4ae7b" category="paragraph">Trident讀取<block ref="57c54cbee1c6ed3d5902aa1d8cd1e55a" prefix=" " category="inline-code"></block>在目標 PVC 上新增註釋，並將目標 PV 建立為沒有自身儲存資源的從屬卷，該磁碟區指向來源 PV 並共用來源 PV 儲存資源。目的地 PVC 和 PV 看起來已正常綁定。</block>
  <block id="a5ddf1dcee266e65795efb120a45d2cb" category="section-title">刪除共享卷</block>
  <block id="a5b25f7f8c74c644f3484c2182ea8a25" category="paragraph">您可以刪除跨多個命名空間共享的磁碟區。 Trident將移除對來源命名空間中該磁碟區的存取權限，並保留對共用該磁碟區的其他命名空間的存取權限。當所有引用該磁碟區的命名空間都被刪除後， Trident會刪除該磁碟區。</block>
  <block id="3f8e335666124e3b7f5db07f03fef0b1" category="section-title">使用<block ref="fed7609223e8cae53e079facb24f3426" prefix=" " category="inline-code"></block>查詢子卷</block>
  <block id="9f2f83b0c97d84774c1d61107283bb68" category="paragraph">使用<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>實用程序，您可以運行<block ref="b5eda0a74558a342cf659187f06f746f" prefix=" " category="inline-code"></block>取得子卷的指令。更多信息，請參閱連結：../trident-reference/tridentctl.html<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix="[" category="inline-code"></block>命令和選項]。</block>
  <block id="1c90ba5cf3791b6148c7887a696911ec" category="paragraph">標誌：</block>
  <block id="b1cc54ad6906d5f41516543bae01e46f" category="list-text"><block ref="490aa9b616d8535386ddf1c7037f79a0" prefix="" category="inline-code"></block>：有關卷的幫助。</block>
  <block id="20668f390d13376c8d13ab4b20a53b5d" category="list-text"><block ref="e3bbbed29599d3e6e29ae22829ad7f13" prefix="" category="inline-code"></block>：將查詢限制在子來源磁碟區上。</block>
  <block id="92c22bb3853554f94f513a2d2f36e8ef" category="list-text"><block ref="aed2a4a749284f757648f1057abf44cd" prefix="" category="inline-code"></block>：將查詢限制在磁碟區的下級。</block>
  <block id="39e92ae6d270535c1cad298373650560" category="list-text">Trident無法阻止目標命名空間寫入共享磁碟區。您應該使用文件鎖定或其他方法來防止覆蓋共享卷資料。</block>
  <block id="87a522ecb9df14bf978f6f1da8a654a8" category="list-text">您無法透過移除來源PVC來撤銷對來源PVC的存取權限。<block ref="287f26e3328f9ac0f3f4da2cdaddd3e2" prefix=" " category="inline-code"></block>或者<block ref="11650d25d20af47978d85fd6e19c89aa" prefix=" " category="inline-code"></block>註釋或刪除<block ref="d6995f631b22fb3f8e94aad1b40d1280" prefix=" " category="inline-code"></block>CR。若要撤銷存取權限，必須刪除從屬 PVC。</block>
  <block id="3908892c437778f8b161a2ca006782cd" category="list-text">從屬磁碟區無法進行快照、複製和鏡像操作。</block>
  <block id="8ff961668c6784e84b25c265cbb629d7" category="paragraph">要了解有關跨命名空間卷訪問的更多資訊：</block>
  <block id="f1cfea5f1444de607dfa549b3aa57010" category="inline-link-macro">在命名空間之間共享卷：迎接跨命名空間卷訪問</block>
  <block id="2780f690b7670efc296ac19ef3029d0c" category="list-text">訪問<block ref="b0d29f1b2abb2cc552e4cc47177582ef" category="inline-link-macro-rx"></block>。</block>
  <block id="96e1384807331548bf745acde0fe1b73" category="inline-link-macro">NetAppTV</block>
  <block id="5ff83dbc70e496ea22b38ea61bb69f05" category="list-text">觀看示範<block ref="c27441bbbe62adf51ae6ecec41fde8bd" category="inline-link-macro-rx"></block>。</block>
  <block id="821b0ad941ad2559ef18eb8de56a470e" category="summary">Kubernetes 叢集中的所有工作節點都需要能夠掛載您為 Pod 設定的磁碟區。如果您的後端使用了 ontap-nas、ontap-nas-economy 或 ontap-nas-flexgroup 驅動程序，則您的工作節點需要 NFS 工具。否則，他們需要 iSCSI 工具。</block>
  <block id="553ac32ac6bcab84d5384eda7468d415" category="paragraph">Kubernetes 叢集中的所有工作節點都必須能夠掛載您為 Pod 設定的磁碟區。若要準備工作節點，您必須根據所選驅動程式安裝 NFS、iSCSI、NVMe/TCP 或 FC 工具。</block>
  <block id="262309361fe5b6dcda3a2eae08a48c2d" category="section-title">選擇合適的工具</block>
  <block id="de6d7aa94730ba882f7284ac8e07a0d1" category="paragraph">如果您使用的是多種驅動程序，則應安裝所有驅動程式所需的工具。最新版本的 Red Hat Enterprise Linux CoreOS (RHCOS) 預設安裝了這些工具。</block>
  <block id="33176aeb27c41088051f460946356423" category="inline-link-macro">安裝 NFS 工具</block>
  <block id="a0b90bbc60c78003c8f066892446e127" category="paragraph"><block ref="5dac8bb8705e3a30615e678be90a7f1d" category="inline-link-macro-rx"></block>如果您正在使用：<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block> ，<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block> ，<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block> ，<block ref="bc5779a2d33eeb1304bae57f15920cfc" prefix=" " category="inline-code"></block> ，<block ref="5935ea92cdd7d975b4e764b429f21c01" prefix=" " category="inline-code"></block> 。</block>
  <block id="15ffa30c3d1ab6322e5ff52935a86a50" category="inline-link-macro">安裝 iSCSI 工具</block>
  <block id="dd1774ab705fcc0738f7d5cfa8176115" category="paragraph"><block ref="918981963bb555a1b3a006c12fd13637" category="inline-link-macro-rx"></block>如果您正在使用：<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> ，<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block> ，<block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block> 。</block>
  <block id="e007fb329975dfac9458f3defd0f7fc1" category="inline-link-macro">安裝 NVMe 工具</block>
  <block id="fd7af40a7e3f81bfb0a51eac257dc730" category="paragraph"><block ref="8ac92b41418caf5b4c74c2a77a0c349a" category="inline-link-macro-rx"></block>如果你正在使用<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block>用於基於 TCP 的非揮發性記憶體高速介面 (NVMe) (NVMe/TCP) 協定。</block>
  <block id="93c5b0ed9261693ca8644540ac8a1cd9" category="admonition">NetApp建議 NVMe/TCP 使用ONTAP 9.12 或更高版本。</block>
  <block id="b709b82e3d76fa5433fd3117387424b7" category="paragraph-title">透過光纖通道 (FC) 進行 SCSI 的工具</block>
  <block id="867cf4bbcb92ecc7017612aafa765813" category="inline-link-macro">配置 FC 和 FC-NVMe SAN 主機的方法</block>
  <block id="67ed8fb72dc668ae9c7c1114df8f02ed" category="paragraph">請參閱<block ref="ee9d56c9130a1d3814c95b35eb7c82a4" category="inline-link-macro-rx"></block>有關配置 FC 和 FC-NVMe SAN 主機的詳細資訊。</block>
  <block id="36b37761159ed00a729b4f6fab9a0f02" category="inline-link-macro">安裝 FC 工具</block>
  <block id="00ea3f7016d7b9a4ad023b106cc1e6d3" category="paragraph"><block ref="7e7b7908484dc2cebc13ec93d8042bd0" category="inline-link-macro-rx"></block>如果你正在使用<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block>使用 sanType<block ref="0f64d0456878c73cbec1ccea842a6f14" prefix=" " category="inline-code"></block> （透過光纖通道進行 SCSI 通訊）。</block>
  <block id="1b9fede0aad66dda6d8b01b66280fff4" category="paragraph">*需要考慮的要點*：* OpenShift 和 KubeVirt 環境支援透過 FC 進行 SCSI 通訊。  * Docker 不支援透過 FC 傳輸 SCSI。  * iSCSI 自癒功能不適用於基於 FC 的 SCSI。</block>
  <block id="d1914bc190cdc3bc9eee6db0c81021bc" category="section-title">節點服務發現</block>
  <block id="16649adc62ed952ba4dac811c548cbfb" category="paragraph">Trident會嘗試自動偵測節點是否可以執行 iSCSI 或 NFS 服務。</block>
  <block id="2b6ab5193160f5eaca51526b15f27e3a" category="admonition">節點服務發現功能可以辨識已發現的服務，但無法保證服務配置正確。反之，未發現服務並不保證卷掛載一定會失敗。</block>
  <block id="6a9c3f120f628091afbdc5343cbbe0e1" category="paragraph-title">回顧事件</block>
  <block id="ff577472362d5ec5388791cc868e283e" category="paragraph">Trident會為節點建立事件，以識別已發現的服務。要查看這些事件，請運行：</block>
  <block id="70db3e5b82bc8c7ce4389fe8a025df28" category="paragraph-title">查看已發現的服務</block>
  <block id="e0dbb340725a054b795eaa2c5ce9925a" category="paragraph">Trident識別Trident節點 CR 上每個節點啟用的服務。若要查看已發現的服務，請執行：</block>
  <block id="b7a66d04a41292979004906785008ca9" category="section-title">NFS卷</block>
  <block id="eeacf148d8ecc80cfae337218dd81f43" category="paragraph">使用適用於您作業系統的命令安裝 NFS 工具。確保NFS服務在啟動時啟動。</block>
  <block id="29ba980a9e9adedc9414ea868c74ebd5" category="section-title">iSCSI 卷</block>
  <block id="5a89f68b37546fc775b3e4fdbaa83f86" category="paragraph">Trident可以自動建立 iSCSI 會話、掃描 LUN、發現多路徑裝置、格式化裝置並將其掛載到 pod 中。</block>
  <block id="e81b5ef34c686914f0cc58204241cace" category="section-title">iSCSI自癒能力</block>
  <block id="f31ad49d6d434380feb4017e7e67844c" category="paragraph">對於ONTAP系統， Trident每五分鐘運行一次 iSCSI 自癒程序，以：</block>
  <block id="432fa9215202553559f7b2d4d10ef5ee" category="list-text">*確定*所需的 iSCSI 會話狀態和目前的 iSCSI 會話狀態。</block>
  <block id="88857aef34da03584f9873d9ae451f35" category="list-text">將理想狀態與目前狀態進行比較，以確定需要進行的維修。  Trident確定維修優先順序以及何時進行搶修。</block>
  <block id="587fcf25ecbc5ff7cf19f7b1a159b5e9" category="list-text">*執行必要的修復*，使目前的 iSCSI 會話狀態恢復到所需的 iSCSI 會話狀態。</block>
  <block id="43b7f6020acce94258b8cd6f49d039e9" category="admonition">自癒活動的日誌位於…<block ref="7883e3d8f80ff24d70c49bd975fb3f75" prefix=" " category="inline-code"></block>對應 Daemonset pod 上的容器。要查看日誌，您必須已設定<block ref="ad42f6697b035b7580e4fef93be20b4d" prefix=" " category="inline-code"></block>在Trident安裝過程中設定為「true」。</block>
  <block id="575a6c9926e4c10d0f01f5a7b5ae5af7" category="paragraph">Trident iSCSI 的自癒功能可以幫助預防：</block>
  <block id="dc5ea7c62b923ea94fb050bf49982b18" category="list-text">網路連線問題後可能出現過期或不健康的 iSCSI 會話。如果會話已過期， Trident會等待七分鐘，然後登出並重新與入口網站建立連線。</block>
  <block id="39460cb84da78b4a87c2014972b2f901" category="admonition">例如，如果儲存控制器上輪換了 CHAP 金鑰，並且網路失去連接，則舊的（過時的）CHAP 金鑰可能會保留下來。自癒功能可以識別這一點，並自動重新建立會話以套用更新後的 CHAP 金鑰。</block>
  <block id="9e9d382760025434fdf113f91e894cf4" category="list-text">缺少 iSCSI 會話</block>
  <block id="3f7bf0ef305a15c68efdc95a50750bd0" category="list-text">缺少 LUN</block>
  <block id="eb80be396693610ba21c23b6b222bb73" category="paragraph">*升級Trident之前需要考慮的要點*</block>
  <block id="b100864b32a36993557470c9854e7e3a" category="list-text">如果僅使用每個節點的 igroup（在 23.04+ 中引入），則 iSCSI 自癒功能將啟動 SCSI 總線上所有裝置的 SCSI 重新掃描。</block>
  <block id="284bb2f9d2596017aa72985df760fdb3" category="list-text">如果僅使用後端範圍的 igroup（自 23.04 版本起已棄用），則 iSCSI 自癒功能將啟動 SCSI 重新掃描，以尋找 SCSI 總線上的確切 LUN ID。</block>
  <block id="0d6cf1de077f00140ee25c03f94e4805" category="list-text">如果同時使用節點級 igroup 和後端級 igroup，iSCSI 自癒功能將啟動 SCSI 重新掃描，以尋找 SCSI 總線上的精確 LUN ID。</block>
  <block id="12fe03bf2457cc4e4e90af10a2f7092f" category="list-text">Kubernetes 叢集中的每個節點都必須有一個唯一的 IQN。這是必要的前提條件。</block>
  <block id="5eb07a7cb7d445ef6bbb17270c65cf52" category="list-text">如果使用 RHCOS 4.5 或更高版本，或其他與 RHEL 相容的 Linux 發行版，則需要執行以下操作：<block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block>對於驅動程式和Element OS 12.5 或更早版本，請確保將 CHAP 驗證演算法設定為 MD5。<block ref="104f48adc29dc1e1d7c9bbe7b5dd3f8d" prefix=" " category="inline-code"></block> Element 12.7 提供符合 FIPS 標準的 CHAP 安全演算法 SHA1、SHA-256 和 SHA3-256。</block>
  <block id="ce557c2f93da665463decf7b19e61b7b" category="list-text">當使用執行 RHEL/Red Hat Enterprise Linux CoreOS (RHCOS) 且具有 iSCSI PV 的工作節點時，請指定<block ref="70f68bb2f748b85de6526bfe236ea1e9" prefix=" " category="inline-code"></block>StorageClass 中的 mountOption 用於執行內嵌空間回收。參考<block ref="65c95aeda8cb0b26307f9839dd3fefbf" category="inline-link-rx"></block>。</block>
  <block id="ef46cb32ba76d79fbc7bfb7586fff578" category="list-text">請確保您已升級至最新版本。<block ref="452b142235e718663e27bc4f162c14ca" prefix=" " category="inline-code"></block> 。</block>
  <block id="5e6c49c79d451ce5d17472c430c69454" category="admonition">確保<block ref="dd5ff67ba72768d33f75e645aa2b8e56" prefix=" " category="inline-code"></block>包含<block ref="2a81b35478c9ccb4f9392dcc40edb8e6" prefix=" " category="inline-code"></block>在下面<block ref="a4a918a45181164207929d52aec36aec" prefix=" " category="inline-code"></block>。</block>
  <block id="1b757fe9c8a149de349a32b8d21feb54" category="admonition">對於 Ubuntu 18.04，您必須使用以下命令發現目標連接埠：<block ref="f88921f58beaaae5bcb9dffac54bf5ad" prefix=" " category="inline-code"></block>開始之前<block ref="356cb36dc1c54ae3f8a7c332c76d7edd" prefix=" " category="inline-code"></block>啟動 iSCSI 守護程式。您也可以修改<block ref="39eea648dab96b0ee6022dabb38bc420" prefix=" " category="inline-code"></block>服務啟動<block ref="3fe4dc8de876aca2c78fa0cd9c6d0b65" prefix=" " category="inline-code"></block>自動地。</block>
  <block id="d03a790fb20fccc8b27cff74c7a10709" category="section-title">配置或停用 iSCSI 自愈</block>
  <block id="35a7465f650e4e342879c89b19aab955" category="paragraph">您可以設定以下Trident iSCSI 自癒設定來修復過期的會話：</block>
  <block id="160cc91d68e6399b864fe236e7a6d11e" category="list-text">*iSCSI 自癒間隔*：決定 iSCSI 自癒的呼叫頻率（預設值：5 分鐘）。你可以透過設定較小的數字來增加運作頻率，或是設定較大的數字來降低運作頻率。</block>
  <block id="af6999fe88eb0d5f3cf5f3c7570bf014" category="paragraph">將 iSCSI 自癒間隔設為 0 將完全停止 iSCSI 自癒功能。我們不建議停用 iSCSI 自癒功能；只有在 iSCSI 自癒功能無法如預期運作或出於除錯目的時，才應停用該功能。</block>
  <block id="fe240a869a7a9e3bdc68d460aa116db2" category="list-text">*iSCSI 自癒等待時間*：確定 iSCSI 自癒在登出不健康的會話並嘗試再次登入之前等待的時間（預設值：7 分鐘）。您可以將其配置為更大的數字，以便被識別為不健康的會話必須等待更長時間才能登出，然後再嘗試重新登入；或配置為較小的數字，以便更快地登出和登入。</block>
  <block id="7c3dfaf40c8f6c1208932661e70ca6b2" category="paragraph">若要配置或變更 iSCSI 自癒設置，請傳遞以下參數：<block ref="a1edaea62dbed344534369e9668223b1" prefix=" " category="inline-code"></block>和<block ref="85fc372a514da766ce84a222668f8e62" prefix=" " category="inline-code"></block>Helm 安裝或 Helm 更新期間的參數。</block>
  <block id="ba53a946a5e7dedfdc75a569107f3a66" category="paragraph">以下範例將 iSCSI 自癒間隔設定為 3 分鐘，自癒等待時間設定為 6 分鐘：</block>
  <block id="c67fd1b99934afa248dfeb285a9a4191" category="open-title">三叉戟</block>
  <block id="03c688458c87383f238f17223a52f7bd" category="paragraph">若要配置或變更 iSCSI 自癒設置，請傳遞以下參數：<block ref="95df96489cc6481c74d24c1397e3edd9" prefix=" " category="inline-code"></block>和<block ref="4ad3b66813348b71002bd232a403581c" prefix=" " category="inline-code"></block>tridentctl 安裝或更新期間的參數。</block>
  <block id="4771a9c521a7d39c2dcf6ee71d0ef032" category="section-title">NVMe/TCP 卷</block>
  <block id="b15a013c4977a2a96afedafe316664b2" category="section-title">驗證安裝</block>
  <block id="d777ba5e4b1ff43d3668b14ef7200bad" category="paragraph">安裝完成後，使用以下命令驗證 Kubernetes 叢集中的每個節點是否具有唯一的 NQN：</block>
  <block id="37ed104d69b44253f63f811d2ac61b38" category="admonition">Trident修改了<block ref="f0523c4334dbbc70205de4279475561a" prefix=" " category="inline-code"></block>確保 NVMe 在路徑中斷時不會放棄路徑的值。請勿更改此設定。</block>
  <block id="d019fe86b16ae6b783603693309fb4c6" category="section-title">SCSI over FC 卷</block>
  <block id="51d8fa0a5eb3f269bad2a2a47a660a2d" category="paragraph">現在您可以使用光纖通道 (FC) 協定和Trident在ONTAP系統上設定和管理儲存資源。</block>
  <block id="822b1839c387749c78601eebc94c8d7d" category="paragraph">配置 FC 所需的網路和節點設定。</block>
  <block id="f508b22c8fc4486b19fee39d5ded3841" category="section-title">網路設定</block>
  <block id="16fdd92def5a71313d6535c74ef67b81" category="inline-link">網路介面顯示</block>
  <block id="e132245ad28668c6b32dee21fb8a3820" category="list-text">取得目標介面的 WWPN。請參閱<block ref="92fd8fd0370792cd397ea6fdc3c8edb0" category="inline-link-rx"></block>了解更多。</block>
  <block id="cc7e69899d736126df9787634ad41870" category="list-text">取得發起方（主機）上介面的 WWPN。</block>
  <block id="1089b965cabd19cfee7f3ef855fbd63d" category="paragraph">請參考對應的主機作業系統實用程式。</block>
  <block id="6f58745fc3a341adae0772d30d9e508c" category="list-text">使用主機和目標的 WWPN 在 FC 交換器上設定區域。</block>
  <block id="54336aa51b161faac4d0ebb1b76b1536" category="paragraph">有關信息，請參閱相應交換機供應商的文檔。</block>
  <block id="299f2e1a529559eb06c9dfbe12ccdea9" category="paragraph">詳情請參閱以下ONTAP文件：</block>
  <block id="d7281ba358054b30594dcd34819057a1" category="inline-link">光纖通道和FCoE分區概述</block>
  <block id="bce9f24194c15bbf6b5ad6cd1d8d1899" category="list-text"><block ref="bce9f24194c15bbf6b5ad6cd1d8d1899" category="inline-link-rx"></block></block>
  <block id="9b9db0b6f6df6361aa97412feea7ae07" category="list-text"><block ref="1a83c479258a4b0e250085c944bae4de" category="inline-link-rx"></block></block>
  <block id="49c51de1f7ef1bb1a3f7996dce0bd162" category="summary">使用此處提供的提示來解決您在安裝和使用Trident時可能遇到的問題。</block>
  <block id="231cf4c70d866b616c21baddaeed0696" category="doc">故障排除</block>
  <block id="ce3d3f85c4d1d4dd7826863d9428b4e5" category="admonition">如需Trident的協助，請使用下列指令建立支援包<block ref="1d41e2024c69110ad6054ffc785ca8e0" prefix=" " category="inline-code"></block>然後將其發送給NetApp支援團隊。</block>
  <block id="163fb9eb00818e2c7109900db1a3cc82" category="section-title">常規故障排除</block>
  <block id="f504c27d1ad305a988958b64f34468cb" category="list-text">如果Trident艙無法正常升空（例如，當Trident艙卡在…中時<block ref="8627ca3ad23f4fb9adc6ba05047004c6" prefix=" " category="inline-code"></block>階段（準備容器少於兩個）運行<block ref="d8ff0b6a743c3e367651a5670557e628" prefix=" " category="inline-code"></block>和<block ref="a4b328a3b4da8017033a2fedd18d09fa" prefix=" " category="inline-code"></block>可以提供更多見解。取得 kubelet 日誌（例如，透過<block ref="15860ae6633dd5eb60d2266c2a6fc03f" prefix=" " category="inline-code"></block>）也可能有所幫助。</block>
  <block id="05d68d1b7214c73141ed12aaed0c2ab5" category="list-text">如果Trident日誌中的資訊不足，您可以嘗試透過傳遞參數來啟用Trident的偵錯模式。<block ref="9b017020b9d48d433ec90c548e6b5c70" prefix=" " category="inline-code"></block>根據您的安裝選項，為安裝參數新增標誌。</block>
  <block id="bc6de9cad530a57dba08ff711f4a6b5f" category="paragraph">然後確認調試模式已設定<block ref="84c78f6343bea2c18a8ded36d1ac1572" prefix=" " category="inline-code"></block>並正在尋找<block ref="53df56868ef061c403e1b925399eeac6" prefix=" " category="inline-code"></block>在日誌中。</block>
  <block id="8e95ae46f32b05cf983c93e608530e36" category="list-text">已安裝操作員</block>
  <block id="94912f7fb206038e8527957b44dfbf25" category="paragraph">這將重新啟動所有Trident pod，這可能需要幾秒鐘。您可以透過觀察輸出結果中的“AGE”列來驗證這一點。<block ref="ae7c84a6e027b78ae530cc1b0b98ac3c" prefix=" " category="inline-code"></block> 。</block>
  <block id="ff880370a59a3edf263703cf427ef61b" category="paragraph">適用於Trident 20.07 和 20.10 版本<block ref="5d50f02b16b5f3c834b39c00b5adcf4f" prefix=" " category="inline-code"></block>代替<block ref="b9b2e8f293392f4f25fc8a59b9522d84" prefix=" " category="inline-code"></block>。</block>
  <block id="79b91d0489c081de6794796638793787" category="list-text">使用 Helm 安裝</block>
  <block id="d356d628089d439d75e3f85564372658" category="list-text">使用 tridentctl 安裝</block>
  <block id="27e9bd9989c090489f69126b9910d7d8" category="list-text">您也可以透過新增以下命令來取得每個後端的偵錯日誌。<block ref="effa2d809c72dcb6cce15a1e0b040e63" prefix=" " category="inline-code"></block>在您的後端定義中。例如，包括<block ref="825a719baa5b5b7445c98535815fac39" prefix=" " category="inline-code"></block>取得Trident日誌中的 API 呼叫和方法遍歷。現有後端可以有<block ref="effa2d809c72dcb6cce15a1e0b040e63" prefix=" " category="inline-code"></block>配置為<block ref="ad782b779edfd8199198bed41b3e3b6b" prefix=" " category="inline-code"></block>。</block>
  <block id="3992b498f2510c20f4dc0df9804e6038" category="list-text">使用 Red Hat Enterprise Linux CoreOS (RHCOS) 時，請確保：<block ref="3fe4dc8de876aca2c78fa0cd9c6d0b65" prefix=" " category="inline-code"></block>在工作節點上已啟用，並且預設已啟動。這可以透過使用 OpenShift MachineConfigs 或修改 Ignition 模板來實現。</block>
  <block id="154244be43a4ba50080a256f5657b29a" category="list-text">使用Trident時可能會遇到的常見問題是…<block ref="4568986ef6397d7c901269fc0e190ede" category="inline-link-rx"></block>指的是租用戶和用戶端金鑰來自權限不足的應用程式註冊。有關Trident要求的完整列表，請參閱<block ref="afedf4ee56554ea6e6b54e6aa206680c" category="inline-link-macro-rx"></block>配置。</block>
  <block id="7f0ecdfa510b31b01d331c2760643b83" category="list-text">如果將光電系統安裝到貨櫃上遇到問題，請確保：<block ref="7a31649dd02ecf0349542b72f9d5ef54" prefix=" " category="inline-code"></block>已安裝並正在運行。使用主機作業系統所需的軟體包管理器並檢查是否<block ref="7a31649dd02ecf0349542b72f9d5ef54" prefix=" " category="inline-code"></block>正在運行。您可以查看以下狀態：<block ref="7a31649dd02ecf0349542b72f9d5ef54" prefix=" " category="inline-code"></block>透過運行服務<block ref="461bc51ac38341d1d2fdae2e84bc6e47" prefix=" " category="inline-code"></block>或其等效物。</block>
  <block id="78aeadc89feb4cf244398a7d35a0d656" category="list-text">如果Trident後端報告它處於<block ref="26934eb377001f66e37289a5c93fe284" prefix=" " category="inline-code"></block>儘管之前運行正常，但當前狀態可能是由於更改了與後端關聯的 SVM/管理員憑證所致。使用以下方式更新後端訊息<block ref="defd1e55f93269ac9278afc086951ba8" prefix=" " category="inline-code"></block>或者晃動Trident煙囪就能解決這個問題。</block>
  <block id="b851cfc28cd6e5cb9aaf87bdb59a68aa" category="list-text">如果在使用 Docker 作為容器執行時安裝Trident時遇到權限問題，請嘗試使用下列方式安裝Trident：<block ref="acbc9344b624715d4749280f7e4a5b49" prefix=" " category="inline-code"></block>旗幟。這樣就不會使用安裝程式 pod，以避免因以下原因導致的權限問題：<block ref="c84ef67352bb6783ff2881f9f2821c2a" prefix=" " category="inline-code"></block>用戶。</block>
  <block id="6f7d49547ff47cfaf1fd93d134b603be" category="list-text">使用<block ref="9a259632da28fe06c1ce5125984d3597" prefix=" " category="inline-code"></block>用於清理運行失敗後的殘局。預設情況下，該腳本不會刪除Trident建立的 CRD，因此即使在執行的部署中，卸載和重新安裝也是安全的。</block>
  <block id="f1112223b41fddc71fd6a626582dfb78" category="inline-link">Trident版</block>
  <block id="629ac35dda697ad18f8fef7094213871" category="list-text">如果您想要降級到早期版本的Trident，請先執行以下指令：<block ref="ac8650577d1b744589a6a11b60ac38c7" prefix=" " category="inline-code"></block>移除Trident的指令。下載所需文件<block ref="f3d78353f8dac3e49bbefeb5f6a2383b" category="inline-link-rx"></block>並使用以下方式安裝<block ref="430bf77bee6c59d385d4194f84c21b16" prefix=" " category="inline-code"></block>命令。</block>
  <block id="51748ba3d16ecfd8c45c7ebf2043b738" category="list-text">安裝成功後，如果PVC管卡在…<block ref="2d13df6f8b5e4c5af9f87e0dc39df69d" prefix=" " category="inline-code"></block>階段，運行<block ref="703698f580eb41aee04574750a78238d" prefix=" " category="inline-code"></block>可以提供更多關於Trident為何未能為此PVC配置PV的資訊。</block>
  <block id="c966bdf80a661ce3909786b6f622340b" category="section-title">使用操作員部署Trident失敗</block>
  <block id="0e89989064bf4afdc37fd5a7be4f607d" category="paragraph">如果您使用 Operator 部署Trident ，則狀態為：<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block>變化來自<block ref="2763f33c904a183bd0ef06f9c4fb4403" prefix=" " category="inline-code"></block>到<block ref="98dd43dfae05b11befe1f140e0ec787a" prefix=" " category="inline-code"></block>。如果你觀察<block ref="d7c8c85bf79bbe1b7188497c32c3b0ca" prefix=" " category="inline-code"></block>如果操作員處於異常狀態且無法自行恢復，則應執行以下命令檢查操作員的日誌：</block>
  <block id="df9771dbb13da45493e576499910c0b4" category="paragraph">追蹤 trident-operator 容器的日誌可以指出問題所在。例如，在與外界隔離的環境中，可能無法從上游鏡像倉庫拉取所需的容器鏡像。</block>
  <block id="0fd4c6187c561958bc76052df7774593" category="paragraph">要了解為什麼Trident安裝失敗，您應該查看以下內容：<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block>地位。</block>
  <block id="1e054f4c292a5388d6318461fe73d749" category="paragraph">此錯誤表示已存在<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block>用於安裝Trident 的程式。由於每個 Kubernetes 叢集只能有一個Trident實例，因此 Operator 會確保在任何給定時間都只有一個活躍的 Trident 實例。<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block>它能夠創造。</block>
  <block id="568fcf9beb0dbd37c57dff251a3164ed" category="paragraph">此外，觀察Trident艙的狀態通常可以顯示是否有異常情況。</block>
  <block id="f89c17ddb9f8bdaf5c95a466d5f6a500" category="paragraph">您可以清楚地看到，由於一個或多個容器鏡像未獲取，因此 pod 無法完全初始化。</block>
  <block id="d57d1a6de03b2ddf3ee54f680152e2b6" category="paragraph">要解決這個問題，你應該編輯<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block>CR。或者，您可以刪除<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block>並根據修改後的準確定義建立一個新的定義。</block>
  <block id="ccfca578972ee86c982797bc2898fe5b" category="section-title">使用Trident部署失敗<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block></block>
  <block id="021e9ae5361eb14975bf9a30f99770f5" category="paragraph">為了幫助找出出錯的原因，您可以再次執行安裝程式：<block ref="9b017020b9d48d433ec90c548e6b5c70" prefix="" category="inline-code"></block>使用此參數將開啟調試模式，幫助您了解問題所在：</block>
  <block id="01539f4f1fd20792cbbae6bb0506cc20" category="paragraph">解決問題後，您可以依照下列步驟清理安裝，然後執行：<block ref="430bf77bee6c59d385d4194f84c21b16" prefix=" " category="inline-code"></block>再次執行命令：</block>
  <block id="f61e7737805bc6c31f70cc744f0be580" category="paragraph">您可以完全移除Trident以及所有建立的 CRD 和相關的自訂資源。</block>
  <block id="bf33d5f4492b83e480e02a87c13bea8f" category="admonition">此操作無法撤銷。除非你想全新安裝Trident，否則不要這樣做。若要在不刪除 CRD 的情況下卸載Trident ，請參閱<block ref="09e567d3102352bdd3a5975f49a136db" category="inline-link-macro-rx"></block>。</block>
  <block id="7e8fc4df4a520d5e63be7a3cceaf49b6" category="paragraph">若要解除安裝Trident並使用Trident運算子徹底刪除 CRD，請執行下列操作：</block>
  <block id="48402172a8740f09fa3a5295a3c776f2" category="paragraph">使用 Helm 卸載Trident並徹底刪除 CRD：</block>
  <block id="fca562606bcefc58d4a718783c1b96d2" category="paragraph">解除Trident後，若要徹底刪除 CRD，請使用<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block></block>
  <block id="35f748582b65670a3f27a7f93c685560" category="section-title">Kubernetes 1.26 版本中，使用 RWX 原始區塊命名空間時，NVMe 節點卸載失敗</block>
  <block id="02c0c037ba3f051d21fbf3a2f370eb72" category="paragraph">如果您使用的是 Kubernetes 1.26，則在使用 NVMe/TCP 和 RWX 原始區塊命名空間時，節點取消暫存可能會失敗。以下方案提供了應對此故障的變通方法。或者，您可以將 Kubernetes 升級到 1.27 版本。</block>
  <block id="14b443235c9f911289e8e2d0bad3eaf2" category="section-title">刪除了命名空間和 pod。</block>
  <block id="4432cfcacafa1abcedd4043a54b77f9f" category="paragraph">設想這樣一個場景：你將一個Trident管理的命名空間（NVMe 持久卷）附加到一個 pod 上。如果直接從ONTAP後端刪除命名空間，則在嘗試刪除 pod 後，取消暫存程序會卡住。此情況不會影響 Kubernetes 叢集或其他功能。</block>
  <block id="31accf88e60e15e200ac055e6344c912" category="paragraph">從對應的節點卸載持久性磁碟區（與該命名空間對應），並將其刪除。</block>
  <block id="5d84bf099896e3a304a067d7c5f71db1" category="section-title">阻塞資料LIF</block>
  <block id="e80aabfb35c98e66a71baf6a3c90a7df" category="paragraph">啟動 dataLIFS 以恢復全部功能。</block>
  <block id="5afe86ac983ac04ac6d9268beb2bc024" category="section-title">已刪除命名空間映射</block>
  <block id="9b0dbff182f270b33423b281f92bddc2" category="paragraph">添加<block ref="a564a902c12941efa27c1d2ea4a19f8e" prefix=" " category="inline-code"></block>返回子系統。</block>
  <block id="ed323fee394548d260c31d933876b771" category="section-title">當預期啟用“v4.2-xattrs”時，NFSv4.2 用戶端在升級ONTAP後報告“無效參數”</block>
  <block id="b9785b666a04771c63b539840201a4db" category="paragraph">升級ONTAP後，NFSv4.2 用戶端在嘗試掛載 NFSv4.2 匯出時可能會報告「無效參數」錯誤。當<block ref="5a54626559918ca9ebb6414eebaa97bf" prefix=" " category="inline-code"></block> SVM 上未啟用該選項。.解決方法啟用<block ref="5a54626559918ca9ebb6414eebaa97bf" prefix=" " category="inline-code"></block> 選項或升級至ONTAP 9.12.1 或更高版本，預設此選項為啟用。</block>
  <block id="65edeac74973a1ff99e0e74473ca1ac5" category="sidebar">Trident是由NetApp維護的開源儲存配置器和編排器。它允許您為由 Docker 和 Kubernetes 管理的容器化應用程式建立儲存磁碟區。</block>
  <block id="7d0ee6fed10d3d4e5c9ee496729ab519" category="sidebar">發行說明</block>
  <block id="93168a8084b3e838d2932c4734bd234e" category="sidebar">早期版本</block>
  <block id="312b0dc38b01ff32c1b2f5f81ee1ab2d" category="sidebar">使用Trident操作員進行部署</block>
  <block id="e0e3d7f1aacdf4a8196132549709430c" category="sidebar">使用 tridentctl 進行部署</block>
  <block id="386307d41b3f4169a1e6e046a727cdd2" category="sidebar">使用Trident運營商進行升級</block>
  <block id="c2be0dce836d12b399a864c7019c6c72" category="sidebar">使用Trident</block>
  <block id="a2d3ef10e2d8aae09270e11f8faea2d2" category="sidebar">進階資料管理和保護</block>
  <block id="6274fe9ce01bdde4e27e80b7958fb714" category="sidebar">使用Trident Protect 進行進階資料保護</block>
  <block id="1251ea693b8f0b6da19ce6991115faa0" category="sidebar">部署Trident保護</block>
  <block id="81a123ccab93cd947289b672b0e50348" category="sidebar">演示和教程</block>
  <block id="c2cad626583e84ad7681ff1f879baed0" category="sidebar">Trident視頻</block>
  <block id="813011e2103649bb71f124adedcc10ea" category="sidebar">部落格和社區</block>
  <block id="d59c00abbeaf33a9a094b3a69c563405" category="sidebar">NetApp</block>
  <block id="8f5cc6430613f1c12f36965050bb7197" category="sidebar">不和諧</block>
  <block id="19cd85517cccf8e142cb03b4a1b778b8" category="sidebar">Trident文件</block>
  <block id="33871b6190a8d5adbe8b15282054766c" category="sidebar">什麼是新的</block>
  <block id="47edbb9e6d6e6e874eb40c274a0e2e0f" category="sidebar">部落格文章</block>
  <block id="0adc03eac86772ad2c75c8f140be417e" category="sidebar">知識和支持</block>
  <block id="483a5da192f46e3cfe8391d3ef234fc4" category="sidebar">常見問題解答</block>
  <block id="fabfc25ef8996fd90836e58a4c0b26b6" category="sidebar">獲取協助</block>
  <block id="cbe339e53da479584b62fcdaed7006c1" category="sidebar">Trident概述</block>
  <block id="0460583622f03a52d7693094d6fa2452" category="sidebar">概念</block>
  <block id="46921a75e8534ad7d1c379a9e3aec033" category="sidebar">安裝概述</block>
  <block id="3183dc3907c0b67930b221a316c94cb2" category="sidebar">使用Trident操作員進行安裝</block>
  <block id="ca19905e19a036badc8a33897130382d" category="sidebar">手動部署Trident操作員（標準）</block>
  <block id="ef39c7f15f2671234f3264999cce5679" category="sidebar">手動部署Trident操作員（離線）</block>
  <block id="0f441bb0252fa34f85fc82a08f2db0c7" category="sidebar">使用Trident頭盔圖表（標準）</block>
  <block id="70eb578fbddf25c465d8f4886be750b7" category="sidebar">使用Trident Helm Chart（離線）</block>
  <block id="0e9e7400617f4a815b5ec92f2030b580" category="sidebar">使用 OpenShift 認證操作員進行安裝</block>
  <block id="93e4eff1c01241084bfc9427074bacea" category="sidebar">使用 OpenShift OperatorHub 安裝Trident</block>
  <block id="c9e3d6c8fc80db4773cf69e205f2b571" category="sidebar">從Trident社群操作員切換到 O​​penShift 認證操作員</block>
  <block id="c95d3f2a880ad1b81926c3a78c2294ed" category="sidebar">管理與監控Trident</block>
  <block id="71f5771dab663d80ba4dad1627e3386a" category="sidebar">升級概述</block>
  <block id="5ff3faebb0ff710340bdbee89a4667ad" category="sidebar">透過營運商進行升級</block>
  <block id="6c3cb2816fa53d1d99c44a111d9f7206" category="sidebar">使用Trident Protect 保護應用程式</block>
  <block id="f284d92e4bd22a3c7a76bfe530ddd899" category="sidebar">管理Trident保護</block>
  <block id="3f94255d3ae6517615821f8939ba6230" category="sidebar">管理授權和存取控制</block>
  <block id="1ae067a03c56065918252f36c73024d1" category="sidebar">管理和保護應用程式</block>
  <block id="618ce5e44021c1c57c9655e5e3846eda" category="sidebar">使用 AppVault 物件管理儲存桶</block>
  <block id="80b940e5c68d020c06f9dc2f188d2169" category="sidebar">定義一個管理應用程式</block>
  <block id="ca73b42f56baa81e1c83e31ee5c53d42" category="sidebar">保護應用程式</block>
  <block id="ff29014f3961a30f52557df7142d1a65" category="sidebar">恢復應用程式</block>
  <block id="27f5153068cecd37b6fa4a136586658d" category="sidebar">使用進階設定</block>
  <block id="73ff2f0e4c750901167edccad459407d" category="sidebar">使用NetApp SnapMirror複製應用程式</block>
  <block id="5d23a9c0c55a80ece74daa65c04f1d66" category="sidebar">遷移應用程式</block>
  <block id="793ba052e921b84a44dd053d68f45012" category="sidebar">使用Trident Protect 管理執行鉤子</block>
  <block id="a20f982d79c3dd66d244ffe0f7d940ee" category="sidebar">最佳實踐和建議</block>
  <block id="4182ceafe6e7afa67be49e639a8fa3a9" category="sidebar">Trident集成</block>
  <block id="301ebdf8067a213d5a55c65fbb488290" category="sidebar">安全建議</block>
  <block id="63d5049791d9d79d86e9a108b0a999ca" category="sidebar">參考</block>
  <block id="5248a0897439d95866d14416e307c927" category="sidebar">設定和管理後端</block>
  <block id="58834b137fd6fa7a9ca23468a5c91fd6" category="sidebar">準備配置</block>
  <block id="19ce3b2e7823907e5153f00fe04f64f7" category="sidebar">配置選項和範例</block>
  <block id="6fc0b7515ecca271c88eae4a685da613" category="sidebar">NetApp HCI或SolidFire</block>
  <block id="53f64465dc89ebfc8f426b3cdf4d1614" category="sidebar">建立 IAM 角色和 AWS Secret</block>
  <block id="0a3c6c3b1b9418c792ec73b934ca8fdd" category="sidebar">配置儲存後端</block>
  <block id="50399b7d6597b32502708277dd2be03c" category="sidebar">配置儲存等級和PVC</block>
  <block id="e41a00202d1138f85f18e0c7afdb0955" category="sidebar">在 EKS 叢集上設定Trident EKS 插件</block>
  <block id="af5d3eba040f5bcf3d3f037b574766c8" category="sidebar">管理後端</block>
  <block id="bcca457a84376733a80b2dfad749e939" category="sidebar">使用 kubectl 管理後端</block>
  <block id="e9e5f94eb04c1889f891ad75fd929b4b" category="sidebar">使用 tridentctl 管理後端</block>
  <block id="95408f23568d6e604d1f49a1bf3ff238" category="sidebar">建立和管理儲存類</block>
  <block id="76114b40ddbaf2bf18e9aee694563b40" category="sidebar">配置和管理卷</block>
  <block id="e8ce47501426b8525633fc30daf17d7a" category="sidebar">自訂磁碟區名稱</block>
  <block id="f18a50f02f48551895d57b81dd288142" category="sidebar">跨命名空間分享 NFS 卷</block>
  <block id="62486fa65fc31c383ace8989549632ad" category="sidebar">使用快照</block>
</blocks>