---
sidebar: sidebar 
permalink: trident-concepts/virtual-storage-pool.html 
keywords: virtual pools, Trident, backends 
summary: 虛擬池在 Trident 的儲存後端和 Kubernetes 的 StorageClasses 之間提供了一個抽象層。它們允許管理員以通用的、與後端無關的方式為每個後端定義位置、效能和保護等方面，而無需讓 StorageClass 指定要使用哪個實體後端、後端池或後端類型來滿足所需標準。 
---
= 虛擬池
:hardbreaks:
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
虛擬池在Trident儲存後端和 Kubernetes 之間提供了一個抽象層。 `StorageClasses` 。它們允許管理員以通用的、與後端無關的方式定義每個後端的各個方面，例如位置、效能和保護，而無需建立單獨的配置。 `StorageClass`指定要使用的實體後端、後端池或後端類型，以滿足所需條件。



== 了解虛擬泳池

儲存管理員可以在任何Trident後端上，透過 JSON 或 YAML 定義檔定義虛擬池。

image::virtual_storage_pools.png[展示了虛擬池的概念圖。]

在虛擬池列表之外指定的任何方面對於後端都是全域的，並將應用於所有虛擬池；而每個虛擬池可以單獨指定一個或多個方面（覆蓋任何後端全域方面）。

[NOTE]
====
* 定義虛擬池時，請勿嘗試重新排列後端定義中現有虛擬池的順序。
* 我們不建議修改現有虛擬池的屬性。您需要定義一個新的虛擬池來進行變更。


====
大多數方面都是用後端特有的術語來描述的。至關重要的是，這些方面值不會暴露在後端驅動程式之外，也無法用於匹配。 `StorageClasses`相反，管理員可以為每個虛擬池定義一個或多個標籤。每個標籤都是一個鍵值對，標籤可能在不同的後端中是相同的。與方麵類似，標籤可以針對每個池進行指定，也可以全域指定到後端。與具有預先定義名稱和值的方面不同，管理員可以完全自主地根據需要定義標籤鍵和值。為了方便起見，儲存管理員可以為每個虛擬池定義標籤，並按標籤將磁碟區分組。

可以使用以下字元來定義虛擬池標籤：

* 大寫字母 `A-Z`
* 小寫字母 `a-z`
* 數位 `0-9`
* 底線 `_`
* 連字符 `-`


一個 `StorageClass`透過引用選擇器參數中的標籤來確定要使用的虛擬池。虛擬池選擇器支援以下運算符：

[cols="14%,34%,52%"]
|===
| 操作員 | 例子 | 池的標籤值必須： 


| `=` | 性能=優質 | 匹配 


| `!=` | 性能！ =極限 | 不匹配 


| `in` | 位置在（東，西） | 屬於價值集合。 


| `notin` | 表演獎（銀獎、銅獎） | 不在值集中 


| `<key>` | 保護 | 存在且具有任意值 


| `!<key>` | ！保護 | 不存在 
|===